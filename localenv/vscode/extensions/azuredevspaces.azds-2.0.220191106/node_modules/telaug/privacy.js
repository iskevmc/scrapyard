"use strict";
//
//  Copyright (c) Microsoft Corporation. All rights reserved.
//
Object.defineProperty(exports, "__esModule", { value: true });
// Note: this file is a duplicate of vscode-command-framework/src/tracing/privacy.ts
const crypto = require("crypto");
class Privacy {
    static setKey(privacyKeyBase64) {
        Privacy.privacyKey = Buffer.from(privacyKeyBase64, 'base64');
    }
    static getShortHash(value) {
        if (!value) {
            return '<null>';
        }
        else if (!Privacy.privacyKey) {
            return '<redacted>';
        }
        const hmac = crypto.createHmac('sha256', Privacy.privacyKey);
        hmac.update(value);
        return hmac.digest('hex').substr(0, 8);
    }
}
exports.Privacy = Privacy;
//# sourceMappingURL=privacy.js.map