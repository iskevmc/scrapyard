(()=>{var ml={9669:(o,D,v)=>{o.exports=v(1609)},5448:(o,D,v)=>{"use strict";var R=v(4867),T=v(6026),E=v(4372),g=v(5327),d=v(4097),f=v(4109),m=v(7985),h=v(5061);o.exports=function(y){return new Promise(function(Q,C){var k=y.data,S=y.headers;R.isFormData(k)&&delete S["Content-Type"];var x=new XMLHttpRequest;if(y.auth){var G=y.auth.username||"",W=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";S.Authorization="Basic "+btoa(G+":"+W)}var j=d(y.baseURL,y.url);if(x.open(y.method.toUpperCase(),g(j,y.params,y.paramsSerializer),!0),x.timeout=y.timeout,x.onreadystatechange=function(){if(!(!x||x.readyState!==4)&&!(x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0))){var H="getAllResponseHeaders"in x?f(x.getAllResponseHeaders()):null,O=!y.responseType||y.responseType==="text"?x.responseText:x.response,I={data:O,status:x.status,statusText:x.statusText,headers:H,config:y,request:x};T(Q,C,I),x=null}},x.onabort=function(){!x||(C(h("Request aborted",y,"ECONNABORTED",x)),x=null)},x.onerror=function(){C(h("Network Error",y,null,x)),x=null},x.ontimeout=function(){var H="timeout of "+y.timeout+"ms exceeded";y.timeoutErrorMessage&&(H=y.timeoutErrorMessage),C(h(H,y,"ECONNABORTED",x)),x=null},R.isStandardBrowserEnv()){var X=(y.withCredentials||m(j))&&y.xsrfCookieName?E.read(y.xsrfCookieName):void 0;X&&(S[y.xsrfHeaderName]=X)}if("setRequestHeader"in x&&R.forEach(S,function(H,O){typeof k=="undefined"&&O.toLowerCase()==="content-type"?delete S[O]:x.setRequestHeader(O,H)}),R.isUndefined(y.withCredentials)||(x.withCredentials=!!y.withCredentials),y.responseType)try{x.responseType=y.responseType}catch(A){if(y.responseType!=="json")throw A}typeof y.onDownloadProgress=="function"&&x.addEventListener("progress",y.onDownloadProgress),typeof y.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",y.onUploadProgress),y.cancelToken&&y.cancelToken.promise.then(function(H){!x||(x.abort(),C(H),x=null)}),k||(k=null),x.send(k)})}},1609:(o,D,v)=>{"use strict";var R=v(4867),T=v(1849),E=v(321),g=v(7185),d=v(5655);function f(h){var w=new E(h),y=T(E.prototype.request,w);return R.extend(y,E.prototype,w),R.extend(y,w),y}var m=f(d);m.Axios=E,m.create=function(w){return f(g(m.defaults,w))},m.Cancel=v(5263),m.CancelToken=v(4972),m.isCancel=v(6502),m.all=function(w){return Promise.all(w)},m.spread=v(8713),m.isAxiosError=v(6268),o.exports=m,o.exports.default=m},5263:o=>{"use strict";function D(v){this.message=v}D.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},D.prototype.__CANCEL__=!0,o.exports=D},4972:(o,D,v)=>{"use strict";var R=v(5263);function T(E){if(typeof E!="function")throw new TypeError("executor must be a function.");var g;this.promise=new Promise(function(m){g=m});var d=this;E(function(m){d.reason||(d.reason=new R(m),g(d.reason))})}T.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},T.source=function(){var g,d=new T(function(m){g=m});return{token:d,cancel:g}},o.exports=T},6502:o=>{"use strict";o.exports=function(v){return!!(v&&v.__CANCEL__)}},321:(o,D,v)=>{"use strict";var R=v(4867),T=v(5327),E=v(782),g=v(3572),d=v(7185);function f(m){this.defaults=m,this.interceptors={request:new E,response:new E}}f.prototype.request=function(h){typeof h=="string"?(h=arguments[1]||{},h.url=arguments[0]):h=h||{},h=d(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var w=[g,void 0],y=Promise.resolve(h);for(this.interceptors.request.forEach(function(Q){w.unshift(Q.fulfilled,Q.rejected)}),this.interceptors.response.forEach(function(Q){w.push(Q.fulfilled,Q.rejected)});w.length;)y=y.then(w.shift(),w.shift());return y},f.prototype.getUri=function(h){return h=d(this.defaults,h),T(h.url,h.params,h.paramsSerializer).replace(/^\?/,"")},R.forEach(["delete","get","head","options"],function(h){f.prototype[h]=function(w,y){return this.request(d(y||{},{method:h,url:w,data:(y||{}).data}))}}),R.forEach(["post","put","patch"],function(h){f.prototype[h]=function(w,y,P){return this.request(d(P||{},{method:h,url:w,data:y}))}}),o.exports=f},782:(o,D,v)=>{"use strict";var R=v(4867);function T(){this.handlers=[]}T.prototype.use=function(g,d){return this.handlers.push({fulfilled:g,rejected:d}),this.handlers.length-1},T.prototype.eject=function(g){this.handlers[g]&&(this.handlers[g]=null)},T.prototype.forEach=function(g){R.forEach(this.handlers,function(f){f!==null&&g(f)})},o.exports=T},4097:(o,D,v)=>{"use strict";var R=v(1793),T=v(7303);o.exports=function(g,d){return g&&!R(d)?T(g,d):d}},5061:(o,D,v)=>{"use strict";var R=v(481);o.exports=function(E,g,d,f,m){var h=new Error(E);return R(h,g,d,f,m)}},3572:(o,D,v)=>{"use strict";var R=v(4867),T=v(8527),E=v(6502),g=v(5655);function d(f){f.cancelToken&&f.cancelToken.throwIfRequested()}o.exports=function(m){d(m),m.headers=m.headers||{},m.data=T(m.data,m.headers,m.transformRequest),m.headers=R.merge(m.headers.common||{},m.headers[m.method]||{},m.headers),R.forEach(["delete","get","head","post","put","patch","common"],function(y){delete m.headers[y]});var h=m.adapter||g.adapter;return h(m).then(function(y){return d(m),y.data=T(y.data,y.headers,m.transformResponse),y},function(y){return E(y)||(d(m),y&&y.response&&(y.response.data=T(y.response.data,y.response.headers,m.transformResponse))),Promise.reject(y)})}},481:o=>{"use strict";o.exports=function(v,R,T,E,g){return v.config=R,T&&(v.code=T),v.request=E,v.response=g,v.isAxiosError=!0,v.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},v}},7185:(o,D,v)=>{"use strict";var R=v(4867);o.exports=function(E,g){g=g||{};var d={},f=["url","method","data"],m=["headers","auth","proxy","params"],h=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],w=["validateStatus"];function y(k,S){return R.isPlainObject(k)&&R.isPlainObject(S)?R.merge(k,S):R.isPlainObject(S)?R.merge({},S):R.isArray(S)?S.slice():S}function P(k){R.isUndefined(g[k])?R.isUndefined(E[k])||(d[k]=y(void 0,E[k])):d[k]=y(E[k],g[k])}R.forEach(f,function(S){R.isUndefined(g[S])||(d[S]=y(void 0,g[S]))}),R.forEach(m,P),R.forEach(h,function(S){R.isUndefined(g[S])?R.isUndefined(E[S])||(d[S]=y(void 0,E[S])):d[S]=y(void 0,g[S])}),R.forEach(w,function(S){S in g?d[S]=y(E[S],g[S]):S in E&&(d[S]=y(void 0,E[S]))});var Q=f.concat(m).concat(h).concat(w),C=Object.keys(E).concat(Object.keys(g)).filter(function(S){return Q.indexOf(S)===-1});return R.forEach(C,P),d}},6026:(o,D,v)=>{"use strict";var R=v(5061);o.exports=function(E,g,d){var f=d.config.validateStatus;!d.status||!f||f(d.status)?E(d):g(R("Request failed with status code "+d.status,d.config,null,d.request,d))}},8527:(o,D,v)=>{"use strict";var R=v(4867);o.exports=function(E,g,d){return R.forEach(d,function(m){E=m(E,g)}),E}},5655:(o,D,v)=>{"use strict";var R=v(4867),T=v(6016),E={"Content-Type":"application/x-www-form-urlencoded"};function g(m,h){!R.isUndefined(m)&&R.isUndefined(m["Content-Type"])&&(m["Content-Type"]=h)}function d(){var m;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(m=v(5448)),m}var f={adapter:d(),transformRequest:[function(h,w){return T(w,"Accept"),T(w,"Content-Type"),R.isFormData(h)||R.isArrayBuffer(h)||R.isBuffer(h)||R.isStream(h)||R.isFile(h)||R.isBlob(h)?h:R.isArrayBufferView(h)?h.buffer:R.isURLSearchParams(h)?(g(w,"application/x-www-form-urlencoded;charset=utf-8"),h.toString()):R.isObject(h)?(g(w,"application/json;charset=utf-8"),JSON.stringify(h)):h}],transformResponse:[function(h){if(typeof h=="string")try{h=JSON.parse(h)}catch(w){}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(h){return h>=200&&h<300}};f.headers={common:{Accept:"application/json, text/plain, */*"}},R.forEach(["delete","get","head"],function(h){f.headers[h]={}}),R.forEach(["post","put","patch"],function(h){f.headers[h]=R.merge(E)}),o.exports=f},1849:o=>{"use strict";o.exports=function(v,R){return function(){for(var E=new Array(arguments.length),g=0;g<E.length;g++)E[g]=arguments[g];return v.apply(R,E)}}},5327:(o,D,v)=>{"use strict";var R=v(4867);function T(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}o.exports=function(g,d,f){if(!d)return g;var m;if(f)m=f(d);else if(R.isURLSearchParams(d))m=d.toString();else{var h=[];R.forEach(d,function(P,Q){P===null||typeof P=="undefined"||(R.isArray(P)?Q=Q+"[]":P=[P],R.forEach(P,function(k){R.isDate(k)?k=k.toISOString():R.isObject(k)&&(k=JSON.stringify(k)),h.push(T(Q)+"="+T(k))}))}),m=h.join("&")}if(m){var w=g.indexOf("#");w!==-1&&(g=g.slice(0,w)),g+=(g.indexOf("?")===-1?"?":"&")+m}return g}},7303:o=>{"use strict";o.exports=function(v,R){return R?v.replace(/\/+$/,"")+"/"+R.replace(/^\/+/,""):v}},4372:(o,D,v)=>{"use strict";var R=v(4867);o.exports=R.isStandardBrowserEnv()?function(){return{write:function(g,d,f,m,h,w){var y=[];y.push(g+"="+encodeURIComponent(d)),R.isNumber(f)&&y.push("expires="+new Date(f).toGMTString()),R.isString(m)&&y.push("path="+m),R.isString(h)&&y.push("domain="+h),w===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(g){var d=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return d?decodeURIComponent(d[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},1793:o=>{"use strict";o.exports=function(v){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(v)}},6268:o=>{"use strict";o.exports=function(v){return typeof v=="object"&&v.isAxiosError===!0}},7985:(o,D,v)=>{"use strict";var R=v(4867);o.exports=R.isStandardBrowserEnv()?function(){var E=/(msie|trident)/i.test(navigator.userAgent),g=document.createElement("a"),d;function f(m){var h=m;return E&&(g.setAttribute("href",h),h=g.href),g.setAttribute("href",h),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:g.pathname.charAt(0)==="/"?g.pathname:"/"+g.pathname}}return d=f(window.location.href),function(h){var w=R.isString(h)?f(h):h;return w.protocol===d.protocol&&w.host===d.host}}():function(){return function(){return!0}}()},6016:(o,D,v)=>{"use strict";var R=v(4867);o.exports=function(E,g){R.forEach(E,function(f,m){m!==g&&m.toUpperCase()===g.toUpperCase()&&(E[g]=f,delete E[m])})}},4109:(o,D,v)=>{"use strict";var R=v(4867),T=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];o.exports=function(g){var d={},f,m,h;return g&&R.forEach(g.split(`
`),function(y){if(h=y.indexOf(":"),f=R.trim(y.substr(0,h)).toLowerCase(),m=R.trim(y.substr(h+1)),f){if(d[f]&&T.indexOf(f)>=0)return;f==="set-cookie"?d[f]=(d[f]?d[f]:[]).concat([m]):d[f]=d[f]?d[f]+", "+m:m}}),d}},8713:o=>{"use strict";o.exports=function(v){return function(T){return v.apply(null,T)}}},4867:(o,D,v)=>{"use strict";var R=v(1849),T=Object.prototype.toString;function E(N){return T.call(N)==="[object Array]"}function g(N){return typeof N=="undefined"}function d(N){return N!==null&&!g(N)&&N.constructor!==null&&!g(N.constructor)&&typeof N.constructor.isBuffer=="function"&&N.constructor.isBuffer(N)}function f(N){return T.call(N)==="[object ArrayBuffer]"}function m(N){return typeof FormData!="undefined"&&N instanceof FormData}function h(N){var L;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?L=ArrayBuffer.isView(N):L=N&&N.buffer&&N.buffer instanceof ArrayBuffer,L}function w(N){return typeof N=="string"}function y(N){return typeof N=="number"}function P(N){return N!==null&&typeof N=="object"}function Q(N){if(T.call(N)!=="[object Object]")return!1;var L=Object.getPrototypeOf(N);return L===null||L===Object.prototype}function C(N){return T.call(N)==="[object Date]"}function k(N){return T.call(N)==="[object File]"}function S(N){return T.call(N)==="[object Blob]"}function x(N){return T.call(N)==="[object Function]"}function G(N){return P(N)&&x(N.pipe)}function W(N){return typeof URLSearchParams!="undefined"&&N instanceof URLSearchParams}function j(N){return N.replace(/^\s*/,"").replace(/\s*$/,"")}function X(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function A(N,L){if(!(N===null||typeof N=="undefined"))if(typeof N!="object"&&(N=[N]),E(N))for(var F=0,M=N.length;F<M;F++)L.call(null,N[F],F,N);else for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&L.call(null,N[B],B,N)}function H(){var N={};function L(B,J){Q(N[J])&&Q(B)?N[J]=H(N[J],B):Q(B)?N[J]=H({},B):E(B)?N[J]=B.slice():N[J]=B}for(var F=0,M=arguments.length;F<M;F++)A(arguments[F],L);return N}function O(N,L,F){return A(L,function(B,J){F&&typeof B=="function"?N[J]=R(B,F):N[J]=B}),N}function I(N){return N.charCodeAt(0)===65279&&(N=N.slice(1)),N}o.exports={isArray:E,isArrayBuffer:f,isBuffer:d,isFormData:m,isArrayBufferView:h,isString:w,isNumber:y,isObject:P,isPlainObject:Q,isUndefined:g,isDate:C,isFile:k,isBlob:S,isFunction:x,isStream:G,isURLSearchParams:W,isStandardBrowserEnv:X,forEach:A,merge:H,extend:O,trim:j,stripBOM:I}},5186:(o,D,v)=>{var R=v(3698),T=v(2505),E=v(6417),g=Function.bind,d=g.bind(g);function f(P,Q,C){var k=d(E,null).apply(null,C?[Q,C]:[Q]);P.api={remove:k},P.remove=k,["before","error","after","wrap"].forEach(function(S){var x=C?[Q,S,C]:[Q,S];P[S]=P.api[S]=d(T,null).apply(null,x)})}function m(){var P="h",Q={registry:{}},C=R.bind(null,Q,P);return f(C,Q,P),C}function h(){var P={registry:{}},Q=R.bind(null,P);return f(Q,P),Q}var w=!1;function y(){return w||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),w=!0),h()}y.Singular=m.bind(),y.Collection=h.bind(),o.exports=y,o.exports.Hook=y,o.exports.Singular=y.Singular,o.exports.Collection=y.Collection},2505:o=>{o.exports=D;function D(v,R,T,E){var g=E;v.registry[T]||(v.registry[T]=[]),R==="before"&&(E=function(d,f){return Promise.resolve().then(g.bind(null,f)).then(d.bind(null,f))}),R==="after"&&(E=function(d,f){var m;return Promise.resolve().then(d.bind(null,f)).then(function(h){return m=h,g(m,f)}).then(function(){return m})}),R==="error"&&(E=function(d,f){return Promise.resolve().then(d.bind(null,f)).catch(function(m){return g(m,f)})}),v.registry[T].push({hook:E,orig:g})}},3698:o=>{o.exports=D;function D(v,R,T,E){if(typeof T!="function")throw new Error("method for before hook must be a function");return E||(E={}),Array.isArray(R)?R.reverse().reduce(function(g,d){return D.bind(null,v,d,g,E)},T)():Promise.resolve().then(function(){return v.registry[R]?v.registry[R].reduce(function(g,d){return d.hook.bind(null,g,E)},T)():T(E)})}},6417:o=>{o.exports=D;function D(v,R,T){if(!!v.registry[R]){var E=v.registry[R].map(function(g){return g.orig}).indexOf(T);E!==-1&&v.registry[R].splice(E,1)}}},4098:function(o,D){var v=function(R){function T(){this.fetch=!1,this.DOMException=R.DOMException}return T.prototype=R,new T}(typeof self!="undefined"?self:this);(function(R){var T=function(E){var g={searchParams:"URLSearchParams"in R,iterable:"Symbol"in R&&"iterator"in Symbol,blob:"FileReader"in R&&"Blob"in R&&function(){try{return new Blob,!0}catch(F){return!1}}(),formData:"FormData"in R,arrayBuffer:"ArrayBuffer"in R};function d(F){return F&&DataView.prototype.isPrototypeOf(F)}if(g.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(F){return F&&f.indexOf(Object.prototype.toString.call(F))>-1};function h(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(F))throw new TypeError("Invalid character in header field name");return F.toLowerCase()}function w(F){return typeof F!="string"&&(F=String(F)),F}function y(F){var M={next:function(){var B=F.shift();return{done:B===void 0,value:B}}};return g.iterable&&(M[Symbol.iterator]=function(){return M}),M}function P(F){this.map={},F instanceof P?F.forEach(function(M,B){this.append(B,M)},this):Array.isArray(F)?F.forEach(function(M){this.append(M[0],M[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(M){this.append(M,F[M])},this)}P.prototype.append=function(F,M){F=h(F),M=w(M);var B=this.map[F];this.map[F]=B?B+", "+M:M},P.prototype.delete=function(F){delete this.map[h(F)]},P.prototype.get=function(F){return F=h(F),this.has(F)?this.map[F]:null},P.prototype.has=function(F){return this.map.hasOwnProperty(h(F))},P.prototype.set=function(F,M){this.map[h(F)]=w(M)},P.prototype.forEach=function(F,M){for(var B in this.map)this.map.hasOwnProperty(B)&&F.call(M,this.map[B],B,this)},P.prototype.keys=function(){var F=[];return this.forEach(function(M,B){F.push(B)}),y(F)},P.prototype.values=function(){var F=[];return this.forEach(function(M){F.push(M)}),y(F)},P.prototype.entries=function(){var F=[];return this.forEach(function(M,B){F.push([B,M])}),y(F)},g.iterable&&(P.prototype[Symbol.iterator]=P.prototype.entries);function Q(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function C(F){return new Promise(function(M,B){F.onload=function(){M(F.result)},F.onerror=function(){B(F.error)}})}function k(F){var M=new FileReader,B=C(M);return M.readAsArrayBuffer(F),B}function S(F){var M=new FileReader,B=C(M);return M.readAsText(F),B}function x(F){for(var M=new Uint8Array(F),B=new Array(M.length),J=0;J<M.length;J++)B[J]=String.fromCharCode(M[J]);return B.join("")}function G(F){if(F.slice)return F.slice(0);var M=new Uint8Array(F.byteLength);return M.set(new Uint8Array(F)),M.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(F){this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:g.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:g.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:g.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():g.arrayBuffer&&g.blob&&d(F)?(this._bodyArrayBuffer=G(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||m(F))?this._bodyArrayBuffer=G(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var F=Q(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Q(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)}),this.text=function(){var F=Q(this);if(F)return F;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function X(F){var M=F.toUpperCase();return j.indexOf(M)>-1?M:F}function A(F,M){M=M||{};var B=M.body;if(F instanceof A){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,M.headers||(this.headers=new P(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!B&&F._bodyInit!=null&&(B=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new P(M.headers)),this.method=X(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function H(F){var M=new FormData;return F.trim().split("&").forEach(function(B){if(B){var J=B.split("="),re=J.shift().replace(/\+/g," "),te=J.join("=").replace(/\+/g," ");M.append(decodeURIComponent(re),decodeURIComponent(te))}}),M}function O(F){var M=new P,B=F.replace(/\r?\n[\t ]+/g," ");return B.split(/\r?\n/).forEach(function(J){var re=J.split(":"),te=re.shift().trim();if(te){var ae=re.join(":").trim();M.append(te,ae)}}),M}W.call(A.prototype);function I(F,M){M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in M?M.statusText:"OK",this.headers=new P(M.headers),this.url=M.url||"",this._initBody(F)}W.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},I.error=function(){var F=new I(null,{status:0,statusText:""});return F.type="error",F};var N=[301,302,303,307,308];I.redirect=function(F,M){if(N.indexOf(M)===-1)throw new RangeError("Invalid status code");return new I(null,{status:M,headers:{location:F}})},E.DOMException=R.DOMException;try{new E.DOMException}catch(F){E.DOMException=function(M,B){this.message=M,this.name=B;var J=Error(M);this.stack=J.stack},E.DOMException.prototype=Object.create(Error.prototype),E.DOMException.prototype.constructor=E.DOMException}function L(F,M){return new Promise(function(B,J){var re=new A(F,M);if(re.signal&&re.signal.aborted)return J(new E.DOMException("Aborted","AbortError"));var te=new XMLHttpRequest;function ae(){te.abort()}te.onload=function(){var ue={status:te.status,statusText:te.statusText,headers:O(te.getAllResponseHeaders()||"")};ue.url="responseURL"in te?te.responseURL:ue.headers.get("X-Request-URL");var pe="response"in te?te.response:te.responseText;B(new I(pe,ue))},te.onerror=function(){J(new TypeError("Network request failed"))},te.ontimeout=function(){J(new TypeError("Network request failed"))},te.onabort=function(){J(new E.DOMException("Aborted","AbortError"))},te.open(re.method,re.url,!0),re.credentials==="include"?te.withCredentials=!0:re.credentials==="omit"&&(te.withCredentials=!1),"responseType"in te&&g.blob&&(te.responseType="blob"),re.headers.forEach(function(ue,pe){te.setRequestHeader(pe,ue)}),re.signal&&(re.signal.addEventListener("abort",ae),te.onreadystatechange=function(){te.readyState===4&&re.signal.removeEventListener("abort",ae)}),te.send(typeof re._bodyInit=="undefined"?null:re._bodyInit)})}return L.polyfill=!0,R.fetch||(R.fetch=L,R.Headers=P,R.Request=A,R.Response=I),E.Headers=P,E.Request=A,E.Response=I,E.fetch=L,E}({})})(v),delete v.fetch.polyfill,D=v.fetch,D.default=v.fetch,D.fetch=v.fetch,D.Headers=v.Headers,D.Request=v.Request,D.Response=v.Response,o.exports=D},7484:function(o){(function(D,v){o.exports=v()})(this,function(){"use strict";var D="millisecond",v="second",R="minute",T="hour",E="day",g="week",d="month",f="quarter",m="year",h="date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Q=function(H,O,I){var N=String(H);return!N||N.length>=O?H:""+Array(O+1-N.length).join(I)+H},C={s:Q,z:function(H){var O=-H.utcOffset(),I=Math.abs(O),N=Math.floor(I/60),L=I%60;return(O<=0?"+":"-")+Q(N,2,"0")+":"+Q(L,2,"0")},m:function H(O,I){if(O.date()<I.date())return-H(I,O);var N=12*(I.year()-O.year())+(I.month()-O.month()),L=O.clone().add(N,d),F=I-L<0,M=O.clone().add(N+(F?-1:1),d);return+(-(N+(I-L)/(F?L-M:M-L))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:d,y:m,w:g,d:E,D:h,h:T,m:R,s:v,ms:D,Q:f}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},k="en",S={};S[k]=P;var x=function(H){return H instanceof X},G=function(H,O,I){var N;if(!H)return k;if(typeof H=="string")S[H]&&(N=H),O&&(S[H]=O,N=H);else{var L=H.name;S[L]=H,N=L}return!I&&N&&(k=N),N||!I&&k},W=function(H,O){if(x(H))return H.clone();var I=typeof O=="object"?O:{};return I.date=H,I.args=arguments,new X(I)},j=C;j.l=G,j.i=x,j.w=function(H,O){return W(H,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var X=function(){function H(I){this.$L=G(I.locale,null,!0),this.parse(I)}var O=H.prototype;return O.parse=function(I){this.$d=function(N){var L=N.date,F=N.utc;if(L===null)return new Date(NaN);if(j.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var M=L.match(w);if(M){var B=M[2]-1||0,J=(M[7]||"0").substring(0,3);return F?new Date(Date.UTC(M[1],B,M[3]||1,M[4]||0,M[5]||0,M[6]||0,J)):new Date(M[1],B,M[3]||1,M[4]||0,M[5]||0,M[6]||0,J)}}return new Date(L)}(I),this.$x=I.x||{},this.init()},O.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},O.$utils=function(){return j},O.isValid=function(){return this.$d.toString()!=="Invalid Date"},O.isSame=function(I,N){var L=W(I);return this.startOf(N)<=L&&L<=this.endOf(N)},O.isAfter=function(I,N){return W(I)<this.startOf(N)},O.isBefore=function(I,N){return this.endOf(N)<W(I)},O.$g=function(I,N,L){return j.u(I)?this[N]:this.set(L,I)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(I,N){var L=this,F=!!j.u(N)||N,M=j.p(I),B=function(Ye,ye){var nt=j.w(L.$u?Date.UTC(L.$y,ye,Ye):new Date(L.$y,ye,Ye),L);return F?nt:nt.endOf(E)},J=function(Ye,ye){return j.w(L.toDate()[Ye].apply(L.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(ye)),L)},re=this.$W,te=this.$M,ae=this.$D,ue="set"+(this.$u?"UTC":"");switch(M){case m:return F?B(1,0):B(31,11);case d:return F?B(1,te):B(0,te+1);case g:var pe=this.$locale().weekStart||0,mt=(re<pe?re+7:re)-pe;return B(F?ae-mt:ae+(6-mt),te);case E:case h:return J(ue+"Hours",0);case T:return J(ue+"Minutes",1);case R:return J(ue+"Seconds",2);case v:return J(ue+"Milliseconds",3);default:return this.clone()}},O.endOf=function(I){return this.startOf(I,!1)},O.$set=function(I,N){var L,F=j.p(I),M="set"+(this.$u?"UTC":""),B=(L={},L[E]=M+"Date",L[h]=M+"Date",L[d]=M+"Month",L[m]=M+"FullYear",L[T]=M+"Hours",L[R]=M+"Minutes",L[v]=M+"Seconds",L[D]=M+"Milliseconds",L)[F],J=F===E?this.$D+(N-this.$W):N;if(F===d||F===m){var re=this.clone().set(h,1);re.$d[B](J),re.init(),this.$d=re.set(h,Math.min(this.$D,re.daysInMonth())).$d}else B&&this.$d[B](J);return this.init(),this},O.set=function(I,N){return this.clone().$set(I,N)},O.get=function(I){return this[j.p(I)]()},O.add=function(I,N){var L,F=this;I=Number(I);var M=j.p(N),B=function(te){var ae=W(F);return j.w(ae.date(ae.date()+Math.round(te*I)),F)};if(M===d)return this.set(d,this.$M+I);if(M===m)return this.set(m,this.$y+I);if(M===E)return B(1);if(M===g)return B(7);var J=(L={},L[R]=6e4,L[T]=36e5,L[v]=1e3,L)[M]||1,re=this.$d.getTime()+I*J;return j.w(re,this)},O.subtract=function(I,N){return this.add(-1*I,N)},O.format=function(I){var N=this;if(!this.isValid())return"Invalid Date";var L=I||"YYYY-MM-DDTHH:mm:ssZ",F=j.z(this),M=this.$locale(),B=this.$H,J=this.$m,re=this.$M,te=M.weekdays,ae=M.months,ue=function(ye,nt,Ue,ht){return ye&&(ye[nt]||ye(N,L))||Ue[nt].substr(0,ht)},pe=function(ye){return j.s(B%12||12,ye,"0")},mt=M.meridiem||function(ye,nt,Ue){var ht=ye<12?"AM":"PM";return Ue?ht.toLowerCase():ht},Ye={YY:String(this.$y).slice(-2),YYYY:this.$y,M:re+1,MM:j.s(re+1,2,"0"),MMM:ue(M.monthsShort,re,ae,3),MMMM:ue(ae,re),D:this.$D,DD:j.s(this.$D,2,"0"),d:String(this.$W),dd:ue(M.weekdaysMin,this.$W,te,2),ddd:ue(M.weekdaysShort,this.$W,te,3),dddd:te[this.$W],H:String(B),HH:j.s(B,2,"0"),h:pe(1),hh:pe(2),a:mt(B,J,!0),A:mt(B,J,!1),m:String(J),mm:j.s(J,2,"0"),s:String(this.$s),ss:j.s(this.$s,2,"0"),SSS:j.s(this.$ms,3,"0"),Z:F};return L.replace(y,function(ye,nt){return nt||Ye[ye]||F.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(I,N,L){var F,M=j.p(N),B=W(I),J=6e4*(B.utcOffset()-this.utcOffset()),re=this-B,te=j.m(this,B);return te=(F={},F[m]=te/12,F[d]=te,F[f]=te/3,F[g]=(re-J)/6048e5,F[E]=(re-J)/864e5,F[T]=re/36e5,F[R]=re/6e4,F[v]=re/1e3,F)[M]||re,L?te:j.a(te)},O.daysInMonth=function(){return this.endOf(d).$D},O.$locale=function(){return S[this.$L]},O.locale=function(I,N){if(!I)return this.$L;var L=this.clone(),F=G(I,N,!0);return F&&(L.$L=F),L},O.clone=function(){return j.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},H}(),A=X.prototype;return W.prototype=A,[["$ms",D],["$s",v],["$m",R],["$H",T],["$W",E],["$M",d],["$y",m],["$D",h]].forEach(function(H){A[H[1]]=function(O){return this.$g(O,H[0],H[1])}}),W.extend=function(H,O){return H.$i||(H(O,X,W),H.$i=!0),W},W.locale=G,W.isDayjs=x,W.unix=function(H){return W(1e3*H)},W.en=S[k],W.Ls=S,W.p={},W})},4110:function(o){(function(D,v){o.exports=v()})(this,function(){"use strict";return function(D,v,R){D=D||{};var T=v.prototype,E={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function g(f,m,h,w){return T.fromToBase(f,m,h,w)}R.en.relativeTime=E,T.fromToBase=function(f,m,h,w,y){for(var P,Q,C,k=h.$locale().relativeTime||E,S=D.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=S.length,G=0;G<x;G+=1){var W=S[G];W.d&&(P=w?R(f).diff(h,W.d,!0):h.diff(f,W.d,!0));var j=(D.rounding||Math.round)(Math.abs(P));if(C=P>0,j<=W.r||!W.r){j<=1&&G>0&&(W=S[G-1]);var X=k[W.l];y&&(j=y(""+j)),Q=typeof X=="string"?X.replace("%d",j):X(j,m,W.l,C);break}}if(m)return Q;var A=C?k.future:k.past;return typeof A=="function"?A(Q):A.replace("%s",Q)},T.to=function(f,m){return g(f,m,this,!0)},T.from=function(f,m){return g(f,m,this)};var d=function(f){return f.$u?R.utc():R()};T.toNow=function(f){return this.to(d(this),f)},T.fromNow=function(f){return this.from(d(this),f)}}})},660:function(o){(function(D,v){o.exports=v()})(this,function(){"use strict";return function(D,v,R){R.updateLocale=function(T,E){var g=R.Ls[T];if(g)return(E?Object.keys(E):[]).forEach(function(d){g[d]=E[d]}),g}}})},4063:o=>{"use strict";o.exports=function D(v,R){if(v===R)return!0;if(v&&R&&typeof v=="object"&&typeof R=="object"){if(v.constructor!==R.constructor)return!1;var T,E,g;if(Array.isArray(v)){if(T=v.length,T!=R.length)return!1;for(E=T;E--!=0;)if(!D(v[E],R[E]))return!1;return!0}if(v.constructor===RegExp)return v.source===R.source&&v.flags===R.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===R.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===R.toString();if(g=Object.keys(v),T=g.length,T!==Object.keys(R).length)return!1;for(E=T;E--!=0;)if(!Object.prototype.hasOwnProperty.call(R,g[E]))return!1;for(E=T;E--!=0;){var d=g[E];if(!D(v[d],R[d]))return!1}return!0}return v!==v&&R!==R}},5035:o=>{"use strict";o.exports=function(D,v){v||(v={}),typeof v=="function"&&(v={cmp:v});var R=typeof v.cycles=="boolean"?v.cycles:!1,T=v.cmp&&function(g){return function(d){return function(f,m){var h={key:f,value:d[f]},w={key:m,value:d[m]};return g(h,w)}}}(v.cmp),E=[];return function g(d){if(d&&d.toJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),d!==void 0){if(typeof d=="number")return isFinite(d)?""+d:"null";if(typeof d!="object")return JSON.stringify(d);var f,m;if(Array.isArray(d)){for(m="[",f=0;f<d.length;f++)f&&(m+=","),m+=g(d[f])||"null";return m+"]"}if(d===null)return"null";if(E.indexOf(d)!==-1){if(R)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var h=E.push(d)-1,w=Object.keys(d).sort(T&&T(d));for(m="",f=0;f<w.length;f++){var y=w[f],P=g(d[y]);!P||(m&&(m+=","),m+=JSON.stringify(y)+":"+P)}return E.splice(h,1),"{"+m+"}"}}(D)}},9967:o=>{var D={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssuesWithoutMilestone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}},{kind:"ObjectField",name:{kind:"Name",value:"milestone"},value:{kind:"NullValue"}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:13442}};D.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

fragment Merged on MergedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	mergeRef {
		name
	}
	commit {
		oid
		commitUrl
	}
	url
}

fragment HeadRefDeleted on HeadRefDeletedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	headRefName
}

fragment Ref on Ref {
	name
	repository {
		owner {
			login
		}
		url
	}
	target {
		oid
	}
}

fragment Comment on IssueComment {
	id
	databaseId
	authorAssociation
	author {
		login
		avatarUrl
		url
	}
	url
	body
	bodyHTML
	updatedAt
	createdAt
	viewerCanUpdate
	viewerCanReact
	viewerCanDelete
}

fragment Commit on PullRequestCommit {
	id
	commit {
		author {
			user {
				login
				avatarUrl
				url
			}
		}
		committer {
			avatarUrl
			name
		}
		oid
		message
		authoredDate
	}
	url
}

fragment AssignedEvent on AssignedEvent {
	actor {
		login
		avatarUrl
		url
	}
	user {
		login
		avatarUrl
		url
	}
}

fragment Review on PullRequestReview {
	id
	databaseId
	authorAssociation
	url
	author {
		login
		avatarUrl
		url
	}
	state
	body
	bodyHTML
	submittedAt
	updatedAt
	createdAt
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
}

fragment ReviewThread on PullRequestReviewThread {
	id
	isResolved
	viewerCanResolve
	viewerCanUnresolve
	path
	diffSide
	line
	originalLine
	isOutdated
	comments(first: 100) {
		nodes {
			...ReviewComment
		}
	}
}

query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Merged
					...Comment
					...Review
					...Commit
					...AssignedEvent
					...HeadRefDeleted
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Comment
					...AssignedEvent
				}
			}
		}
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
	viewerCanUpdate
	viewerCanDelete
}

query GetPendingReviewId($pullRequestId: ID!, $author: String!) {
	node(id: $pullRequestId) {
		... on PullRequest {
			reviews(first: 1, author: $author, states: [PENDING]) {
				nodes {
					id
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestComments($owner: String!, $name: String!, $number: Int!, $first: Int = 100) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewThreads(first: $first) {
				nodes {
					id
					isResolved
					viewerCanResolve
					viewerCanUnresolve
					path
					diffSide
					line
					originalLine
					isOutdated
					comments(first: 100) {
						nodes {
							...ReviewComment
						}
					}
				}
			}
		}
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
			}
			createdAt
			updatedAt
			headRef {
				...Ref
			}
			baseRef {
				...Ref
			}
			labels(first: 50) {
				nodes {
					name
				}
			}
			merged
			mergeable
			id
			databaseId
			isDraft
			milestone {
				title
				dueOn
				createdAt
				id
			}
			assignees(first: 10) {
				nodes {
					login
					name
					avatarUrl
					url
					email
				}
			}
			suggestedReviewers {
				isAuthor
				isCommenter
				reviewer {
					login
					avatarUrl
					name
					url
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestFiles($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			files(first: 100) {
				nodes {
					path
					viewerViewedState
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
		}
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
			comments(first: 50) {
				nodes {
					author {
						login
						url
						avatarUrl
					}
					body
					databaseId
				}
			}
		}
	}
}

query GetUser($login: String!) {
	user(login: $login) {
		login
		avatarUrl(size: 50)
		bio
		name
		company
		location
		contributionsCollection {
			commitContributionsByRepository(maxRepositories: 50) {
				contributions(first: 1) {
					nodes {
						occurredAt
					}
				}
				repository {
					nameWithOwner
				}
			}
		}
		url
	}
}

query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestState($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			title
			number
			state
		}
	}
}

mutation AddComment($input: AddPullRequestReviewCommentInput!) {
	addPullRequestReviewComment(input: $input) {
		comment {
			...ReviewComment
		}
	}
}

mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {
	addPullRequestReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {
	updatePullRequestReviewComment(input: $input) {
		pullRequestReviewComment {
			...ReviewComment
		}
	}
}

mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {
	markPullRequestReadyForReview(input: $input) {
		pullRequest {
			isDraft
		}
	}
}

mutation StartReview($input: AddPullRequestReviewInput!) {
	addPullRequestReview(input: $input) {
		pullRequestReview {
			id
		}
	}
}

mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {
		pullRequestReview {
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
			...Review
		}
	}
}

mutation DeleteReview($input: DeletePullRequestReviewInput!) {
	deletePullRequestReview(input: $input) {
		pullRequestReview {
			databaseId
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
		}
	}
}

mutation AddReaction($input: AddReactionInput!) {
	addReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation DeleteReaction($input: RemoveReactionInput!) {
	removeReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation UpdatePullRequest($input: UpdatePullRequestInput!) {
	updatePullRequest(input: $input) {
		pullRequest {
			body
			bodyHTML
			title
		}
	}
}

mutation AddIssueComment($input: AddCommentInput!) {
	addComment(input: $input) {
		commentEdge {
			node {
				...Comment
			}
		}
	}
}

mutation EditIssueComment($input: UpdateIssueCommentInput!) {
	updateIssueComment(input: $input) {
		issueComment {
			...Comment
		}
	}
}

query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		mentionableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssuesWithoutMilestone($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		issues(
			first: 100
			states: OPEN
			filterBy: { assignee: $assignee, milestone: null }
			orderBy: { direction: DESC, field: UPDATED_AT }
		) {
			edges {
				node {
					... on Issue {
						number
						url
						state
						body
						bodyHTML
						title
						assignees(first: 10) {
							nodes {
								login
								url
							}
						}
						author {
							login
							url
							avatarUrl(size: 50)
						}
						createdAt
						updatedAt
						labels(first: 50) {
							nodes {
								name
								color
							}
						}
						id
						databaseId
						milestone {
							title
							dueOn
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query MaxIssue($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {
			edges {
				node {
					... on Issue {
						number
					}
				}
			}
		}
	}
}

query GetMilestones($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		milestones(first: 12, orderBy: { direction: DESC, field: DUE_DATE }, states: OPEN) {
			nodes {
				dueOn
				title
				createdAt
				id
				issues(
					first: 100
					filterBy: { assignee: $assignee }
					orderBy: { direction: DESC, field: UPDATED_AT }
					states: OPEN
				) {
					edges {
						node {
							... on Issue {
								number
								url
								state
								body
								bodyHTML
								title
								assignees(first: 10) {
									nodes {
										login
										url
									}
								}
								author {
									login
									url
									avatarUrl(size: 50)
								}
								createdAt
								updatedAt
								labels(first: 50) {
									nodes {
										name
										color
									}
								}
								id
								databaseId
								milestone {
									title
									dueOn
								}
							}
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				... on Issue {
					number
					url
					state
					body
					bodyHTML
					title
					assignees(first: 10) {
						nodes {
							login
							url
						}
					}
					author {
						login
						url
						avatarUrl(size: 50)
					}
					createdAt
					updatedAt
					labels(first: 50) {
						nodes {
							name
							color
						}
					}
					id
					databaseId
					milestone {
						title
						dueOn
						id
						createdAt
					}
					repository {
						name
						owner {
							login
						}
						url
					}
				}
			}
		}
	}
}

query GetViewerPermission($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		viewerPermission
	}
}

query GetRepositoryForkDetails($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		isFork
		parent {
			name
			owner
		}
	}
}

query GetChecks($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			commits(last: 1) {
				nodes {
					commit {
						statusCheckRollup {
							state
							contexts(first: 100) {
								nodes {
									... on StatusContext {
										id
										state
										targetUrl
										description
										context
										avatarUrl
									}
									... on CheckRun {
										id
										conclusion
										title
										detailsUrl
										name
										resourcePath
										checkSuite {
											app {
												logoUrl
												url
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {
	resolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {
	unresolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {
	markFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}

mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {
	unmarkFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var v={};function R(f){return f.filter(function(m){if(m.kind!=="FragmentDefinition")return!0;var h=m.name.value;return v[h]?!1:(v[h]=!0,!0)})}function T(f,m){if(f.kind==="FragmentSpread")m.add(f.name.value);else if(f.kind==="VariableDefinition"){var h=f.type;h.kind==="NamedType"&&m.add(h.name.value)}f.selectionSet&&f.selectionSet.selections.forEach(function(w){T(w,m)}),f.variableDefinitions&&f.variableDefinitions.forEach(function(w){T(w,m)}),f.definitions&&f.definitions.forEach(function(w){T(w,m)})}var E={};(function(){D.definitions.forEach(function(m){if(m.name){var h=new Set;T(m,h),E[m.name.value]=h}})})();function g(f,m){for(var h=0;h<f.definitions.length;h++){var w=f.definitions[h];if(w.name&&w.name.value==m)return w}}function d(f,m){var h={kind:f.kind,definitions:[g(f,m)]};f.hasOwnProperty("loc")&&(h.loc=f.loc);var w=E[m]||new Set,y=new Set,P=new Set;for(w.forEach(function(C){P.add(C)});P.size>0;){var Q=P;P=new Set,Q.forEach(function(C){if(!y.has(C)){y.add(C);var k=E[C]||new Set;k.forEach(function(S){P.add(S)})}})}return y.forEach(function(C){var k=g(f,C);k&&h.definitions.push(k)}),h}o.exports=D,o.exports.TimelineEvents=d(D,"TimelineEvents"),o.exports.IssueTimelineEvents=d(D,"IssueTimelineEvents"),o.exports.GetPendingReviewId=d(D,"GetPendingReviewId"),o.exports.PullRequestComments=d(D,"PullRequestComments"),o.exports.PullRequest=d(D,"PullRequest"),o.exports.PullRequestFiles=d(D,"PullRequestFiles"),o.exports.Issue=d(D,"Issue"),o.exports.IssueWithComments=d(D,"IssueWithComments"),o.exports.GetUser=d(D,"GetUser"),o.exports.PullRequestMergeability=d(D,"PullRequestMergeability"),o.exports.PullRequestState=d(D,"PullRequestState"),o.exports.AddComment=d(D,"AddComment"),o.exports.AddReviewThread=d(D,"AddReviewThread"),o.exports.EditComment=d(D,"EditComment"),o.exports.ReadyForReview=d(D,"ReadyForReview"),o.exports.StartReview=d(D,"StartReview"),o.exports.SubmitReview=d(D,"SubmitReview"),o.exports.DeleteReview=d(D,"DeleteReview"),o.exports.AddReaction=d(D,"AddReaction"),o.exports.DeleteReaction=d(D,"DeleteReaction"),o.exports.UpdatePullRequest=d(D,"UpdatePullRequest"),o.exports.AddIssueComment=d(D,"AddIssueComment"),o.exports.EditIssueComment=d(D,"EditIssueComment"),o.exports.GetMentionableUsers=d(D,"GetMentionableUsers"),o.exports.GetAssignableUsers=d(D,"GetAssignableUsers"),o.exports.IssuesWithoutMilestone=d(D,"IssuesWithoutMilestone"),o.exports.MaxIssue=d(D,"MaxIssue"),o.exports.GetMilestones=d(D,"GetMilestones"),o.exports.Issues=d(D,"Issues"),o.exports.GetViewerPermission=d(D,"GetViewerPermission"),o.exports.GetRepositoryForkDetails=d(D,"GetRepositoryForkDetails"),o.exports.GetChecks=d(D,"GetChecks"),o.exports.ResolveReviewThread=d(D,"ResolveReviewThread"),o.exports.UnresolveReviewThread=d(D,"UnresolveReviewThread"),o.exports.MarkFileAsViewed=d(D,"MarkFileAsViewed"),o.exports.UnmarkFileAsViewed=d(D,"UnmarkFileAsViewed")},972:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=g;var R=E(v(7706)),T=E(v(8554));function E(d){return d&&d.__esModule?d:{default:d}}function g(d){var f=d.prototype.toJSON;typeof f=="function"||(0,R.default)(0),d.prototype.inspect=f,T.default&&(d.prototype[T.default]=f)}},8002:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=f;var R=T(v(8554));function T(C){return C&&C.__esModule?C:{default:C}}function E(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(S){return typeof S}:E=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},E(C)}var g=10,d=2;function f(C){return m(C,[])}function m(C,k){switch(E(C)){case"string":return JSON.stringify(C);case"function":return C.name?"[function ".concat(C.name,"]"):"[function]";case"object":return C===null?"null":h(C,k);default:return String(C)}}function h(C,k){if(k.indexOf(C)!==-1)return"[Circular]";var S=[].concat(k,[C]),x=P(C);if(x!==void 0){var G=x.call(C);if(G!==C)return typeof G=="string"?G:m(G,S)}else if(Array.isArray(C))return y(C,S);return w(C,S)}function w(C,k){var S=Object.keys(C);if(S.length===0)return"{}";if(k.length>d)return"["+Q(C)+"]";var x=S.map(function(G){var W=m(C[G],k);return G+": "+W});return"{ "+x.join(", ")+" }"}function y(C,k){if(C.length===0)return"[]";if(k.length>d)return"[Array]";for(var S=Math.min(g,C.length),x=C.length-S,G=[],W=0;W<S;++W)G.push(m(C[W],k));return x===1?G.push("... 1 more item"):x>1&&G.push("... ".concat(x," more items")),"["+G.join(", ")+"]"}function P(C){var k=C[String(R.default)];if(typeof k=="function")return k;if(typeof C.inspect=="function")return C.inspect}function Q(C){var k=Object.prototype.toString.call(C).replace(/^\[object /,"").replace(/]$/,"");if(k==="Object"&&typeof C.constructor=="function"){var S=C.constructor.name;if(typeof S=="string"&&S!=="")return S}return k}},7706:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=v;function v(R,T){var E=Boolean(R);if(!E)throw new Error(T!=null?T:"Unexpected invariant triggered.")}},8554:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var v=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,R=v;D.default=R},1807:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.isNode=d,D.Token=D.Location=void 0;var R=T(v(972));function T(f){return f&&f.__esModule?f:{default:f}}var E=function(){function f(h,w,y){this.start=h.start,this.end=w.end,this.startToken=h,this.endToken=w,this.source=y}var m=f.prototype;return m.toJSON=function(){return{start:this.start,end:this.end}},f}();D.Location=E,(0,R.default)(E);var g=function(){function f(h,w,y,P,Q,C,k){this.kind=h,this.start=w,this.end=y,this.line=P,this.column=Q,this.value=k,this.prev=C,this.next=null}var m=f.prototype;return m.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},f}();D.Token=g,(0,R.default)(g);function d(f){return f!=null&&typeof f.kind=="string"}},849:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.dedentBlockStringValue=v,D.getBlockStringIndentation=T,D.printBlockString=E;function v(g){var d=g.split(/\r\n|[\n\r]/g),f=T(g);if(f!==0)for(var m=1;m<d.length;m++)d[m]=d[m].slice(f);for(var h=0;h<d.length&&R(d[h]);)++h;for(var w=d.length;w>h&&R(d[w-1]);)--w;return d.slice(h,w).join(`
`)}function R(g){for(var d=0;d<g.length;++d)if(g[d]!==" "&&g[d]!=="	")return!1;return!0}function T(g){for(var d,f=!0,m=!0,h=0,w=null,y=0;y<g.length;++y)switch(g.charCodeAt(y)){case 13:g.charCodeAt(y+1)===10&&++y;case 10:f=!1,m=!0,h=0;break;case 9:case 32:++h;break;default:m&&!f&&(w===null||h<w)&&(w=h),m=!1}return(d=w)!==null&&d!==void 0?d:0}function E(g){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=g.indexOf(`
`)===-1,h=g[0]===" "||g[0]==="	",w=g[g.length-1]==='"',y=g[g.length-1]==="\\",P=!m||w||y||f,Q="";return P&&!(m&&h)&&(Q+=`
`+d),Q+=d?g.replace(/\n/g,`
`+d):g,P&&(Q+=`
`),'"""'+Q.replace(/"""/g,'\\"""')+'"""'}},3033:(o,D,v)=>{"use strict";var R;R={value:!0},D.S=g;var T=v(285),E=v(849);function g(k){return(0,T.visit)(k,{leave:f})}var d=80,f={Name:function(S){return S.value},Variable:function(S){return"$"+S.name},Document:function(S){return h(S.definitions,`

`)+`
`},OperationDefinition:function(S){var x=S.operation,G=S.name,W=y("(",h(S.variableDefinitions,", "),")"),j=h(S.directives," "),X=S.selectionSet;return!G&&!j&&!W&&x==="query"?X:h([x,h([G,W]),j,X]," ")},VariableDefinition:function(S){var x=S.variable,G=S.type,W=S.defaultValue,j=S.directives;return x+": "+G+y(" = ",W)+y(" ",h(j," "))},SelectionSet:function(S){var x=S.selections;return w(x)},Field:function(S){var x=S.alias,G=S.name,W=S.arguments,j=S.directives,X=S.selectionSet,A=y("",x,": ")+G,H=A+y("(",h(W,", "),")");return H.length>d&&(H=A+y(`(
`,P(h(W,`
`)),`
)`)),h([H,h(j," "),X]," ")},Argument:function(S){var x=S.name,G=S.value;return x+": "+G},FragmentSpread:function(S){var x=S.name,G=S.directives;return"..."+x+y(" ",h(G," "))},InlineFragment:function(S){var x=S.typeCondition,G=S.directives,W=S.selectionSet;return h(["...",y("on ",x),h(G," "),W]," ")},FragmentDefinition:function(S){var x=S.name,G=S.typeCondition,W=S.variableDefinitions,j=S.directives,X=S.selectionSet;return"fragment ".concat(x).concat(y("(",h(W,", "),")")," ")+"on ".concat(G," ").concat(y("",h(j," ")," "))+X},IntValue:function(S){var x=S.value;return x},FloatValue:function(S){var x=S.value;return x},StringValue:function(S,x){var G=S.value,W=S.block;return W?(0,E.printBlockString)(G,x==="description"?"":"  "):JSON.stringify(G)},BooleanValue:function(S){var x=S.value;return x?"true":"false"},NullValue:function(){return"null"},EnumValue:function(S){var x=S.value;return x},ListValue:function(S){var x=S.values;return"["+h(x,", ")+"]"},ObjectValue:function(S){var x=S.fields;return"{"+h(x,", ")+"}"},ObjectField:function(S){var x=S.name,G=S.value;return x+": "+G},Directive:function(S){var x=S.name,G=S.arguments;return"@"+x+y("(",h(G,", "),")")},NamedType:function(S){var x=S.name;return x},ListType:function(S){var x=S.type;return"["+x+"]"},NonNullType:function(S){var x=S.type;return x+"!"},SchemaDefinition:m(function(k){var S=k.directives,x=k.operationTypes;return h(["schema",h(S," "),w(x)]," ")}),OperationTypeDefinition:function(S){var x=S.operation,G=S.type;return x+": "+G},ScalarTypeDefinition:m(function(k){var S=k.name,x=k.directives;return h(["scalar",S,h(x," ")]," ")}),ObjectTypeDefinition:m(function(k){var S=k.name,x=k.interfaces,G=k.directives,W=k.fields;return h(["type",S,y("implements ",h(x," & ")),h(G," "),w(W)]," ")}),FieldDefinition:m(function(k){var S=k.name,x=k.arguments,G=k.type,W=k.directives;return S+(C(x)?y(`(
`,P(h(x,`
`)),`
)`):y("(",h(x,", "),")"))+": "+G+y(" ",h(W," "))}),InputValueDefinition:m(function(k){var S=k.name,x=k.type,G=k.defaultValue,W=k.directives;return h([S+": "+x,y("= ",G),h(W," ")]," ")}),InterfaceTypeDefinition:m(function(k){var S=k.name,x=k.interfaces,G=k.directives,W=k.fields;return h(["interface",S,y("implements ",h(x," & ")),h(G," "),w(W)]," ")}),UnionTypeDefinition:m(function(k){var S=k.name,x=k.directives,G=k.types;return h(["union",S,h(x," "),G&&G.length!==0?"= "+h(G," | "):""]," ")}),EnumTypeDefinition:m(function(k){var S=k.name,x=k.directives,G=k.values;return h(["enum",S,h(x," "),w(G)]," ")}),EnumValueDefinition:m(function(k){var S=k.name,x=k.directives;return h([S,h(x," ")]," ")}),InputObjectTypeDefinition:m(function(k){var S=k.name,x=k.directives,G=k.fields;return h(["input",S,h(x," "),w(G)]," ")}),DirectiveDefinition:m(function(k){var S=k.name,x=k.arguments,G=k.repeatable,W=k.locations;return"directive @"+S+(C(x)?y(`(
`,P(h(x,`
`)),`
)`):y("(",h(x,", "),")"))+(G?" repeatable":"")+" on "+h(W," | ")}),SchemaExtension:function(S){var x=S.directives,G=S.operationTypes;return h(["extend schema",h(x," "),w(G)]," ")},ScalarTypeExtension:function(S){var x=S.name,G=S.directives;return h(["extend scalar",x,h(G," ")]," ")},ObjectTypeExtension:function(S){var x=S.name,G=S.interfaces,W=S.directives,j=S.fields;return h(["extend type",x,y("implements ",h(G," & ")),h(W," "),w(j)]," ")},InterfaceTypeExtension:function(S){var x=S.name,G=S.interfaces,W=S.directives,j=S.fields;return h(["extend interface",x,y("implements ",h(G," & ")),h(W," "),w(j)]," ")},UnionTypeExtension:function(S){var x=S.name,G=S.directives,W=S.types;return h(["extend union",x,h(G," "),W&&W.length!==0?"= "+h(W," | "):""]," ")},EnumTypeExtension:function(S){var x=S.name,G=S.directives,W=S.values;return h(["extend enum",x,h(G," "),w(W)]," ")},InputObjectTypeExtension:function(S){var x=S.name,G=S.directives,W=S.fields;return h(["extend input",x,h(G," "),w(W)]," ")}};function m(k){return function(S){return h([S.description,k(S)],`
`)}}function h(k){var S,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(S=k==null?void 0:k.filter(function(G){return G}).join(x))!==null&&S!==void 0?S:""}function w(k){return y(`{
`,P(h(k,`
`)),`
}`)}function y(k,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return S!=null&&S!==""?k+S+x:""}function P(k){return y("  ",k.replace(/\n/g,`
  `))}function Q(k){return k.indexOf(`
`)!==-1}function C(k){return k!=null&&k.some(Q)}},285:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.visit=f,D.visitInParallel=m,D.getVisitFn=h,D.BREAK=D.QueryDocumentKeys=void 0;var R=E(v(8002)),T=v(1807);function E(w){return w&&w.__esModule?w:{default:w}}var g={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};D.QueryDocumentKeys=g;var d=Object.freeze({});D.BREAK=d;function f(w,y){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,Q=void 0,C=Array.isArray(w),k=[w],S=-1,x=[],G=void 0,W=void 0,j=void 0,X=[],A=[],H=w;do{S++;var O=S===k.length,I=O&&x.length!==0;if(O){if(W=A.length===0?void 0:X[X.length-1],G=j,j=A.pop(),I){if(C)G=G.slice();else{for(var N={},L=0,F=Object.keys(G);L<F.length;L++){var M=F[L];N[M]=G[M]}G=N}for(var B=0,J=0;J<x.length;J++){var re=x[J][0],te=x[J][1];C&&(re-=B),C&&te===null?(G.splice(re,1),B++):G[re]=te}}S=Q.index,k=Q.keys,x=Q.edits,C=Q.inArray,Q=Q.prev}else{if(W=j?C?S:k[S]:void 0,G=j?j[W]:H,G==null)continue;j&&X.push(W)}var ae=void 0;if(!Array.isArray(G)){if(!(0,T.isNode)(G))throw new Error("Invalid AST Node: ".concat((0,R.default)(G),"."));var ue=h(y,G.kind,O);if(ue){if(ae=ue.call(y,G,W,j,X,A),ae===d)break;if(ae===!1){if(!O){X.pop();continue}}else if(ae!==void 0&&(x.push([W,ae]),!O))if((0,T.isNode)(ae))G=ae;else{X.pop();continue}}}if(ae===void 0&&I&&x.push([W,G]),O)X.pop();else{var pe;Q={inArray:C,index:S,keys:k,edits:x,prev:Q},C=Array.isArray(G),k=C?G:(pe=P[G.kind])!==null&&pe!==void 0?pe:[],S=-1,x=[],j&&A.push(j),j=G}}while(Q!==void 0);return x.length!==0&&(H=x[x.length-1][1]),H}function m(w){var y=new Array(w.length);return{enter:function(Q){for(var C=0;C<w.length;C++)if(y[C]==null){var k=h(w[C],Q.kind,!1);if(k){var S=k.apply(w[C],arguments);if(S===!1)y[C]=Q;else if(S===d)y[C]=d;else if(S!==void 0)return S}}},leave:function(Q){for(var C=0;C<w.length;C++)if(y[C]==null){var k=h(w[C],Q.kind,!0);if(k){var S=k.apply(w[C],arguments);if(S===d)y[C]=d;else if(S!==void 0&&S!==!1)return S}}else y[C]===Q&&(y[C]=null)}}}function h(w,y,P){var Q=w[y];if(Q){if(!P&&typeof Q=="function")return Q;var C=P?Q.leave:Q.enter;if(typeof C=="function")return C}else{var k=P?w.leave:w.enter;if(k){if(typeof k=="function")return k;var S=k[y];if(typeof S=="function")return S}}}},9593:(o,D,v)=>{"use strict";const R=v(4411),T=Symbol("max"),E=Symbol("length"),g=Symbol("lengthCalculator"),d=Symbol("allowStale"),f=Symbol("maxAge"),m=Symbol("dispose"),h=Symbol("noDisposeOnSet"),w=Symbol("lruList"),y=Symbol("cache"),P=Symbol("updateAgeOnGet"),Q=()=>1;class C{constructor(A){if(typeof A=="number"&&(A={max:A}),A||(A={}),A.max&&(typeof A.max!="number"||A.max<0))throw new TypeError("max must be a non-negative number");const H=this[T]=A.max||Infinity,O=A.length||Q;if(this[g]=typeof O!="function"?Q:O,this[d]=A.stale||!1,A.maxAge&&typeof A.maxAge!="number")throw new TypeError("maxAge must be a number");this[f]=A.maxAge||0,this[m]=A.dispose,this[h]=A.noDisposeOnSet||!1,this[P]=A.updateAgeOnGet||!1,this.reset()}set max(A){if(typeof A!="number"||A<0)throw new TypeError("max must be a non-negative number");this[T]=A||Infinity,x(this)}get max(){return this[T]}set allowStale(A){this[d]=!!A}get allowStale(){return this[d]}set maxAge(A){if(typeof A!="number")throw new TypeError("maxAge must be a non-negative number");this[f]=A,x(this)}get maxAge(){return this[f]}set lengthCalculator(A){typeof A!="function"&&(A=Q),A!==this[g]&&(this[g]=A,this[E]=0,this[w].forEach(H=>{H.length=this[g](H.value,H.key),this[E]+=H.length})),x(this)}get lengthCalculator(){return this[g]}get length(){return this[E]}get itemCount(){return this[w].length}rforEach(A,H){H=H||this;for(let O=this[w].tail;O!==null;){const I=O.prev;j(this,A,O,H),O=I}}forEach(A,H){H=H||this;for(let O=this[w].head;O!==null;){const I=O.next;j(this,A,O,H),O=I}}keys(){return this[w].toArray().map(A=>A.key)}values(){return this[w].toArray().map(A=>A.value)}reset(){this[m]&&this[w]&&this[w].length&&this[w].forEach(A=>this[m](A.key,A.value)),this[y]=new Map,this[w]=new R,this[E]=0}dump(){return this[w].map(A=>S(this,A)?!1:{k:A.key,v:A.value,e:A.now+(A.maxAge||0)}).toArray().filter(A=>A)}dumpLru(){return this[w]}set(A,H,O){if(O=O||this[f],O&&typeof O!="number")throw new TypeError("maxAge must be a number");const I=O?Date.now():0,N=this[g](H,A);if(this[y].has(A)){if(N>this[T])return G(this,this[y].get(A)),!1;const M=this[y].get(A).value;return this[m]&&(this[h]||this[m](A,M.value)),M.now=I,M.maxAge=O,M.value=H,this[E]+=N-M.length,M.length=N,this.get(A),x(this),!0}const L=new W(A,H,N,I,O);return L.length>this[T]?(this[m]&&this[m](A,H),!1):(this[E]+=L.length,this[w].unshift(L),this[y].set(A,this[w].head),x(this),!0)}has(A){if(!this[y].has(A))return!1;const H=this[y].get(A).value;return!S(this,H)}get(A){return k(this,A,!0)}peek(A){return k(this,A,!1)}pop(){const A=this[w].tail;return A?(G(this,A),A.value):null}del(A){G(this,this[y].get(A))}load(A){this.reset();const H=Date.now();for(let O=A.length-1;O>=0;O--){const I=A[O],N=I.e||0;if(N===0)this.set(I.k,I.v);else{const L=N-H;L>0&&this.set(I.k,I.v,L)}}}prune(){this[y].forEach((A,H)=>k(this,H,!1))}}const k=(X,A,H)=>{const O=X[y].get(A);if(O){const I=O.value;if(S(X,I)){if(G(X,O),!X[d])return}else H&&(X[P]&&(O.value.now=Date.now()),X[w].unshiftNode(O));return I.value}},S=(X,A)=>{if(!A||!A.maxAge&&!X[f])return!1;const H=Date.now()-A.now;return A.maxAge?H>A.maxAge:X[f]&&H>X[f]},x=X=>{if(X[E]>X[T])for(let A=X[w].tail;X[E]>X[T]&&A!==null;){const H=A.prev;G(X,A),A=H}},G=(X,A)=>{if(A){const H=A.value;X[m]&&X[m](H.key,H.value),X[E]-=H.length,X[y].delete(H.key),X[w].removeNode(A)}};class W{constructor(A,H,O,I,N){this.key=A,this.value=H,this.length=O,this.now=I,this.maxAge=N||0}}const j=(X,A,H,O)=>{let I=H.value;S(X,I)&&(G(X,H),X[d]||(I=void 0)),I&&A.call(O,I.value,I.key,X)};o.exports=C},7468:(o,D,v)=>{const R=v(9930),{defaults:T}=v(8644),{inline:E}=v(9709),{findClosingBracket:g,escape:d}=v(621);o.exports=class ji{constructor(m,h){if(this.options=h||T,this.links=m,this.rules=E.normal,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=E.pedantic:this.options.gfm&&(this.options.breaks?this.rules=E.breaks:this.rules=E.gfm)}static get rules(){return E}static output(m,h,w){return new ji(h,w).output(m)}output(m){let h="",w,y,P,Q,C,k;for(;m;){if(C=this.rules.escape.exec(m)){m=m.substring(C[0].length),h+=d(C[1]);continue}if(C=this.rules.tag.exec(m)){!this.inLink&&/^<a /i.test(C[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(C[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(C[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(C[0])&&(this.inRawBlock=!1),m=m.substring(C[0].length),h+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(C[0]):d(C[0]):C[0]);continue}if(C=this.rules.link.exec(m)){const S=g(C[2],"()");if(S>-1){const G=(C[0].indexOf("!")===0?5:4)+C[1].length+S;C[2]=C[2].substring(0,S),C[0]=C[0].substring(0,G).trim(),C[3]=""}m=m.substring(C[0].length),this.inLink=!0,P=C[2],this.options.pedantic?(w=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(P),w?(P=w[1],Q=w[3]):Q=""):Q=C[3]?C[3].slice(1,-1):"",P=P.trim().replace(/^<([\s\S]*)>$/,"$1"),h+=this.outputLink(C,{href:ji.escapes(P),title:ji.escapes(Q)}),this.inLink=!1;continue}if((C=this.rules.reflink.exec(m))||(C=this.rules.nolink.exec(m))){if(m=m.substring(C[0].length),w=(C[2]||C[1]).replace(/\s+/g," "),w=this.links[w.toLowerCase()],!w||!w.href){h+=C[0].charAt(0),m=C[0].substring(1)+m;continue}this.inLink=!0,h+=this.outputLink(C,w),this.inLink=!1;continue}if(C=this.rules.strong.exec(m)){m=m.substring(C[0].length),h+=this.renderer.strong(this.output(C[4]||C[3]||C[2]||C[1]));continue}if(C=this.rules.em.exec(m)){m=m.substring(C[0].length),h+=this.renderer.em(this.output(C[6]||C[5]||C[4]||C[3]||C[2]||C[1]));continue}if(C=this.rules.code.exec(m)){m=m.substring(C[0].length),h+=this.renderer.codespan(d(C[2].trim(),!0));continue}if(C=this.rules.br.exec(m)){m=m.substring(C[0].length),h+=this.renderer.br();continue}if(C=this.rules.del.exec(m)){m=m.substring(C[0].length),h+=this.renderer.del(this.output(C[1]));continue}if(C=this.rules.autolink.exec(m)){m=m.substring(C[0].length),C[2]==="@"?(y=d(this.mangle(C[1])),P="mailto:"+y):(y=d(C[1]),P=y),h+=this.renderer.link(P,null,y);continue}if(!this.inLink&&(C=this.rules.url.exec(m))){if(C[2]==="@")y=d(C[0]),P="mailto:"+y;else{do k=C[0],C[0]=this.rules._backpedal.exec(C[0])[0];while(k!==C[0]);y=d(C[0]),C[1]==="www."?P="http://"+y:P=y}m=m.substring(C[0].length),h+=this.renderer.link(P,null,y);continue}if(C=this.rules.text.exec(m)){m=m.substring(C[0].length),this.inRawBlock?h+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(C[0]):d(C[0]):C[0]):h+=this.renderer.text(d(this.smartypants(C[0])));continue}if(m)throw new Error("Infinite loop on byte: "+m.charCodeAt(0))}return h}static escapes(m){return m&&m.replace(ji.rules._escapes,"$1")}outputLink(m,h){const w=h.href,y=h.title?d(h.title):null;return m[0].charAt(0)!=="!"?this.renderer.link(w,y,this.output(m[1])):this.renderer.image(w,y,d(m[1]))}smartypants(m){return this.options.smartypants?m.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):m}mangle(m){if(!this.options.mangle)return m;const h=m.length;let w="",y=0,P;for(;y<h;y++)P=m.charCodeAt(y),Math.random()>.5&&(P="x"+P.toString(16)),w+="&#"+P+";";return w}}},1092:(o,D,v)=>{const{defaults:R}=v(8644),{block:T}=v(9709),{rtrim:E,splitCells:g,escape:d}=v(621);o.exports=class cl{constructor(m){this.tokens=[],this.tokens.links=Object.create(null),this.options=m||R,this.rules=T.normal,this.options.pedantic?this.rules=T.pedantic:this.options.gfm&&(this.rules=T.gfm)}static get rules(){return T}static lex(m,h){return new cl(h).lex(m)}lex(m){return m=m.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.token(m,!0)}token(m,h){m=m.replace(/^ +$/gm,"");let w,y,P,Q,C,k,S,x,G,W,j,X,A,H,O,I;for(;m;){if((P=this.rules.newline.exec(m))&&(m=m.substring(P[0].length),P[0].length>1&&this.tokens.push({type:"space"})),P=this.rules.code.exec(m)){const N=this.tokens[this.tokens.length-1];m=m.substring(P[0].length),N&&N.type==="paragraph"?N.text+=`
`+P[0].trimRight():(P=P[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?P:E(P,`
`)}));continue}if(P=this.rules.fences.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:"code",lang:P[2]?P[2].trim():P[2],text:P[3]||""});continue}if(P=this.rules.heading.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:"heading",depth:P[1].length,text:P[2]});continue}if((P=this.rules.nptable.exec(m))&&(k={type:"table",header:g(P[1].replace(/^ *| *\| *$/g,"")),align:P[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:P[3]?P[3].replace(/\n$/,"").split(`
`):[]},k.header.length===k.align.length)){for(m=m.substring(P[0].length),j=0;j<k.align.length;j++)/^ *-+: *$/.test(k.align[j])?k.align[j]="right":/^ *:-+: *$/.test(k.align[j])?k.align[j]="center":/^ *:-+ *$/.test(k.align[j])?k.align[j]="left":k.align[j]=null;for(j=0;j<k.cells.length;j++)k.cells[j]=g(k.cells[j],k.header.length);this.tokens.push(k);continue}if(P=this.rules.hr.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:"hr"});continue}if(P=this.rules.blockquote.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:"blockquote_start"}),P=P[0].replace(/^ *> ?/gm,""),this.token(P,h),this.tokens.push({type:"blockquote_end"});continue}if(P=this.rules.list.exec(m)){for(m=m.substring(P[0].length),Q=P[2],H=Q.length>1,S={type:"list_start",ordered:H,start:H?+Q:"",loose:!1},this.tokens.push(S),P=P[0].match(this.rules.item),x=[],w=!1,A=P.length,j=0;j<A;j++)k=P[j],W=k.length,k=k.replace(/^ *([*+-]|\d+\.) */,""),~k.indexOf(`
 `)&&(W-=k.length,k=this.options.pedantic?k.replace(/^ {1,4}/gm,""):k.replace(new RegExp("^ {1,"+W+"}","gm"),"")),j!==A-1&&(C=T.bullet.exec(P[j+1])[0],(Q.length>1?C.length===1:C.length>1||this.options.smartLists&&C!==Q)&&(m=P.slice(j+1).join(`
`)+m,j=A-1)),y=w||/\n\n(?!\s*$)/.test(k),j!==A-1&&(w=k.charAt(k.length-1)===`
`,y||(y=w)),y&&(S.loose=!0),O=/^\[[ xX]\] /.test(k),I=void 0,O&&(I=k[1]!==" ",k=k.replace(/^\[[ xX]\] +/,"")),G={type:"list_item_start",task:O,checked:I,loose:y},x.push(G),this.tokens.push(G),this.token(k,!1),this.tokens.push({type:"list_item_end"});if(S.loose)for(A=x.length,j=0;j<A;j++)x[j].loose=!0;this.tokens.push({type:"list_end"});continue}if(P=this.rules.html.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(P[1]==="pre"||P[1]==="script"||P[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(P[0]):d(P[0]):P[0]});continue}if(h&&(P=this.rules.def.exec(m))){m=m.substring(P[0].length),P[3]&&(P[3]=P[3].substring(1,P[3].length-1)),X=P[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[X]||(this.tokens.links[X]={href:P[2],title:P[3]});continue}if((P=this.rules.table.exec(m))&&(k={type:"table",header:g(P[1].replace(/^ *| *\| *$/g,"")),align:P[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:P[3]?P[3].replace(/\n$/,"").split(`
`):[]},k.header.length===k.align.length)){for(m=m.substring(P[0].length),j=0;j<k.align.length;j++)/^ *-+: *$/.test(k.align[j])?k.align[j]="right":/^ *:-+: *$/.test(k.align[j])?k.align[j]="center":/^ *:-+ *$/.test(k.align[j])?k.align[j]="left":k.align[j]=null;for(j=0;j<k.cells.length;j++)k.cells[j]=g(k.cells[j].replace(/^ *\| *| *\| *$/g,""),k.header.length);this.tokens.push(k);continue}if(P=this.rules.lheading.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:"heading",depth:P[2].charAt(0)==="="?1:2,text:P[1]});continue}if(h&&(P=this.rules.paragraph.exec(m))){m=m.substring(P[0].length),this.tokens.push({type:"paragraph",text:P[1].charAt(P[1].length-1)===`
`?P[1].slice(0,-1):P[1]});continue}if(P=this.rules.text.exec(m)){m=m.substring(P[0].length),this.tokens.push({type:"text",text:P[0]});continue}if(m)throw new Error("Infinite loop on byte: "+m.charCodeAt(0))}return this.tokens}}},9170:(o,D,v)=>{const R=v(9930),T=v(1846),E=v(7468),g=v(1477),{defaults:d}=v(8644),{merge:f,unescape:m}=v(621);o.exports=class dl{constructor(w){this.tokens=[],this.token=null,this.options=w||d,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new T}static parse(w,y){return new dl(y).parse(w)}parse(w){this.inline=new E(w.links,this.options),this.inlineText=new E(w.links,f({},this.options,{renderer:new g})),this.tokens=w.reverse();let y="";for(;this.next();)y+=this.tok();return y}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let w=this.token.text;for(;this.peek().type==="text";)w+=`
`+this.next().text;return this.inline.output(w)}tok(){let w="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,m(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let y="",P,Q,C,k;for(C="",P=0;P<this.token.header.length;P++)C+=this.renderer.tablecell(this.inline.output(this.token.header[P]),{header:!0,align:this.token.align[P]});for(y+=this.renderer.tablerow(C),P=0;P<this.token.cells.length;P++){for(Q=this.token.cells[P],C="",k=0;k<Q.length;k++)C+=this.renderer.tablecell(this.inline.output(Q[k]),{header:!1,align:this.token.align[k]});w+=this.renderer.tablerow(C)}return this.renderer.table(y,w)}case"blockquote_start":{for(w="";this.next().type!=="blockquote_end";)w+=this.tok();return this.renderer.blockquote(w)}case"list_start":{w="";const y=this.token.ordered,P=this.token.start;for(;this.next().type!=="list_end";)w+=this.tok();return this.renderer.list(w,y,P)}case"list_item_start":{w="";const y=this.token.loose,P=this.token.checked,Q=this.token.task;if(this.token.task)if(y)if(this.peek().type==="text"){const C=this.peek();C.text=this.renderer.checkbox(P)+" "+C.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(P)});else w+=this.renderer.checkbox(P);for(;this.next().type!=="list_item_end";)w+=!y&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(w,Q,P)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const y='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(y);else throw new Error(y)}}}}},9930:(o,D,v)=>{const{defaults:R}=v(8644),{cleanUrl:T,escape:E}=v(621);o.exports=class{constructor(d){this.options=d||R}code(d,f,m){const h=(f||"").match(/\S*/)[0];if(this.options.highlight){const w=this.options.highlight(d,h);w!=null&&w!==d&&(m=!0,d=w)}return h?'<pre><code class="'+this.options.langPrefix+E(h,!0)+'">'+(m?d:E(d,!0))+`</code></pre>
`:"<pre><code>"+(m?d:E(d,!0))+"</code></pre>"}blockquote(d){return`<blockquote>
`+d+`</blockquote>
`}html(d){return d}heading(d,f,m,h){return this.options.headerIds?"<h"+f+' id="'+this.options.headerPrefix+h.slug(m)+'">'+d+"</h"+f+`>
`:"<h"+f+">"+d+"</h"+f+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(d,f,m){const h=f?"ol":"ul",w=f&&m!==1?' start="'+m+'"':"";return"<"+h+w+`>
`+d+"</"+h+`>
`}listitem(d){return"<li>"+d+`</li>
`}checkbox(d){return"<input "+(d?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(d){return"<p>"+d+`</p>
`}table(d,f){return f&&(f="<tbody>"+f+"</tbody>"),`<table>
<thead>
`+d+`</thead>
`+f+`</table>
`}tablerow(d){return`<tr>
`+d+`</tr>
`}tablecell(d,f){const m=f.header?"th":"td";return(f.align?"<"+m+' align="'+f.align+'">':"<"+m+">")+d+"</"+m+`>
`}strong(d){return"<strong>"+d+"</strong>"}em(d){return"<em>"+d+"</em>"}codespan(d){return"<code>"+d+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(d){return"<del>"+d+"</del>"}link(d,f,m){if(d=T(this.options.sanitize,this.options.baseUrl,d),d===null)return m;let h='<a href="'+E(d)+'"';return f&&(h+=' title="'+f+'"'),h+=">"+m+"</a>",h}image(d,f,m){if(d=T(this.options.sanitize,this.options.baseUrl,d),d===null)return m;let h='<img src="'+d+'" alt="'+m+'"';return f&&(h+=' title="'+f+'"'),h+=this.options.xhtml?"/>":">",h}text(d){return d}}},1846:o=>{o.exports=class{constructor(){this.seen={}}slug(v){let R=v.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(R)){const T=R;do this.seen[T]++,R=T+"-"+this.seen[T];while(this.seen.hasOwnProperty(R))}return this.seen[R]=0,R}}},1477:o=>{o.exports=class{strong(v){return v}em(v){return v}codespan(v){return v}del(v){return v}html(v){return v}text(v){return v}link(v,R,T){return""+T}image(v,R,T){return""+T}br(){return""}}},8644:o=>{function D(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}function v(R){o.exports.defaults=R}o.exports={defaults:D(),getDefaults:D,changeDefaults:v}},621:o=>{const D=/[&<>"']/,v=/[&<>"']/g,R=/[<>"']|&(?!#?\w+;)/,T=/[<>"']|&(?!#?\w+;)/g,E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=I=>E[I];function d(I,N){if(N){if(D.test(I))return I.replace(v,g)}else if(R.test(I))return I.replace(T,g);return I}const f=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function m(I){return I.replace(f,(N,L)=>(L=L.toLowerCase(),L==="colon"?":":L.charAt(0)==="#"?L.charAt(1)==="x"?String.fromCharCode(parseInt(L.substring(2),16)):String.fromCharCode(+L.substring(1)):""))}const h=/(^|[^\[])\^/g;function w(I,N){I=I.source||I,N=N||"";const L={replace:(F,M)=>(M=M.source||M,M=M.replace(h,"$1"),I=I.replace(F,M),L),getRegex:()=>new RegExp(I,N)};return L}const y=/[^\w:]/g,P=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Q(I,N,L){if(I){let F;try{F=decodeURIComponent(m(L)).replace(y,"").toLowerCase()}catch(M){return null}if(F.indexOf("javascript:")===0||F.indexOf("vbscript:")===0||F.indexOf("data:")===0)return null}N&&!P.test(L)&&(L=G(N,L));try{L=encodeURI(L).replace(/%25/g,"%")}catch(F){return null}return L}const C={},k=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,x=/^([^:]+:\/*[^/]*)[\s\S]*$/;function G(I,N){C[" "+I]||(k.test(I)?C[" "+I]=I+"/":C[" "+I]=A(I,"/",!0)),I=C[" "+I];const L=I.indexOf(":")===-1;return N.substring(0,2)==="//"?L?N:I.replace(S,"$1")+N:N.charAt(0)==="/"?L?N:I.replace(x,"$1")+N:I+N}const W={exec:function(){}};function j(I){let N=1,L,F;for(;N<arguments.length;N++){L=arguments[N];for(F in L)Object.prototype.hasOwnProperty.call(L,F)&&(I[F]=L[F])}return I}function X(I,N){const L=I.replace(/\|/g,(B,J,re)=>{let te=!1,ae=J;for(;--ae>=0&&re[ae]==="\\";)te=!te;return te?"|":" |"}),F=L.split(/ \|/);let M=0;if(F.length>N)F.splice(N);else for(;F.length<N;)F.push("");for(;M<F.length;M++)F[M]=F[M].trim().replace(/\\\|/g,"|");return F}function A(I,N,L){const F=I.length;if(F===0)return"";let M=0;for(;M<F;){const B=I.charAt(F-M-1);if(B===N&&!L)M++;else if(B!==N&&L)M++;else break}return I.substr(0,F-M)}function H(I,N){if(I.indexOf(N[1])===-1)return-1;const L=I.length;let F=0,M=0;for(;M<L;M++)if(I[M]==="\\")M++;else if(I[M]===N[0])F++;else if(I[M]===N[1]&&(F--,F<0))return M;return-1}function O(I){I&&I.sanitize&&!I.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}o.exports={escape:d,unescape:m,edit:w,cleanUrl:Q,resolveUrl:G,noopTest:W,merge:j,splitCells:X,rtrim:A,findClosingBracket:H,checkSanitizeDeprecation:O}},7228:(o,D,v)=>{const R=v(1092),T=v(9170),E=v(9930),g=v(1477),d=v(7468),f=v(1846),{merge:m,checkSanitizeDeprecation:h,escape:w}=v(621),{getDefaults:y,changeDefaults:P,defaults:Q}=v(8644);function C(k,S,x){if(typeof k=="undefined"||k===null)throw new Error("marked(): input parameter is undefined or null");if(typeof k!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(k)+", string expected");if(x||typeof S=="function"){x||(x=S,S=null),S=m({},C.defaults,S||{}),h(S);const G=S.highlight;let W,j,X=0;try{W=R.lex(k,S)}catch(H){return x(H)}j=W.length;const A=function(H){if(H)return S.highlight=G,x(H);let O;try{O=T.parse(W,S)}catch(I){H=I}return S.highlight=G,H?x(H):x(null,O)};if(!G||G.length<3||(delete S.highlight,!j))return A();for(;X<W.length;X++)(function(H){return H.type!=="code"?--j||A():G(H.text,H.lang,function(O,I){if(O)return A(O);if(I==null||I===H.text)return--j||A();H.text=I,H.escaped=!0,--j||A()})})(W[X]);return}try{return S=m({},C.defaults,S||{}),h(S),T.parse(R.lex(k,S),S)}catch(G){if(G.message+=`
Please report this to https://github.com/markedjs/marked.`,(S||C.defaults).silent)return"<p>An error occurred:</p><pre>"+w(G.message+"",!0)+"</pre>";throw G}}C.options=C.setOptions=function(k){return m(C.defaults,k),P(C.defaults),C},C.getDefaults=y,C.defaults=Q,C.Parser=T,C.parser=T.parse,C.Renderer=E,C.TextRenderer=g,C.Lexer=R,C.lexer=R.lex,C.InlineLexer=d,C.inlineLexer=d.output,C.Slugger=f,C.parse=C,o.exports=C},9709:(o,D,v)=>{const{noopTest:R,edit:T,merge:E}=v(621),g={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:R,table:R,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};g._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,g._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,g.def=T(g.def).replace("label",g._label).replace("title",g._title).getRegex(),g.bullet=/(?:[*+-]|\d{1,9}\.)/,g.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,g.item=T(g.item,"gm").replace(/bull/g,g.bullet).getRegex(),g.list=T(g.list).replace(/bull/g,g.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+g.def.source+")").getRegex(),g._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",g._comment=/<!--(?!-?>)[\s\S]*?-->/,g.html=T(g.html,"i").replace("comment",g._comment).replace("tag",g._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),g.paragraph=T(g._paragraph).replace("hr",g.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",g._tag).getRegex(),g.blockquote=T(g.blockquote).replace("paragraph",g.paragraph).getRegex(),g.normal=E({},g),g.gfm=E({},g.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),g.gfm.nptable=T(g.gfm.nptable).replace("hr",g.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",g._tag).getRegex(),g.gfm.table=T(g.gfm.table).replace("hr",g.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",g._tag).getRegex(),g.pedantic=E({},g.normal,{html:T(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",g._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:R,paragraph:T(g.normal._paragraph).replace("hr",g.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",g.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const d={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:R,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:R,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};d._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,d.em=T(d.em).replace(/punctuation/g,d._punctuation).getRegex(),d._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,d._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,d._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,d.autolink=T(d.autolink).replace("scheme",d._scheme).replace("email",d._email).getRegex(),d._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,d.tag=T(d.tag).replace("comment",g._comment).replace("attribute",d._attribute).getRegex(),d._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,d._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,d._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,d.link=T(d.link).replace("label",d._label).replace("href",d._href).replace("title",d._title).getRegex(),d.reflink=T(d.reflink).replace("label",d._label).getRegex(),d.normal=E({},d),d.pedantic=E({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:T(/^!?\[(label)\]\((.*?)\)/).replace("label",d._label).getRegex(),reflink:T(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",d._label).getRegex()}),d.gfm=E({},d.normal,{escape:T(d.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),d.gfm.url=T(d.gfm.url,"i").replace("email",d.gfm._extended_email).getRegex(),d.breaks=E({},d.gfm,{br:T(d.br).replace("{2,}","*").getRegex(),text:T(d.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),o.exports={block:g,inline:d}},778:(o,D,v)=>{var R=v(2479);o.exports=R(T),o.exports.strict=R(E),T.proto=T(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return T(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return E(this)},configurable:!0})});function T(g){var d=function(){return d.called?d.value:(d.called=!0,d.value=g.apply(this,arguments))};return d.called=!1,d}function E(g){var d=function(){if(d.called)throw new Error(d.onceError);return d.called=!0,d.value=g.apply(this,arguments)},f=g.name||"Function wrapped with `once`";return d.onceError=f+" shouldn't be called more than once",d.called=!1,d}},6470:o=>{"use strict";function D(E){if(typeof E!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(E))}function v(E,g){for(var d="",f=0,m=-1,h=0,w,y=0;y<=E.length;++y){if(y<E.length)w=E.charCodeAt(y);else{if(w===47)break;w=47}if(w===47){if(!(m===y-1||h===1))if(m!==y-1&&h===2){if(d.length<2||f!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var P=d.lastIndexOf("/");if(P!==d.length-1){P===-1?(d="",f=0):(d=d.slice(0,P),f=d.length-1-d.lastIndexOf("/")),m=y,h=0;continue}}else if(d.length===2||d.length===1){d="",f=0,m=y,h=0;continue}}g&&(d.length>0?d+="/..":d="..",f=2)}else d.length>0?d+="/"+E.slice(m+1,y):d=E.slice(m+1,y),f=y-m-1;m=y,h=0}else w===46&&h!==-1?++h:h=-1}return d}function R(E,g){var d=g.dir||g.root,f=g.base||(g.name||"")+(g.ext||"");return d?d===g.root?d+f:d+E+f:f}var T={resolve:function(){for(var g="",d=!1,f,m=arguments.length-1;m>=-1&&!d;m--){var h;m>=0?h=arguments[m]:(f===void 0&&(f=process.cwd()),h=f),D(h),h.length!==0&&(g=h+"/"+g,d=h.charCodeAt(0)===47)}return g=v(g,!d),d?g.length>0?"/"+g:"/":g.length>0?g:"."},normalize:function(g){if(D(g),g.length===0)return".";var d=g.charCodeAt(0)===47,f=g.charCodeAt(g.length-1)===47;return g=v(g,!d),g.length===0&&!d&&(g="."),g.length>0&&f&&(g+="/"),d?"/"+g:g},isAbsolute:function(g){return D(g),g.length>0&&g.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var g,d=0;d<arguments.length;++d){var f=arguments[d];D(f),f.length>0&&(g===void 0?g=f:g+="/"+f)}return g===void 0?".":T.normalize(g)},relative:function(g,d){if(D(g),D(d),g===d||(g=T.resolve(g),d=T.resolve(d),g===d))return"";for(var f=1;f<g.length&&g.charCodeAt(f)===47;++f);for(var m=g.length,h=m-f,w=1;w<d.length&&d.charCodeAt(w)===47;++w);for(var y=d.length,P=y-w,Q=h<P?h:P,C=-1,k=0;k<=Q;++k){if(k===Q){if(P>Q){if(d.charCodeAt(w+k)===47)return d.slice(w+k+1);if(k===0)return d.slice(w+k)}else h>Q&&(g.charCodeAt(f+k)===47?C=k:k===0&&(C=0));break}var S=g.charCodeAt(f+k),x=d.charCodeAt(w+k);if(S!==x)break;S===47&&(C=k)}var G="";for(k=f+C+1;k<=m;++k)(k===m||g.charCodeAt(k)===47)&&(G.length===0?G+="..":G+="/..");return G.length>0?G+d.slice(w+C):(w+=C,d.charCodeAt(w)===47&&++w,d.slice(w))},_makeLong:function(g){return g},dirname:function(g){if(D(g),g.length===0)return".";for(var d=g.charCodeAt(0),f=d===47,m=-1,h=!0,w=g.length-1;w>=1;--w)if(d=g.charCodeAt(w),d===47){if(!h){m=w;break}}else h=!1;return m===-1?f?"/":".":f&&m===1?"//":g.slice(0,m)},basename:function(g,d){if(d!==void 0&&typeof d!="string")throw new TypeError('"ext" argument must be a string');D(g);var f=0,m=-1,h=!0,w;if(d!==void 0&&d.length>0&&d.length<=g.length){if(d.length===g.length&&d===g)return"";var y=d.length-1,P=-1;for(w=g.length-1;w>=0;--w){var Q=g.charCodeAt(w);if(Q===47){if(!h){f=w+1;break}}else P===-1&&(h=!1,P=w+1),y>=0&&(Q===d.charCodeAt(y)?--y==-1&&(m=w):(y=-1,m=P))}return f===m?m=P:m===-1&&(m=g.length),g.slice(f,m)}else{for(w=g.length-1;w>=0;--w)if(g.charCodeAt(w)===47){if(!h){f=w+1;break}}else m===-1&&(h=!1,m=w+1);return m===-1?"":g.slice(f,m)}},extname:function(g){D(g);for(var d=-1,f=0,m=-1,h=!0,w=0,y=g.length-1;y>=0;--y){var P=g.charCodeAt(y);if(P===47){if(!h){f=y+1;break}continue}m===-1&&(h=!1,m=y+1),P===46?d===-1?d=y:w!==1&&(w=1):d!==-1&&(w=-1)}return d===-1||m===-1||w===0||w===1&&d===m-1&&d===f+1?"":g.slice(d,m)},format:function(g){if(g===null||typeof g!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof g);return R("/",g)},parse:function(g){D(g);var d={root:"",dir:"",base:"",ext:"",name:""};if(g.length===0)return d;var f=g.charCodeAt(0),m=f===47,h;m?(d.root="/",h=1):h=0;for(var w=-1,y=0,P=-1,Q=!0,C=g.length-1,k=0;C>=h;--C){if(f=g.charCodeAt(C),f===47){if(!Q){y=C+1;break}continue}P===-1&&(Q=!1,P=C+1),f===46?w===-1?w=C:k!==1&&(k=1):w!==-1&&(k=-1)}return w===-1||P===-1||k===0||k===1&&w===P-1&&w===y+1?P!==-1&&(y===0&&m?d.base=d.name=g.slice(1,P):d.base=d.name=g.slice(y,P)):(y===0&&m?(d.name=g.slice(1,w),d.base=g.slice(1,P)):(d.name=g.slice(y,w),d.base=g.slice(y,P)),d.ext=g.slice(w,P)),y>0?d.dir=g.slice(0,y-1):m&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};T.posix=T,o.exports=T},7121:(o,D,v)=>{"use strict";v.d(D,{Z:()=>g});function R(d){var f,m=d.Symbol;return typeof m=="function"?m.observable?f=m.observable:(f=m("observable"),m.observable=f):f="@@observable",f}o=v.hmd(o);var T;typeof self!="undefined"?T=self:typeof window!="undefined"?T=window:typeof v.g!="undefined"?T=v.g:T=o;var E=R(T);const g=E},4802:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var R=v(6363);D.ExperimentationService=R.ExperimentationService},6363:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(4067),T=v(4234),E=v(5975);class g extends E.ExperimentationServiceAutoPolling{constructor(f){super(f.telemetry,f.filterProviders||[],f.refetchInterval!=null?f.refetchInterval:0,f.featuresTelemetryPropertyName,f.assignmentContextTelemetryPropertyName,f.telemetryEventName,f.storageKey,f.keyValueStorage);this.options=f,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new R.TasApiFeatureProvider(new T.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}D.ExperimentationService=g,g.REFRESH_RATE_IN_MINUTES=30},5975:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(3663),T=v(3334);class E extends R.ExperimentationServiceBase{constructor(d,f,m,h,w,y,P,Q){super(d,h,w,y,P,Q);if(this.telemetry=d,this.filterProviders=f,this.refreshRateMs=m,this.featuresTelemetryPropertyName=h,this.assignmentContextTelemetryPropertyName=w,this.telemetryEventName=y,this.storageKey=P,this.storage=Q,m<1e3&&m!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");m>0&&(this.pollingService=new T.PollingService(m),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(d=!1){if(this.pollingService){this.pollingService.StopPolling();let f=await super.getFeaturesAsync(d);return this.pollingService.StartPolling(),f}else return await super.getFeaturesAsync(d)}}D.ExperimentationServiceAutoPolling=E},3663:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(7002);class T{constructor(g,d,f,m,h,w){this.telemetry=g,this.featuresTelemetryPropertyName=d,this.assignmentContextTelemetryPropertyName=f,this.telemetryEventName=m,this.storageKey=h,this.storage=w,this.featuresConsumed=!1,this.initializePromise=this.loadCachePromise,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(w=new R.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData()}get features(){return this._features}set features(g){this._features=g,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(g=!1){if(this.fetchPromise!=null)return await this.fetchPromise,this.features;if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async f=>await f.getFeatures()));let d=await this.fetchPromise;return this.fetchPromise=void 0,this.updateFeatures(d,g),this.features}updateFeatures(g,d=!1){let f={features:[],assignmentContext:"",configs:[]};for(let m of g){for(let h of m.features)f.features.includes(h)||f.features.push(h);for(let h of m.configs){const w=f.configs.find(y=>y.Id===h.Id);w?w.Parameters=Object.assign(Object.assign({},w.Parameters),h.Parameters):f.configs.push(h)}f.assignmentContext+=m.assignmentContext}(d||!this.featuresConsumed)&&(this.features=f),this.storage&&this.storage.setValue(this.storageKey,f)}async loadCachedFeatureData(){let g;this.storage&&(g=await this.storage.getValue(this.storageKey),g!==void 0&&g.configs===void 0&&(g.configs=[])),this.features.features.length===0&&(this.features=g||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(g){return this.featuresConsumed=!0,this.PostEventToTelemetry(g),this.features.features.includes(g)}async isCachedFlightEnabled(g){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(g),this.features.features.includes(g)}async isFlightEnabledAsync(g){const d=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(g),d.features.includes(g)}getTreatmentVariable(g,d){var f;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${g}.${d}`),(f=this.features.configs.find(h=>h.Id===g))===null||f===void 0?void 0:f.Parameters[d]}async getTreatmentVariableAsync(g,d){return await this.getFeaturesAsync(!0),this.getTreatmentVariable(g,d)}PostEventToTelemetry(g){this.cachedTelemetryEvents.includes(g)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",g]])),this.cachedTelemetryEvents.push(g))}invokeInit(){this.init()}addFeatureProvider(...g){if(!(g==null||this.featureProviders==null))for(let d of g)this.featureProviders.push(d)}}D.ExperimentationServiceBase=T},69:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});class v{constructor(T){this.telemetry=T,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let T=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,T}}D.BaseFeatureProvider=v},4e3:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(69);class T extends R.BaseFeatureProvider{constructor(g,d){super(g);this.telemetry=g,this.filterProviders=d,this.cachedTelemetryEvents=[]}getFilters(){let g=new Map;for(let d of this.filterProviders){let f=d.getFilters();for(let m of f.keys()){let h=f.get(m);g.set(m,h)}}return g}PostEventToTelemetry(g){if(this.cachedTelemetryEvents.includes(g))return;const d=JSON.stringify(g);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",d]])),this.cachedTelemetryEvents.push(g)}}D.FilteredFeatureProvider=T},4067:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(4e3);class T extends R.FilteredFeatureProvider{constructor(g,d,f){super(d,f);this.httpClient=g,this.telemetry=d,this.filterProviders=f}async fetch(){let g=this.getFilters(),d={};for(let y of g.keys()){const P=g.get(y);d[y]=P}let f=await this.httpClient.get({headers:d});g.keys.length>0&&this.PostEventToTelemetry(d);let m=f.data,h=m.Configs,w=[];for(let y of h)if(!!y.Parameters)for(let P of Object.keys(y.Parameters)){const Q=P+(y.Parameters[P]?"":"cf");w.includes(Q)||w.push(Q)}return{features:w,assignmentContext:m.AssignmentContext,configs:h}}}D.TasApiFeatureProvider=T},4234:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(9669);class T{constructor(g){this.endpoint=g}get(g){return R.default.get(this.endpoint,Object.assign(Object.assign({},g),{proxy:!1}))}}D.AxiosHttpClient=T},7002:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});class v{constructor(){this.storage=new Map}async getValue(T,E){return this.storage.has(T)?await Promise.resolve(this.storage.get(T)):await Promise.resolve(E||void 0)}setValue(T,E){this.storage.set(T,E)}}D.MemoryKeyValueStorage=v},3334:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});class v{constructor(T){this.fetchInterval=T}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(T){this.onTick=T}StartPolling(T=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(T&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}D.PollingService=v},9035:(o,D,v)=>{"use strict";var R;R={value:!0};var T=v(5654);D.X7=T.getExperimentationService,R=T.getExperimentationServiceAsync;var E=v(2560);D.aU=E.TargetPopulation},5708:(o,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});class v{constructor(T){this.mementoGlobalStorage=T}async getValue(T,E){return await this.mementoGlobalStorage.get(T)||E}setValue(T,E){this.mementoGlobalStorage.update(T,E)}}D.MementoKeyValueStorage=v},2560:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(7549);class T{constructor(f,m,h){this.extensionName=f,this.extensionVersion=m,this.targetPopulation=h}static trimVersionSuffix(f){const m=/\-[a-zA-Z0-9]+$/;return f.split(m)[0]}getFilterValue(f){switch(f){case E.ApplicationVersion:return T.trimVersionSuffix(R.version);case E.Build:return R.env.appName;case E.ClientId:return R.env.machineId;case E.ExtensionName:return this.extensionName;case E.ExtensionVersion:return T.trimVersionSuffix(this.extensionVersion);case E.Language:return R.env.language;case E.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let f=new Map,m=Object.values(E);for(let h of m)f.set(h,this.getFilterValue(h));return f}}D.VSCodeFilterProvider=T;var E;(function(d){d.Market="X-MSEdge-Market",d.CorpNet="X-FD-Corpnet",d.ApplicationVersion="X-VSCode-AppVersion",d.Build="X-VSCode-Build",d.ClientId="X-MSEdge-ClientId",d.ExtensionName="X-VSCode-ExtensionName",d.ExtensionVersion="X-VSCode-ExtensionVersion",d.Language="X-VSCode-Language",d.TargetPopulation="X-VSCode-TargetPopulation"})(E=D.Filters||(D.Filters={}));var g;(function(d){d.Team="team",d.Internal="internal",d.Insiders="insider",d.Public="public"})(g=D.TargetPopulation||(D.TargetPopulation={}))},5654:(o,D,v)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});const R=v(2560),T=v(4802),E=v(5708),g="https://default.exp-tas.com/vscode/ab",d="query-expfeature",f="VSCode.ABExp.Features",m="abexp.assignmentcontext",h="VSCode.ABExp.FeatureData",w=1e3*60*30;function y(Q,C,k,S,x,...G){if(!x)throw new Error("Memento storage was not provided.");const j=[new R.VSCodeFilterProvider(Q,C,k),...G],X=new E.MementoKeyValueStorage(x);return new T.ExperimentationService({filterProviders:j,telemetry:S,storageKey:h,keyValueStorage:X,featuresTelemetryPropertyName:f,assignmentContextTelemetryPropertyName:m,telemetryEventName:d,endpoint:g,refetchInterval:w})}D.getExperimentationService=y;async function P(Q,C,k,S,x,...G){const W=y(Q,C,k,S,x,...G);return await W.initializePromise,W}D.getExperimentationServiceAsync=P},2479:o=>{o.exports=D;function D(v,R){if(v&&R)return D(v)(R);if(typeof v!="function")throw new TypeError("need wrapper function");return Object.keys(v).forEach(function(E){T[E]=v[E]}),T;function T(){for(var E=new Array(arguments.length),g=0;g<E.length;g++)E[g]=arguments[g];var d=v.apply(this,E),f=E[E.length-1];return typeof d=="function"&&d!==f&&Object.keys(f).forEach(function(m){d[m]=f[m]}),d}}},9602:o=>{"use strict";o.exports=function(D){D.prototype[Symbol.iterator]=function*(){for(let v=this.head;v;v=v.next)yield v.value}}},4411:(o,D,v)=>{"use strict";o.exports=R,R.Node=d,R.create=R;function R(f){var m=this;if(m instanceof R||(m=new R),m.tail=null,m.head=null,m.length=0,f&&typeof f.forEach=="function")f.forEach(function(y){m.push(y)});else if(arguments.length>0)for(var h=0,w=arguments.length;h<w;h++)m.push(arguments[h]);return m}R.prototype.removeNode=function(f){if(f.list!==this)throw new Error("removing node which does not belong to this list");var m=f.next,h=f.prev;return m&&(m.prev=h),h&&(h.next=m),f===this.head&&(this.head=m),f===this.tail&&(this.tail=h),f.list.length--,f.next=null,f.prev=null,f.list=null,m},R.prototype.unshiftNode=function(f){if(f!==this.head){f.list&&f.list.removeNode(f);var m=this.head;f.list=this,f.next=m,m&&(m.prev=f),this.head=f,this.tail||(this.tail=f),this.length++}},R.prototype.pushNode=function(f){if(f!==this.tail){f.list&&f.list.removeNode(f);var m=this.tail;f.list=this,f.prev=m,m&&(m.next=f),this.tail=f,this.head||(this.head=f),this.length++}},R.prototype.push=function(){for(var f=0,m=arguments.length;f<m;f++)E(this,arguments[f]);return this.length},R.prototype.unshift=function(){for(var f=0,m=arguments.length;f<m;f++)g(this,arguments[f]);return this.length},R.prototype.pop=function(){if(!!this.tail){var f=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,f}},R.prototype.shift=function(){if(!!this.head){var f=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,f}},R.prototype.forEach=function(f,m){m=m||this;for(var h=this.head,w=0;h!==null;w++)f.call(m,h.value,w,this),h=h.next},R.prototype.forEachReverse=function(f,m){m=m||this;for(var h=this.tail,w=this.length-1;h!==null;w--)f.call(m,h.value,w,this),h=h.prev},R.prototype.get=function(f){for(var m=0,h=this.head;h!==null&&m<f;m++)h=h.next;if(m===f&&h!==null)return h.value},R.prototype.getReverse=function(f){for(var m=0,h=this.tail;h!==null&&m<f;m++)h=h.prev;if(m===f&&h!==null)return h.value},R.prototype.map=function(f,m){m=m||this;for(var h=new R,w=this.head;w!==null;)h.push(f.call(m,w.value,this)),w=w.next;return h},R.prototype.mapReverse=function(f,m){m=m||this;for(var h=new R,w=this.tail;w!==null;)h.push(f.call(m,w.value,this)),w=w.prev;return h},R.prototype.reduce=function(f,m){var h,w=this.head;if(arguments.length>1)h=m;else if(this.head)w=this.head.next,h=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var y=0;w!==null;y++)h=f(h,w.value,y),w=w.next;return h},R.prototype.reduceReverse=function(f,m){var h,w=this.tail;if(arguments.length>1)h=m;else if(this.tail)w=this.tail.prev,h=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var y=this.length-1;w!==null;y--)h=f(h,w.value,y),w=w.prev;return h},R.prototype.toArray=function(){for(var f=new Array(this.length),m=0,h=this.head;h!==null;m++)f[m]=h.value,h=h.next;return f},R.prototype.toArrayReverse=function(){for(var f=new Array(this.length),m=0,h=this.tail;h!==null;m++)f[m]=h.value,h=h.prev;return f},R.prototype.slice=function(f,m){m=m||this.length,m<0&&(m+=this.length),f=f||0,f<0&&(f+=this.length);var h=new R;if(m<f||m<0)return h;f<0&&(f=0),m>this.length&&(m=this.length);for(var w=0,y=this.head;y!==null&&w<f;w++)y=y.next;for(;y!==null&&w<m;w++,y=y.next)h.push(y.value);return h},R.prototype.sliceReverse=function(f,m){m=m||this.length,m<0&&(m+=this.length),f=f||0,f<0&&(f+=this.length);var h=new R;if(m<f||m<0)return h;f<0&&(f=0),m>this.length&&(m=this.length);for(var w=this.length,y=this.tail;y!==null&&w>m;w--)y=y.prev;for(;y!==null&&w>f;w--,y=y.prev)h.push(y.value);return h},R.prototype.splice=function(f,m,...h){f>this.length&&(f=this.length-1),f<0&&(f=this.length+f);for(var w=0,y=this.head;y!==null&&w<f;w++)y=y.next;for(var P=[],w=0;y&&w<m;w++)P.push(y.value),y=this.removeNode(y);y===null&&(y=this.tail),y!==this.head&&y!==this.tail&&(y=y.prev);for(var w=0;w<h.length;w++)y=T(this,y,h[w]);return P},R.prototype.reverse=function(){for(var f=this.head,m=this.tail,h=f;h!==null;h=h.prev){var w=h.prev;h.prev=h.next,h.next=w}return this.head=m,this.tail=f,this};function T(f,m,h){var w=m===f.head?new d(h,null,m,f):new d(h,m,m.next,f);return w.next===null&&(f.tail=w),w.prev===null&&(f.head=w),f.length++,w}function E(f,m){f.tail=new d(m,f.tail,null,f),f.head||(f.head=f.tail),f.length++}function g(f,m){f.head=new d(m,null,f.head,f),f.tail||(f.tail=f.head),f.length++}function d(f,m,h,w){if(!(this instanceof d))return new d(f,m,h,w);this.list=w,this.value=f,m?(m.next=this,this.prev=m):this.prev=null,h?(h.prev=this,this.next=h):this.next=null}try{v(9602)(R)}catch(f){}},9329:(o,D,v)=>{o.exports=v(516).Observable},516:(o,D)=>{"use strict";var v;v={value:!0},D.Observable=void 0;function R(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function T(O,I){for(var N=0;N<I.length;N++){var L=I[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}function E(O,I,N){return I&&T(O.prototype,I),N&&T(O,N),O}var g=function(){return typeof Symbol=="function"},d=function(O){return g()&&Boolean(Symbol[O])},f=function(O){return d(O)?Symbol[O]:"@@"+O};g()&&!d("observable")&&(Symbol.observable=Symbol("observable"));var m=f("iterator"),h=f("observable"),w=f("species");function y(O,I){var N=O[I];if(N!=null){if(typeof N!="function")throw new TypeError(N+" is not a function");return N}}function P(O){var I=O.constructor;return I!==void 0&&(I=I[w],I===null&&(I=void 0)),I!==void 0?I:H}function Q(O){return O instanceof H}function C(O){C.log?C.log(O):setTimeout(function(){throw O})}function k(O){Promise.resolve().then(function(){try{O()}catch(I){C(I)}})}function S(O){var I=O._cleanup;if(I!==void 0&&(O._cleanup=void 0,!!I))try{if(typeof I=="function")I();else{var N=y(I,"unsubscribe");N&&N.call(I)}}catch(L){C(L)}}function x(O){O._observer=void 0,O._queue=void 0,O._state="closed"}function G(O){var I=O._queue;if(!!I){O._queue=void 0,O._state="ready";for(var N=0;N<I.length&&(W(O,I[N].type,I[N].value),O._state!=="closed");++N);}}function W(O,I,N){O._state="running";var L=O._observer;try{var F=y(L,I);switch(I){case"next":F&&F.call(L,N);break;case"error":if(x(O),F)F.call(L,N);else throw N;break;case"complete":x(O),F&&F.call(L);break}}catch(M){C(M)}O._state==="closed"?S(O):O._state==="running"&&(O._state="ready")}function j(O,I,N){if(O._state!=="closed"){if(O._state==="buffering"){O._queue.push({type:I,value:N});return}if(O._state!=="ready"){O._state="buffering",O._queue=[{type:I,value:N}],k(function(){return G(O)});return}W(O,I,N)}}var X=function(){function O(I,N){R(this,O),this._cleanup=void 0,this._observer=I,this._queue=void 0,this._state="initializing";var L=new A(this);try{this._cleanup=N.call(void 0,L)}catch(F){L.error(F)}this._state==="initializing"&&(this._state="ready")}return E(O,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(x(this),S(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),O}(),A=function(){function O(I){R(this,O),this._subscription=I}return E(O,[{key:"next",value:function(N){j(this._subscription,"next",N)}},{key:"error",value:function(N){j(this._subscription,"error",N)}},{key:"complete",value:function(){j(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),O}(),H=function(){function O(I){if(R(this,O),!(this instanceof O))throw new TypeError("Observable cannot be called as a function");if(typeof I!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=I}return E(O,[{key:"subscribe",value:function(N){return(typeof N!="object"||N===null)&&(N={next:N,error:arguments[1],complete:arguments[2]}),new X(N,this._subscriber)}},{key:"forEach",value:function(N){var L=this;return new Promise(function(F,M){if(typeof N!="function"){M(new TypeError(N+" is not a function"));return}function B(){J.unsubscribe(),F()}var J=L.subscribe({next:function(re){try{N(re,B)}catch(te){M(te),J.unsubscribe()}},error:M,complete:F})})}},{key:"map",value:function(N){var L=this;if(typeof N!="function")throw new TypeError(N+" is not a function");var F=P(this);return new F(function(M){return L.subscribe({next:function(B){try{B=N(B)}catch(J){return M.error(J)}M.next(B)},error:function(B){M.error(B)},complete:function(){M.complete()}})})}},{key:"filter",value:function(N){var L=this;if(typeof N!="function")throw new TypeError(N+" is not a function");var F=P(this);return new F(function(M){return L.subscribe({next:function(B){try{if(!N(B))return}catch(J){return M.error(J)}M.next(B)},error:function(B){M.error(B)},complete:function(){M.complete()}})})}},{key:"reduce",value:function(N){var L=this;if(typeof N!="function")throw new TypeError(N+" is not a function");var F=P(this),M=arguments.length>1,B=!1,J=arguments[1],re=J;return new F(function(te){return L.subscribe({next:function(ae){var ue=!B;if(B=!0,!ue||M)try{re=N(re,ae)}catch(pe){return te.error(pe)}else re=ae},error:function(ae){te.error(ae)},complete:function(){if(!B&&!M)return te.error(new TypeError("Cannot reduce an empty sequence"));te.next(re),te.complete()}})})}},{key:"concat",value:function(){for(var N=this,L=arguments.length,F=new Array(L),M=0;M<L;M++)F[M]=arguments[M];var B=P(this);return new B(function(J){var re,te=0;function ae(ue){re=ue.subscribe({next:function(pe){J.next(pe)},error:function(pe){J.error(pe)},complete:function(){te===F.length?(re=void 0,J.complete()):ae(B.from(F[te++]))}})}return ae(N),function(){re&&(re.unsubscribe(),re=void 0)}})}},{key:"flatMap",value:function(N){var L=this;if(typeof N!="function")throw new TypeError(N+" is not a function");var F=P(this);return new F(function(M){var B=[],J=L.subscribe({next:function(te){if(N)try{te=N(te)}catch(ue){return M.error(ue)}var ae=F.from(te).subscribe({next:function(ue){M.next(ue)},error:function(ue){M.error(ue)},complete:function(){var ue=B.indexOf(ae);ue>=0&&B.splice(ue,1),re()}});B.push(ae)},error:function(te){M.error(te)},complete:function(){re()}});function re(){J.closed&&B.length===0&&M.complete()}return function(){B.forEach(function(te){return te.unsubscribe()}),J.unsubscribe()}})}},{key:h,value:function(){return this}}],[{key:"from",value:function(N){var L=typeof this=="function"?this:O;if(N==null)throw new TypeError(N+" is not an object");var F=y(N,h);if(F){var M=F.call(N);if(Object(M)!==M)throw new TypeError(M+" is not an object");return Q(M)&&M.constructor===L?M:new L(function(B){return M.subscribe(B)})}if(d("iterator")&&(F=y(N,m),F))return new L(function(B){k(function(){if(!B.closed){var J=!0,re=!1,te=void 0;try{for(var ae=F.call(N)[Symbol.iterator](),ue;!(J=(ue=ae.next()).done);J=!0){var pe=ue.value;if(B.next(pe),B.closed)return}}catch(mt){re=!0,te=mt}finally{try{!J&&ae.return!=null&&ae.return()}finally{if(re)throw te}}B.complete()}})});if(Array.isArray(N))return new L(function(B){k(function(){if(!B.closed){for(var J=0;J<N.length;++J)if(B.next(N[J]),B.closed)return;B.complete()}})});throw new TypeError(N+" is not observable")}},{key:"of",value:function(){for(var N=arguments.length,L=new Array(N),F=0;F<N;F++)L[F]=arguments[F];var M=typeof this=="function"?this:O;return new M(function(B){k(function(){if(!B.closed){for(var J=0;J<L.length;++J)if(B.next(L[J]),B.closed)return;B.complete()}})})}},{key:w,get:function(){return this}}]),O}();D.Observable=H,g()&&Object.defineProperty(H,Symbol("extensions"),{value:{symbol:h,hostReportError:C},configurable:!0})},3730:(o,D)=>{"use strict";var v;v={value:!0};let R=function(){function T(E,g,d){}return T.prototype.updateUserOptIn=function(E){},T.prototype.createAppInsightsClient=function(E){},T.prototype.getCommonProperties=function(){},T.prototype.sendTelemetryEvent=function(E,g,d){},T.prototype.dispose=function(){},T.TELEMETRY_CONFIG_ID="telemetry",T.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",T}();D.Z=R},7549:o=>{"use strict";o.exports=require("vscode")},1336:()=>{}},es={};function se(o){var D=es[o];if(D!==void 0)return D.exports;var v=es[o]={id:o,loaded:!1,exports:{}};return ml[o].call(v.exports,v,v.exports,se),v.loaded=!0,v.exports}(()=>{se.n=o=>{var D=o&&o.__esModule?()=>o.default:()=>o;return se.d(D,{a:D}),D}})(),(()=>{se.d=(o,D)=>{for(var v in D)se.o(D,v)&&!se.o(o,v)&&Object.defineProperty(o,v,{enumerable:!0,get:D[v]})}})(),(()=>{se.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(o){if(typeof window=="object")return window}}()})(),(()=>{se.hmd=o=>(o=Object.create(o),o.children||(o.children=[]),Object.defineProperty(o,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+o.id)}}),o)})(),(()=>{se.o=(o,D)=>Object.prototype.hasOwnProperty.call(o,D)})(),(()=>{se.r=o=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}})();var Er={};(()=>{"use strict";se.r(Er),se.d(Er,{activate:()=>Ip,deactivate:()=>Mp});var o=se(7549),D=se(3730),v=se(6470),R=se(7484),T=se.n(R),E=se(4110),g=se.n(E),d=se(660),f=se.n(d),m=Object.defineProperty,h=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);T().extend(g(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),T().extend(f()),T().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function w(t,e){const i=Object.create(null);return t.filter(r=>{const n=e(r);return i[n]?!1:(i[n]=!0,!0)})}function y(t){return t.forEach(e=>e.dispose()),[]}function P(t){return{dispose:t}}function Q(t){return P(()=>y(t))}function C(...t){return(e,i=null,r)=>{const n=Q(t.map(s=>s(a=>e.call(i,a))));return r&&r.push(n),n}}function k(t,e){return(i,r=null,n)=>t(s=>e(s)&&i.call(r,s),null,n)}function S(t){return(e,i=null,r)=>{const n=t(s=>(n.dispose(),e.call(i,s)),null,r);return n}}function x(t){return/^[a-zA-Z]:\\/.test(t)}function G(t,e){return t===e?!0:(t.charAt(t.length-1)!==sep&&(t+=sep),x(t)&&(t=t.toLowerCase(),e=e.toLowerCase()),e.startsWith(t))}function W(t,e){return t.reduce((i,r)=>{const n=e(r);return i[n]=[...i[n]||[],r],i},Object.create(null))}function j(t){return!!t.errors}function X(t){let e=!0;if(!!t.errors&&Array.isArray(t.errors)){for(const i of t.errors)if(!i.field||!i.value||!i.code){e=!1;break}}else e=!1;return e}function A(t){if(!(t instanceof Error))return typeof t=="string"?t:t.gitErrorCode?`${t.message}. Please check git output for more details`:"Error";let e=t.message,i;if(t.message==="Validation Failed"&&X(t))i=t.errors.map(r=>`Value "${r.value}" cannot be set for field ${r.field} (code: ${r.code})`).join(", ");else if(j(t)&&t.errors)return t.errors.map(r=>typeof r=="string"?r:r.message).join(", ");return i&&(e=`${e}: ${i}`),e}const H=(t,e)=>e(t);async function O(t,e=H){let i;return new Promise((r,n)=>i=t(s=>{try{Promise.resolve(e(s,r,n)).catch(n)}catch(a){n(a)}})).then(r=>(i.dispose(),r),r=>{throw i.dispose(),r})}function I(t){const e=dayjs(t),i=Date.now();return e.diff(i,"month"),e.diff(i,"month")<1?e.fromNow():e.diff(i,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}var N;(function(t){t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.A=65]="A",t[t.Z=90]="Z",t[t.Backslash=92]="Backslash",t[t.a=97]="a",t[t.z=122]="z"})(N||(N={}));function L(t,e){return t<e?-1:t>e?1:0}function F(t,e,i=0,r=t.length,n=0,s=e.length){for(;i<r&&n<s;i++,n++){const u=t.charCodeAt(i),c=e.charCodeAt(n);if(u<c)return-1;if(u>c)return 1}const a=r-i,l=s-n;return a<l?-1:a>l?1:0}function M(t,e){return B(t,e,0,t.length,0,e.length)}function B(t,e,i=0,r=t.length,n=0,s=e.length){for(;i<r&&n<s;i++,n++){let u=t.charCodeAt(i),c=e.charCodeAt(n);if(u===c)continue;const p=u-c;if(!(p===32&&re(c))&&!(p===-32&&re(u)))return J(u)&&J(c)?p:F(t.toLowerCase(),e.toLowerCase(),i,r,n,s)}const a=r-i,l=s-n;return a<l?-1:a>l?1:0}function J(t){return t>=97&&t<=122}function re(t){return t>=65&&t<=90}class te{constructor(){h(this,"_value",""),h(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const i=e.charCodeAt(0),r=this._value.charCodeAt(this._pos);return i-r}value(){return this._value[this._pos]}}class ae{constructor(e=!0){this._caseSensitive=e,h(this,"_value"),h(this,"_from"),h(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?F(e,this._value,0,e.length,this._from,this._to):B(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ue{constructor(e=!0,i=!0){this._splitOnBackslash=e,this._caseSensitive=i,h(this,"_value"),h(this,"_from"),h(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const i=this._value.charCodeAt(this._to);if(i===47||this._splitOnBackslash&&i===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?F(e,this._value,0,e.length,this._from,this._to):B(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var pe;(function(t){t[t.Scheme=1]="Scheme",t[t.Authority=2]="Authority",t[t.Path=3]="Path",t[t.Query=4]="Query",t[t.Fragment=5]="Fragment"})(pe||(pe={}));class mt{constructor(e){this._ignorePathCasing=e,h(this,"_pathIterator"),h(this,"_value"),h(this,"_states",[]),h(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new ue(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return M(e,this._value.scheme);if(this._states[this._stateIdx]===2)return M(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return L(e,this._value.query);if(this._states[this._stateIdx]===5)return L(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class Ye{constructor(){h(this,"segment"),h(this,"value"),h(this,"key"),h(this,"left"),h(this,"mid"),h(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class ye{constructor(e){h(this,"_iter"),h(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new ye(new mt(e))}static forPaths(){return new ye(new ue)}static forStrings(){return new ye(new te)}static forConfigKeys(){return new ye(new ae)}clear(){this._root=void 0}set(e,i){const r=this._iter.reset(e);let n;for(this._root||(this._root=new Ye,this._root.segment=r.value()),n=this._root;;){const a=r.cmp(n.segment);if(a>0)n.left||(n.left=new Ye,n.left.segment=r.value()),n=n.left;else if(a<0)n.right||(n.right=new Ye,n.right.segment=r.value()),n=n.right;else if(r.hasNext())r.next(),n.mid||(n.mid=new Ye,n.mid.segment=r.value()),n=n.mid;else break}const s=n.value;return n.value=i,n.key=e,s}get(e){var i;return(i=this._getNode(e))==null?void 0:i.value}_getNode(e){const i=this._iter.reset(e);let r=this._root;for(;r;){const n=i.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else break}return r}has(e){const i=this._getNode(e);return!((i==null?void 0:i.value)===void 0&&(i==null?void 0:i.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,i){const r=this._iter.reset(e),n=[];let s=this._root;for(;s;){const a=r.cmp(s.segment);if(a>0)n.push([1,s]),s=s.left;else if(a<0)n.push([-1,s]),s=s.right;else if(r.hasNext())r.next(),n.push([0,s]),s=s.mid;else{for(i?(s.left=void 0,s.mid=void 0,s.right=void 0):s.value=void 0;n.length>0&&s.isEmpty();){let[l,u]=n.pop();switch(l){case 1:u.left=void 0;break;case 0:u.mid=void 0;break;case-1:u.right=void 0;break}s=u}break}}}findSubstr(e){const i=this._iter.reset(e);let r=this._root,n;for(;r;){const s=i.cmp(r.segment);if(s>0)r=r.left;else if(s<0)r=r.right;else if(i.hasNext())i.next(),n=r.value||n,r=r.mid;else break}return r&&r.value||n}findSuperstr(e){const i=this._iter.reset(e);let r=this._root;for(;r;){const n=i.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else return r.mid?this._entries(r.mid):void 0}}forEach(e){for(const[i,r]of this)e(r,i)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}var nt=Object.defineProperty,Ue=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),ht;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(ht||(ht={}));var Rt;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply"})(Rt||(Rt={}));const ts=class{constructor(){Ue(this,"_providers",new Map),Ue(this,"_onDidOpenRepository",new o.EventEmitter),Ue(this,"onDidOpenRepository",this._onDidOpenRepository.event),Ue(this,"_onDidCloseRepository",new o.EventEmitter),Ue(this,"onDidCloseRepository",this._onDidCloseRepository.event),Ue(this,"_onDidChangeState",new o.EventEmitter),Ue(this,"onDidChangeState",this._onDidChangeState.event),Ue(this,"_onDidPublish",new o.EventEmitter),Ue(this,"onDidPublish",this._onDidPublish.event),Ue(this,"_disposables"),this._disposables=[]}get repositories(){const t=[];return this._providers.forEach(({repositories:e})=>{e&&t.push(...e)}),t}get state(){if(this._providers.size!==0){for(const[,{state:t}]of this._providers)if(t!=="initialized")return"uninitialized";return"initialized"}}registerGitProvider(t){const e=this._nextHandle();return this._providers.set(e,t),this._disposables.push(t.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._disposables.push(t.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),t.onDidChangeState&&this._disposables.push(t.onDidChangeState(i=>this._onDidChangeState.fire(i))),t.onDidPublish&&this._disposables.push(t.onDidPublish(i=>this._onDidPublish.fire(i))),t.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=t==null?void 0:t.repositories;i&&i.length>0&&i.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(e)}}}getGitProvider(t){const e=ye.forUris();return this._providers.forEach(i=>{const r=i.repositories;if(r&&r.length>0)for(const n of r)e.set(n.rootUri,i)}),e.findSubstr(t)}_nextHandle(){return ts._handlePool++}dispose(){this._disposables.forEach(t=>t.dispose())}};let is=ts;Ue(is,"_handlePool",0);var hl=Object.defineProperty,Cr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?hl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),rs;(function(t){t[t.Info=0]="Info",t[t.Debug=1]="Debug",t[t.Off=2]="Off"})(rs||(rs={}));const pl="githubPullRequests",fl="logLevel";class gl{constructor(){Cr(this,"_outputChannel"),Cr(this,"_logLevel"),Cr(this,"_disposable"),this._outputChannel=o.window.createOutputChannel("GitHub Pull Request"),this._disposable=o.workspace.onDidChangeConfiguration(()=>{this.getLogLevel()}),this.getLogLevel()}appendLine(e,i){switch(this._logLevel){case 2:return;case 1:const n=`${new Date().getTime()/1e3}s`,s=i?`${i}> ${e}`:`${e}`;this._outputChannel.appendLine(`[Debug ${n}] ${s}`);return;case 0:default:this._outputChannel.appendLine("[Info] "+(i?`${i}> ${e}`:`${e}`));return}}debug(e,i){this._logLevel===1&&this.appendLine(e,i)}dispose(){this._disposable&&this._disposable.dispose()}getLogLevel(){switch(o.workspace.getConfiguration(pl).get(fl)){case"debug":this._logLevel=1;break;case"off":this._logLevel=2;break;case"info":default:this._logLevel=0;break}}}const $=new gl,Tr=new Map;function ns(t,e){Tr.set(t,e)}function ss(t){Tr.delete(t)}function St(t){for(const e of Tr.values())if(e.hasCommentThread(t))return e;$.appendLine(`Unable to find handler for comment thread ${t.threadId}`)}function Wt(t){return JSON.parse(t.query)}function Ge(t){try{return JSON.parse(t.query)}catch(e){}}function vl(t){try{return JSON.parse(t.query)}catch(e){}}const wl=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],as=o.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function Nr(t,e){try{const{commit:i,baseCommit:r,headCommit:n,isBase:s}=JSON.parse(t.query),a=t.scheme==="review"?i:s?r:n,{size:l,object:u}=await e.getObjectDetails(a,t.fsPath),{mimetype:c}=await e.detectObjectType(u);if(c==="text/plain")return;if(wl.indexOf(c)>-1){const p=await e.buffer(a,t.fsPath);return o.Uri.parse(`data:${c};label:${v.basename(t.fsPath)};description:${a};size:${l};base64,${p.toString("base64")}`)}}catch(i){return}}function st(t,e,i,r,n,s,a){const l={path:e||t.path,ref:i,commit:r,base:s.base,isOutdated:n,rootPath:a.path};let u=t.path;return s.replaceFileExtension&&(u=`${u}.git`),t.with({scheme:"review",path:u,query:JSON.stringify(l)})}function os(t,e,i,r){const n={prNumber:e,fileName:i,status:r};return t.with({scheme:"filechange",query:JSON.stringify(n)})}function Pr(t){try{return JSON.parse(t.query)}catch(e){}}function zt(t,e,i,r,n,s,a){const l={baseCommit:i,headCommit:r,isBase:s,fileName:n,prNumber:e.number,status:a,remoteName:e.githubRepository.remote.remoteName},u=t.path;return t.with({scheme:"pr",path:u,query:JSON.stringify(l)})}class bl extends o.EventEmitter{handleUri(e){this.fire(e)}}const yl=new bl,xt="GitHub.vscode-pull-request-github",Fr="git",ls="ghpr",us="initialize",cs="statechange",Ot="github:focusedReview";var kl=se(4063),_l=se.n(kl),ve;(function(t){t.LEFT="LEFT",t.RIGHT="RIGHT"})(ve||(ve={}));var He;(function(t){t.DISMISSED="DISMISSED",t.VIEWED="VIEWED",t.UNVIEWED="UNVIEWED"})(He||(He={}));var ne;(function(t){t[t.ADD=0]="ADD",t[t.COPY=1]="COPY",t[t.DELETE=2]="DELETE",t[t.MODIFY=3]="MODIFY",t[t.RENAME=4]="RENAME",t[t.TYPE=5]="TYPE",t[t.UNKNOWN=6]="UNKNOWN",t[t.UNMERGED=7]="UNMERGED"})(ne||(ne={}));class ds{constructor(e,i,r,n,s,a,l,u){this.baseCommit=e,this.status=i,this.fileName=r,this.previousFileName=n,this.patch=s,this.diffHunks=a,this.isPartial=l,this.blobUrl=u}}class ms{constructor(e,i,r,n,s){this.baseCommit=e,this.blobUrl=i,this.status=r,this.fileName=n,this.previousFileName=s}}var Rl=Object.defineProperty,Sl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Rl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),Be;(function(t){t[t.Context=0]="Context",t[t.Add=1]="Add",t[t.Delete=2]="Delete",t[t.Control=3]="Control"})(Be||(Be={}));class hs{constructor(e,i,r,n,s,a=!0){this.type=e,this.oldLineNumber=i,this.newLineNumber=r,this.positionInHunk=n,this._raw=s,this.endwithLineBreak=a}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function El(t){switch(t[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class Cl{constructor(e,i,r,n,s){this.oldLineNumber=e,this.oldLength=i,this.newLineNumber=r,this.newLength=n,this.positionInHunk=s,Sl(this,"diffLines",[])}}const ps=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function Tl(t){let e=0,i=0;for(;(i=t.indexOf("\r",i))!==-1;)i++,e++;return e}function*Nl(t){let e=0;for(;e!==-1&&e<t.length;){const i=e;e=t.indexOf(`
`,e);let n=(e!==-1?e:t.length)-i;e!==-1&&(e>0&&t[e-1]==="\r"&&n--,e++),yield t.substr(i,n)}}function*vi(t){const e=Nl(t);let i=e.next(),r,n=-1,s=-1,a=-1;for(;!i.done;){const l=i.value;if(ps.test(l)){r&&(yield r,r=void 0),n===-1&&(n=0);const u=ps.exec(l),c=s=Number(u[1]),p=Number(u[3])||1,b=a=Number(u[5]),_=Number(u[7])||1;r=new Cl(c,p,b,_,n),r.diffLines.push(new hs(3,-1,-1,n,l))}else if(r){const u=El(l);if(u===3)r.diffLines&&r.diffLines.length&&(r.diffLines[r.diffLines.length-1].endwithLineBreak=!1);else{r.diffLines.push(new hs(u,u!==1?s:-1,u!==2?a:-1,n,l));const c=1+Tl(l);switch(u){case 0:s+=c,a+=c;break;case 2:s+=c;break;case 1:a+=c;break}}}n!==-1&&++n,i=e.next()}r&&(yield r)}function Dr(t){const e=vi(t);let i=e.next();const r=[],n=[];for(;!i.done;){const s=i.value;r.push(s);for(let a=0;a<s.diffLines.length;a++){const l=s.diffLines[a];if(!(l.type===2||l.type===3))if(l.type===1)n.push(l.text);else{const u=l.text;n.push(u)}}i=e.next()}return r}function Pl(t,e){const i=t.split(/\r?\n/),r=vi(e);let n=r.next();const s=[],a=[];let l=0;for(;!n.done;){const u=n.value;s.push(u);const c=u.oldLineNumber;for(let p=l+1;p<c;p++)a.push(i[p-1]);l=c+u.oldLength-1;for(let p=0;p<u.diffLines.length;p++){const b=u.diffLines[p];if(!(b.type===2||b.type===3))if(b.type===1)a.push(b.text);else{const _=b.text;a.push(_)}}n=r.next()}if(l<i.length)for(let u=l+1;u<=i.length;u++)a.push(i[u-1]);return a.join(`
`)}function Ir(t){switch(t){case"removed":return ne.DELETE;case"added":return ne.ADD;case"renamed":return ne.RENAME;case"modified":return ne.MODIFY;default:return ne.UNKNOWN}}async function Ar(t,e,i){const r=[];for(let n=0;n<t.length;n++){const s=t[n],a=Ir(s.status);if(!s.patch){r.push(new ms(i,s.blob_url,a,s.filename,s.previous_filename));continue}let l=!1;switch(a){case ne.DELETE:case ne.MODIFY:try{await e.getObjectDetails(i,s.filename),l=!0}catch(p){}break;case ne.RENAME:try{await e.getObjectDetails(i,s.previous_filename),l=!0}catch(p){}break}const u=Dr(s.patch),c=!l&&a!==ne.ADD;r.push(new ds(i,a,s.filename,s.previous_filename,s.patch,u,c,s.blob_url))}return r}const Fl=t=>{};var Dl=Object.defineProperty,wi=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Dl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),fs;(function(t){t[t.Local=0]="Local",t[t.HTTP=1]="HTTP",t[t.SSH=2]="SSH",t[t.GIT=3]="GIT",t[t.OTHER=4]="OTHER"})(fs||(fs={}));class Et{constructor(e){if(wi(this,"type",4),wi(this,"host",""),wi(this,"owner",""),wi(this,"repositoryName",""),wi(this,"url"),!this.parseSshProtocol(e))try{this.url=o.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch(i){$.appendLine(`Failed to parse '${e}'`),o.window.showWarningMessage(`Unable to parse remote '${e}'. Please check that it is correctly formatted.`)}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const i=Fl(e);if(!i)return!1;const{Hostname:r,HostName:n,path:s}=i;return this.host=n||r,this.owner=this.getOwnerName(s)||"",this.repositoryName=this.getRepositoryName(s)||"",this.type=2,!0}getHostName(e){const i=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return i&&i.length>=2?i[1].toLocaleLowerCase()==="www.github.com"?"github.com":i[1]:""}getRepositoryName(e){let i=e.replace(/\\/g,"/");i.endsWith("/")&&(i=i.substr(0,i.length-1));const r=i.lastIndexOf("/"),n=i.substr(r+1);if(!(n===""||n==="/"))return n.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let i=e.replace(/\\/g,"/");i.endsWith("/")&&(i=i.substr(0,i.length-1));const r=i.split("/");if(r.length>1)return r[r.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return o.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch(i){return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const i=this.normalizeUri();if(!i)return!1;const r=e.normalizeUri();return r?i.toString().toLocaleLowerCase()===r.toString().toLocaleLowerCase():!1}}var Il=Object.defineProperty,Al=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Il(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class gs{constructor(e,i,r,n){this.ref=e,this.label=i,this.sha=r,Al(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new Et(n)}}var Ee;(function(t){t[t.Committed=0]="Committed",t[t.Mentioned=1]="Mentioned",t[t.Subscribed=2]="Subscribed",t[t.Commented=3]="Commented",t[t.Reviewed=4]="Reviewed",t[t.Labeled=5]="Labeled",t[t.Milestoned=6]="Milestoned",t[t.Assigned=7]="Assigned",t[t.HeadRefDeleted=8]="HeadRefDeleted",t[t.Merged=9]="Merged",t[t.Other=10]="Other"})(Ee||(Ee={}));function Mr(t){return t.event===4}function Ml(t){return t.event===0}function xl(t){return t.event===3}function Op(t){return t.event===9}function qp(t){return t.event===7}function Up(t){return t.event===8}function Ol(t){return!!t.conclusion}var Pe;(function(t){t[t.Query=0]="Query",t[t.All=1]="All",t[t.LocalPullRequest=2]="LocalPullRequest"})(Pe||(Pe={}));var pt;(function(t){t.Approve="APPROVE",t.RequestChanges="REQUEST_CHANGES",t.Comment="COMMENT"})(pt||(pt={}));var we;(function(t){t[t.Open=0]="Open",t[t.Merged=1]="Merged",t[t.Closed=2]="Closed"})(we||(we={}));var Ct;(function(t){t[t.Mergeable=0]="Mergeable",t[t.NotMergeable=1]="NotMergeable",t[t.Unknown=2]="Unknown"})(Ct||(Ct={}));var ql=Object.defineProperty,Ul=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?ql(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const vs=class{static initialize(t){vs.icons={reactions:{THUMBS_UP:t.asAbsolutePath(v.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:t.asAbsolutePath(v.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:t.asAbsolutePath(v.join("resources","icons","reactions","confused.png")),EYES:t.asAbsolutePath(v.join("resources","icons","reactions","eyes.png")),HEART:t.asAbsolutePath(v.join("resources","icons","reactions","heart.png")),HOORAY:t.asAbsolutePath(v.join("resources","icons","reactions","hooray.png")),LAUGH:t.asAbsolutePath(v.join("resources","icons","reactions","laugh.png")),ROCKET:t.asAbsolutePath(v.join("resources","icons","reactions","rocket.png"))}}}};let at=vs;Ul(at,"icons");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xr=function(t,e){return xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},xr(t,e)};function ft(t,e){xr(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Y=function(){return Y=Object.assign||function(e){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Y.apply(this,arguments)};function ws(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i}function Lp(t,e,i,r){var n=arguments.length,s=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(n<3?a(s):n>3?a(e,i,s):a(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s}function $p(t,e){return function(i,r){e(i,r,t)}}function Gp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Tt(t,e,i,r){function n(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(p){try{c(r.next(p))}catch(b){a(b)}}function u(p){try{c(r.throw(p))}catch(b){a(b)}}function c(p){p.done?s(p.value):n(p.value).then(l,u)}c((r=r.apply(t,e||[])).next())})}function Nt(t,e){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(p){return u([c,p])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(c[0]===6&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(p){c=[6,p],n=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Vp(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}function Hp(t,e){for(var i in t)i!=="default"&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function bs(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ll(t,e){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var r=i.call(t),n,s=[],a;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(l){a={error:l}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(a)throw a.error}}return s}function Bp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ll(arguments[e]));return t}function Or(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<i;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,n++)r[n]=s[a];return r}function Qi(t){return this instanceof Qi?(this.v=t,this):new Qi(t)}function jp(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),n,s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(_){r[_]&&(n[_]=function(q){return new Promise(function(V,U){s.push([_,q,V,U])>1||l(_,q)})})}function l(_,q){try{u(r[_](q))}catch(V){b(s[0][3],V)}}function u(_){_.value instanceof Qi?Promise.resolve(_.value.v).then(c,p):b(s[0][2],_)}function c(_){l("next",_)}function p(_){l("throw",_)}function b(_,q){_(q),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Qp(t){var e,i;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,s){e[n]=t[n]?function(a){return(i=!i)?{value:Qi(t[n](a)),done:n==="return"}:s?s(a):a}:s}}function Wp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof bs=="function"?bs(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(s){i[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),n(l,u,a.done,a.value)})}}function n(s,a,l,u){Promise.resolve(u).then(function(c){s({value:c,done:l})},a)}}function zp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Kp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function Yp(t){return t&&t.__esModule?t:{default:t}}function Jp(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Zp(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}var gt=se(285),qr="Invariant Violation",ys=Object.setPrototypeOf,$l=ys===void 0?function(t,e){return t.__proto__=e,t}:ys,De=function(t){ft(e,t);function e(i){i===void 0&&(i=qr);var r=t.call(this,typeof i=="number"?qr+": "+i+" (see https://github.com/apollographql/invariant-packages)":i)||this;return r.framesToPop=1,r.name=qr,$l(r,e.prototype),r}return e}(Error);function ce(t,e){if(!t)throw new De(e)}function ks(t){return function(){return console[t].apply(console,arguments)}}(function(t){t.warn=ks("warn"),t.error=ks("error")})(ce||(ce={}));var _s={env:{}};if(typeof process=="object")_s=process;else try{Function("stub","process = stub")(_s)}catch(t){}var Xp=null;const ef=null;var Gl=se(5035),Vl=se.n(Gl),Rs=Object.prototype,Ss=Rs.toString,Hl=Rs.hasOwnProperty,Ur=new Map;function Je(t,e){try{return Lr(t,e)}finally{Ur.clear()}}function Lr(t,e){if(t===e)return!0;var i=Ss.call(t),r=Ss.call(e);if(i!==r)return!1;switch(i){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(Es(t,e))return!0;var n=Object.keys(t),s=Object.keys(e),a=n.length;if(a!==s.length)return!1;for(var l=0;l<a;++l)if(!Hl.call(e,n[l]))return!1;for(var l=0;l<a;++l){var u=n[l];if(!Lr(t[u],e[u]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==""+e;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(Es(t,e))return!0;for(var c=t.entries(),p=i==="[object Map]";;){var b=c.next();if(b.done)break;var _=b.value,q=_[0],V=_[1];if(!e.has(q)||p&&!Lr(V,e.get(q)))return!1}return!0}}return!1}function Es(t,e){var i=Ur.get(t);if(i){if(i.has(e))return!0}else Ur.set(t,i=new Set);return i.add(e),!1}const tf=null;function rf(t){return["StringValue","BooleanValue","EnumValue"].indexOf(t.kind)>-1}function nf(t){return["IntValue","FloatValue"].indexOf(t.kind)>-1}function Bl(t){return t.kind==="StringValue"}function jl(t){return t.kind==="BooleanValue"}function Ql(t){return t.kind==="IntValue"}function Wl(t){return t.kind==="FloatValue"}function zl(t){return t.kind==="Variable"}function Kl(t){return t.kind==="ObjectValue"}function Yl(t){return t.kind==="ListValue"}function Jl(t){return t.kind==="EnumValue"}function Zl(t){return t.kind==="NullValue"}function Kt(t,e,i,r){if(Ql(i)||Wl(i))t[e.value]=Number(i.value);else if(jl(i)||Bl(i))t[e.value]=i.value;else if(Kl(i)){var n={};i.fields.map(function(a){return Kt(n,a.name,a.value,r)}),t[e.value]=n}else if(zl(i)){var s=(r||{})[i.name.value];t[e.value]=s}else if(Yl(i))t[e.value]=i.values.map(function(a){var l={};return Kt(l,e,a,r),l[e.value]});else if(Jl(i))t[e.value]=i.value;else if(Zl(i))t[e.value]=null;else throw new De(17)}function Xl(t,e){var i=null;t.directives&&(i={},t.directives.forEach(function(n){i[n.name.value]={},n.arguments&&n.arguments.forEach(function(s){var a=s.name,l=s.value;return Kt(i[n.name.value],a,l,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(n){var s=n.name,a=n.value;return Kt(r,s,a,e)})),Cs(t.name.value,r,i)}var eu=["connection","include","skip","client","rest","export"];function Cs(t,e,i){if(i&&i.connection&&i.connection.key)if(i.connection.filter&&i.connection.filter.length>0){var r=i.connection.filter?i.connection.filter:[];r.sort();var n=e,s={};return r.forEach(function(u){s[u]=n[u]}),i.connection.key+"("+JSON.stringify(s)+")"}else return i.connection.key;var a=t;if(e){var l=Vl()(e);a+="("+l+")"}return i&&Object.keys(i).forEach(function(u){eu.indexOf(u)===-1&&(i[u]&&Object.keys(i[u]).length?a+="@"+u+"("+JSON.stringify(i[u])+")":a+="@"+u)}),a}function $r(t,e){if(t.arguments&&t.arguments.length){var i={};return t.arguments.forEach(function(r){var n=r.name,s=r.value;return Kt(i,n,s,e)}),i}return null}function bi(t){return t.alias?t.alias.value:t.name.value}function Pt(t){return t.kind==="Field"}function Wi(t){return t.kind==="InlineFragment"}function zi(t){return t&&t.type==="id"&&typeof t.generated=="boolean"}function Ki(t,e){return e===void 0&&(e=!1),Y({type:"id",generated:e},typeof t=="string"?{id:t,typename:void 0}:t)}function tu(t){return t!=null&&typeof t=="object"&&t.type==="json"}function iu(t){throw new InvariantError(18)}function Ts(t,e){switch(e===void 0&&(e=iu),t.kind){case"Variable":return e(t);case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"ListValue":return t.values.map(function(a){return Ts(a,e)});case"ObjectValue":{for(var i={},r=0,n=t.fields;r<n.length;r++){var s=n[r];i[s.name.value]=Ts(s.value,e)}return i}default:return t.value}}function ru(t,e){if(t.directives&&t.directives.length){var i={};return t.directives.forEach(function(r){i[r.name.value]=$r(r,e)}),i}return null}function Gr(t,e){return e===void 0&&(e={}),ou(t.directives).every(function(i){var r=i.directive,n=i.ifArgument,s=!1;return n.value.kind==="Variable"?(s=e[n.value.name.value],ce(s!==void 0,13)):s=n.value.value,r.name.value==="skip"?!s:s})}function nu(t){var e=[];return(0,gt.visit)(t,{Directive:function(i){e.push(i.name.value)}}),e}function Yi(t,e){return nu(e).some(function(i){return t.indexOf(i)>-1})}function su(t){return t&&Yi(["client"],t)&&Yi(["export"],t)}function au(t){var e=t.name.value;return e==="skip"||e==="include"}function ou(t){return t?t.filter(au).map(function(e){var i=e.arguments,r=e.name.value;ce(i&&i.length===1,14);var n=i[0];ce(n.name&&n.name.value==="if",15);var s=n.value;return ce(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),16),{directive:e,ifArgument:n}}):[]}function Ns(t,e){var i=e,r=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw new De(11);s.kind==="FragmentDefinition"&&r.push(s)}),typeof i=="undefined"&&(ce(r.length===1,12),i=r[0].name.value);var n=Y(Y({},t),{definitions:Or([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:i}}]}}],t.definitions)});return n}function Vr(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(r){typeof r=="undefined"||r===null||Object.keys(r).forEach(function(n){t[n]=r[n]})}),t}function sf(t){qt(t);var e=t.definitions.filter(function(i){return i.kind==="OperationDefinition"&&i.operation==="mutation"})[0];return invariant(e,1),e}function qt(t){ce(t&&t.kind==="Document",2);var e=t.definitions.filter(function(i){return i.kind!=="FragmentDefinition"}).map(function(i){if(i.kind!=="OperationDefinition")throw new De(3);return i});return ce(e.length<=1,4),t}function Yt(t){return qt(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function af(t){var e=Yt(t);return invariant(e,5),e}function Hr(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function Ji(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function lu(t){var e=Yt(t);return ce(e&&e.operation==="query",6),e}function uu(t){ce(t.kind==="Document",7),ce(t.definitions.length<=1,8);var e=t.definitions[0];return ce(e.kind==="FragmentDefinition",9),e}function Br(t){qt(t);for(var e,i=0,r=t.definitions;i<r.length;i++){var n=r[i];if(n.kind==="OperationDefinition"){var s=n.operation;if(s==="query"||s==="mutation"||s==="subscription")return n}n.kind==="FragmentDefinition"&&!e&&(e=n)}if(e)return e;throw new De(10)}function Zi(t){t===void 0&&(t=[]);var e={};return t.forEach(function(i){e[i.name.value]=i}),e}function jr(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter(function(i){var r=i.defaultValue;return r}).map(function(i){var r=i.variable,n=i.defaultValue,s={};return Kt(s,r.name,n),s});return Vr.apply(void 0,Or([{}],e))}return{}}function of(t){var e=new Set;if(t.variableDefinitions)for(var i=0,r=t.variableDefinitions;i<r.length;i++){var n=r[i];e.add(n.variable.name.value)}return e}function Ps(t,e,i){var r=0;return t.forEach(function(n,s){e.call(this,n,s,t)&&(t[r++]=n)},i),t.length=r,t}var cu={kind:"Field",name:{kind:"Name",value:"__typename"}};function Fs(t,e){return t.selectionSet.selections.every(function(i){return i.kind==="FragmentSpread"&&Fs(e[i.name.value],e)})}function Xi(t){return Fs(Yt(t)||uu(t),Zi(Ji(t)))?null:t}function Qr(t){return function(i){return t.some(function(r){return r.name&&r.name===i.name.value||r.test&&r.test(i)})}}function Ds(t,e){var i=Object.create(null),r=[],n=Object.create(null),s=[],a=Xi((0,gt.visit)(e,{Variable:{enter:function(l,u,c){c.kind!=="VariableDefinition"&&(i[l.name.value]=!0)}},Field:{enter:function(l){if(t&&l.directives){var u=t.some(function(c){return c.remove});if(u&&l.directives&&l.directives.some(Qr(t)))return l.arguments&&l.arguments.forEach(function(c){c.value.kind==="Variable"&&r.push({name:c.value.name.value})}),l.selectionSet&&Ms(l.selectionSet).forEach(function(c){s.push({name:c.name.value})}),null}}},FragmentSpread:{enter:function(l){n[l.name.value]=!0}},Directive:{enter:function(l){if(Qr(t)(l))return null}}}));return a&&Ps(r,function(l){return!i[l.name]}).length&&(a=fu(r,a)),a&&Ps(s,function(l){return!n[l.name]}).length&&(a=gu(s,a)),a}function du(t){return(0,gt.visit)(qt(t),{SelectionSet:{enter:function(e,i,r){if(!(r&&r.kind==="OperationDefinition")){var n=e.selections;if(!!n){var s=n.some(function(l){return Pt(l)&&(l.name.value==="__typename"||l.name.value.lastIndexOf("__",0)===0)});if(!s){var a=r;if(!(Pt(a)&&a.directives&&a.directives.some(function(l){return l.name.value==="export"})))return Y(Y({},e),{selections:Or(n,[cu])})}}}}}})}var mu={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(i){return i.name.value==="key"})),e}};function hu(t){return Ds([mu],qt(t))}function Is(t,e,i){return i===void 0&&(i=!0),e&&e.selections&&e.selections.some(function(r){return As(t,r,i)})}function As(t,e,i){return i===void 0&&(i=!0),Pt(e)?e.directives?e.directives.some(Qr(t))||i&&Is(t,e.selectionSet,i):!1:!0}function lf(t,e){qt(e);var i;return Xi(visit(e,{SelectionSet:{enter:function(r,n,s,a){var l=a.join("-");if(!i||l===i||!l.startsWith(i))if(r.selections){var u=r.selections.filter(function(c){return As(t,c)});return Is(t,r,!1)&&(i=l),__assign(__assign({},r),{selections:u})}else return null}}}))}function pu(t){return function(i){return t.some(function(r){return i.value&&i.value.kind==="Variable"&&i.value.name&&(r.name===i.value.name.value||r.test&&r.test(i))})}}function fu(t,e){var i=pu(t);return Xi((0,gt.visit)(e,{OperationDefinition:{enter:function(r){return Y(Y({},r),{variableDefinitions:r.variableDefinitions.filter(function(n){return!t.some(function(s){return s.name===n.variable.name.value})})})}},Field:{enter:function(r){var n=t.some(function(a){return a.remove});if(n){var s=0;if(r.arguments.forEach(function(a){i(a)&&(s+=1)}),s===1)return null}}},Argument:{enter:function(r){if(i(r))return null}}}))}function gu(t,e){function i(r){if(t.some(function(n){return n.name===r.name.value}))return null}return Xi((0,gt.visit)(e,{FragmentSpread:{enter:i},FragmentDefinition:{enter:i}}))}function Ms(t){var e=[];return t.selections.forEach(function(i){(Pt(i)||Wi(i))&&i.selectionSet?Ms(i.selectionSet).forEach(function(r){return e.push(r)}):i.kind==="FragmentSpread"&&e.push(i)}),e}function vu(t){var e=Br(t),i=e.operation;if(i==="query")return t;var r=(0,gt.visit)(t,{OperationDefinition:{enter:function(n){return Y(Y({},n),{operation:"query"})}}});return r}function wu(t){qt(t);var e=Ds([{test:function(i){return i.name.value==="client"},remove:!0}],t);return e&&(e=(0,gt.visit)(e,{FragmentDefinition:{enter:function(i){if(i.selectionSet){var r=i.selectionSet.selections.every(function(n){return Pt(n)&&n.name.value==="__typename"});if(r)return null}}}})),e}var Wr=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),bu=Object.prototype.toString;function yu(t){return zr(t,new Map)}function zr(t,e){switch(bu.call(t)){case"[object Array]":{if(e.has(t))return e.get(t);var i=t.slice(0);return e.set(t,i),i.forEach(function(n,s){i[s]=zr(n,e)}),i}case"[object Object]":{if(e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(n){r[n]=zr(t[n],e)}),r}default:return t}}function ku(){return typeof process!="undefined"?"production":"development"}function Kr(t){return ku()===t}function xs(){return Kr("production")===!0}function _u(){return Kr("development")===!0}function Yr(){return Kr("test")===!0}function Jr(t){try{return t()}catch(e){console.error&&console.error(e)}}function Ut(t){return t.errors&&t.errors.length}function Os(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){t[e]!==null&&(typeof t[e]=="object"||typeof t[e]=="function")&&!Object.isFrozen(t[e])&&Os(t[e])}),t}function uf(t){if(_u()||Yr()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return Os(t)}return t}var Ru=Object.prototype.hasOwnProperty;function qs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zr(t)}function Zr(t){var e=t[0]||{},i=t.length;if(i>1){var r=[];e=Xr(e,r);for(var n=1;n<i;++n)e=Ls(e,t[n],r)}return e}function Us(t){return t!==null&&typeof t=="object"}function Ls(t,e,i){return Us(e)&&Us(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=Xr(t,i)),Object.keys(e).forEach(function(r){var n=e[r];if(Ru.call(t,r)){var s=t[r];n!==s&&(t[r]=Ls(Xr(s,i),n,i))}else t[r]=n}),t):e}function Xr(t,e){return t!==null&&typeof t=="object"&&e.indexOf(t)<0&&(Array.isArray(t)?t=t.slice(0):t=Y({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}var $s=Object.create({});function cf(t,e){e===void 0&&(e="warn"),!xs()&&!$s[t]&&(Yr()||($s[t]=!0),e==="error"?console.error(t):console.warn(t))}function df(t){return JSON.parse(JSON.stringify(t))}var Su=se(9329),Eu=se.n(Su),Cu=Eu();const Le=Cu;function Tu(t){for(var e=["query","operationName","variables","extensions","context"],i=0,r=Object.keys(t);i<r.length;i++){var n=r[i];if(e.indexOf(n)<0)throw new De(2)}return t}var mf=function(t){ft(e,t);function e(i,r){var n=t.call(this,i)||this;return n.link=r,n}return e}(Error);function er(t){return t.request.length<=1}function hf(t){var e=!1;return new Promise(function(i,r){t.subscribe({next:function(n){e||(e=!0,i(n))},error:r})})}var pf=null;function ff(t){return new Observable(function(e){t.then(function(i){e.next(i),e.complete()}).catch(e.error.bind(e))})}function Gs(t){return new Le(function(e){e.error(t)})}function Nu(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Hr(e.query):""),e}function Pu(t,e){var i=Y({},t),r=function(s){typeof s=="function"?i=Y({},i,s(i)):i=Y({},i,s)},n=function(){return Y({},i)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:n}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Fu(e)}}),e}function Fu(t){var e=t.query,i=t.variables,r=t.operationName;return JSON.stringify([r,e,i])}function Vs(t,e){return e?e(t):Le.of()}function yi(t){return typeof t=="function"?new Ze(t):t}function Hs(){return new Ze(function(){return Le.of()})}function Du(t){return t.length===0?Hs():t.map(yi).reduce(function(e,i){return e.concat(i)})}function Bs(t,e,i){var r=yi(e),n=yi(i||new Ze(Vs));return er(r)&&er(n)?new Ze(function(s){return t(s)?r.request(s)||Le.of():n.request(s)||Le.of()}):new Ze(function(s,a){return t(s)?r.request(s,a)||Le.of():n.request(s,a)||Le.of()})}var Iu=function(t,e){var i=yi(t);if(er(i))return i;var r=yi(e);return er(r)?new Ze(function(n){return i.request(n,function(s){return r.request(s)||Le.of()})||Le.of()}):new Ze(function(n,s){return i.request(n,function(a){return r.request(a,s)||Le.of()})||Le.of()})},Ze=function(){function t(e){e&&(this.request=e)}return t.prototype.split=function(e,i,r){return this.concat(Bs(e,i,r||new t(Vs)))},t.prototype.concat=function(e){return Iu(this,e)},t.prototype.request=function(e,i){throw new De(1)},t.empty=Hs,t.from=Du,t.split=Bs,t.execute=tr,t}();function tr(t,e){return t.request(Pu(e.context,Nu(Tu(e))))||Le.of()}var Au=se(7121),be;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(be||(be={}));function js(t){return t<7}var ki=function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype[Au.Z]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Le);function Jt(t){return Array.isArray(t)&&t.length>0}function Mu(t){return t.hasOwnProperty("graphQLErrors")}var xu=function(t){var e="";return Jt(t.graphQLErrors)&&t.graphQLErrors.forEach(function(i){var r=i?i.message:"Error message not found.";e+="GraphQL error: "+r+`
`}),t.networkError&&(e+="Network error: "+t.networkError.message+`
`),e=e.replace(/\n$/,""),e},Ft=function(t){ft(e,t);function e(i){var r=i.graphQLErrors,n=i.networkError,s=i.errorMessage,a=i.extraInfo,l=t.call(this,s)||this;return l.graphQLErrors=r||[],l.networkError=n||null,s?l.message=s:l.message=xu(l),l.extraInfo=a,l.__proto__=e.prototype,l}return e}(Error),Lt;(function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"})(Lt||(Lt={}));var Ou=function(t,e){return e===void 0&&(e="none"),t&&(t.networkError||e==="none"&&Jt(t.graphQLErrors))},qu=function(t){ft(e,t);function e(i){var r=i.queryManager,n=i.options,s=i.shouldSubscribe,a=s===void 0?!0:s,l=t.call(this,function(c){return l.onSubscribe(c)})||this;l.observers=new Set,l.subscriptions=new Set,l.isTornDown=!1,l.options=n,l.variables=n.variables||{},l.queryId=r.generateQueryId(),l.shouldSubscribe=a;var u=Yt(n.query);return l.queryName=u&&u.name&&u.name.value,l.queryManager=r,l}return e.prototype.result=function(){var i=this;return new Promise(function(r,n){var s={next:function(l){r(l),i.observers.delete(s),i.observers.size||i.queryManager.removeQuery(i.queryId),setTimeout(function(){a.unsubscribe()},0)},error:n},a=i.subscribe(s)})},e.prototype.currentResult=function(){var i=this.getCurrentResult();return i.data===void 0&&(i.data={}),i},e.prototype.getCurrentResult=function(){if(this.isTornDown){var i=this.lastResult;return{data:!this.lastError&&i&&i.data||void 0,error:this.lastError,loading:!1,networkStatus:be.error}}var r=this.queryManager.getCurrentQueryResult(this),n=r.data,s=r.partial,a=this.queryManager.queryStore.get(this.queryId),l,u=this.options.fetchPolicy,c=u==="network-only"||u==="no-cache";if(a){var p=a.networkStatus;if(Ou(a,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:p,error:new Ft({graphQLErrors:a.graphQLErrors,networkError:a.networkError})};a.variables&&(this.options.variables=Y(Y({},this.options.variables),a.variables),this.variables=this.options.variables),l={data:n,loading:js(p),networkStatus:p},a.graphQLErrors&&this.options.errorPolicy==="all"&&(l.errors=a.graphQLErrors)}else{var b=c||s&&u!=="cache-only";l={data:n,loading:b,networkStatus:b?be.loading:be.ready}}return s||this.updateLastResult(Y(Y({},l),{stale:!1})),Y(Y({},l),{partial:s})},e.prototype.isDifferentFromLastResult=function(i){var r=this.lastResultSnapshot;return!(r&&i&&r.networkStatus===i.networkStatus&&r.stale===i.stale&&Je(r.data,i.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var i=this.queryManager.queryStore.get(this.queryId);i&&(i.networkError=null,i.graphQLErrors=[])},e.prototype.refetch=function(i){var r=this.options.fetchPolicy;return r==="cache-only"?Promise.reject(new De(1)):(r!=="no-cache"&&r!=="cache-and-network"&&(r="network-only"),Je(this.variables,i)||(this.variables=Y(Y({},this.variables),i)),Je(this.options.variables,this.variables)||(this.options.variables=Y(Y({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Y(Y({},this.options),{fetchPolicy:r}),Lt.refetch))},e.prototype.fetchMore=function(i){var r=this;ce(i.updateQuery,2);var n=Y(Y({},i.query?i:Y(Y(Y({},this.options),i),{variables:Y(Y({},this.variables),i.variables)})),{fetchPolicy:"network-only"}),s=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(s,n,Lt.normal,this.queryId).then(function(a){return r.updateQuery(function(l){return i.updateQuery(l,{fetchMoreResult:a.data,variables:n.variables})}),r.queryManager.stopQuery(s),a},function(a){throw r.queryManager.stopQuery(s),a})},e.prototype.subscribeToMore=function(i){var r=this,n=this.queryManager.startGraphQLSubscription({query:i.document,variables:i.variables}).subscribe({next:function(s){var a=i.updateQuery;a&&r.updateQuery(function(l,u){var c=u.variables;return a(l,{subscriptionData:s,variables:c})})},error:function(s){if(i.onError){i.onError(s);return}}});return this.subscriptions.add(n),function(){r.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(i){var r=this.options.fetchPolicy;this.options=Y(Y({},this.options),i),i.pollInterval?this.startPolling(i.pollInterval):i.pollInterval===0&&this.stopPolling();var n=i.fetchPolicy;return this.setVariables(this.options.variables,r!==n&&(r==="cache-only"||r==="standby"||n==="network-only"),i.fetchResults)},e.prototype.setVariables=function(i,r,n){return r===void 0&&(r=!1),n===void 0&&(n=!0),this.isTornDown=!1,i=i||this.variables,!r&&Je(i,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=i,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(i){var r=this.queryManager,n=r.getQueryWithPreviousResult(this.queryId),s=n.previousResult,a=n.variables,l=n.document,u=Jr(function(){return i(s,{variables:a})});u&&(r.dataStore.markUpdateQueryResult(l,a,u),r.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(i){Qs(this),this.options.pollInterval=i,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(i){var r=this.lastResult;return this.lastResult=i,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?i:yu(i),r},e.prototype.onSubscribe=function(i){var r=this;try{var n=i._subscription._observer;n&&!n.error&&(n.error=Uu)}catch(a){}var s=!this.observers.size;return this.observers.add(i),i.next&&this.lastResult&&i.next(this.lastResult),i.error&&this.lastError&&i.error(this.lastError),s&&this.setUpQuery(),function(){r.observers.delete(i)&&!r.observers.size&&r.tearDownQuery()}},e.prototype.setUpQuery=function(){var i=this,r=this,n=r.queryManager,s=r.queryId;this.shouldSubscribe&&n.addObservableQuery(s,this),this.options.pollInterval&&(Qs(this),n.startPollingQuery(this.options,s));var a=function(l){i.updateLastResult(Y(Y({},i.lastResult),{errors:l.graphQLErrors,networkStatus:be.error,loading:!1})),en(i.observers,"error",i.lastError=l)};n.observeQuery(s,this.options,{next:function(l){if(i.lastError||i.isDifferentFromLastResult(l)){var u=i.updateLastResult(l),c=i.options,p=c.query,b=c.variables,_=c.fetchPolicy;n.transform(p).hasClientExports?n.getLocalState().addExportedVariables(p,b).then(function(q){var V=i.variables;i.variables=i.options.variables=q,!l.loading&&u&&_!=="cache-only"&&n.transform(p).serverQuery&&!Je(V,q)?i.refetch():en(i.observers,"next",l)}):en(i.observers,"next",l)}},error:a}).catch(a)},e.prototype.tearDownQuery=function(){var i=this.queryManager;this.isTornDown=!0,i.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),i.removeObservableQuery(this.queryId),i.stopQuery(this.queryId),this.observers.clear()},e}(ki);function Uu(t){}function en(t,e,i){var r=[];t.forEach(function(n){return n[e]&&r.push(n)}),r.forEach(function(n){return n[e](i)})}function Qs(t){var e=t.options.fetchPolicy;ce(e!=="cache-first"&&e!=="cache-only",3)}var Lu=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initMutation=function(e,i,r){this.store[e]={mutation:i,variables:r||{},loading:!0,error:null}},t.prototype.markMutationError=function(e,i){var r=this.store[e];r&&(r.loading=!1,r.error=i)},t.prototype.markMutationResult=function(e){var i=this.store[e];i&&(i.loading=!1,i.error=null)},t.prototype.reset=function(){this.store={}},t}(),$u=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initQuery=function(e){var i=this.store[e.queryId];ce(!i||i.document===e.document||Je(i.document,e.document),19);var r=!1,n=null;e.storePreviousVariables&&i&&i.networkStatus!==be.loading&&(Je(i.variables,e.variables)||(r=!0,n=i.variables));var s;r?s=be.setVariables:e.isPoll?s=be.poll:e.isRefetch?s=be.refetch:s=be.loading;var a=[];i&&i.graphQLErrors&&(a=i.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:n,networkError:null,graphQLErrors:a,networkStatus:s,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=be.fetchMore)},t.prototype.markQueryResult=function(e,i,r){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Jt(i.errors)?i.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=be.ready,typeof r=="string"&&this.store[r]&&(this.store[r].networkStatus=be.ready))},t.prototype.markQueryError=function(e,i,r){!this.store||!this.store[e]||(this.store[e].networkError=i,this.store[e].networkStatus=be.error,typeof r=="string"&&this.markQueryResultClient(r,!0))},t.prototype.markQueryResultClient=function(e,i){var r=this.store&&this.store[e];r&&(r.networkError=null,r.previousVariables=null,i&&(r.networkStatus=be.ready))},t.prototype.stopQuery=function(e){delete this.store[e]},t.prototype.reset=function(e){var i=this;Object.keys(this.store).forEach(function(r){e.indexOf(r)<0?i.stopQuery(r):i.store[r].networkStatus=be.loading})},t}();function Gu(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Ws=function(){function t(e){var i=e.cache,r=e.client,n=e.resolvers,s=e.fragmentMatcher;this.cache=i,r&&(this.client=r),n&&this.addResolvers(n),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var i=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){i.resolvers=qs(i.resolvers,r)}):this.resolvers=qs(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var i=e.document,r=e.remoteResult,n=e.context,s=e.variables,a=e.onlyRunForcedResolvers,l=a===void 0?!1:a;return Tt(this,void 0,void 0,function(){return Nt(this,function(u){return i?[2,this.resolveDocument(i,r.data,n,s,this.fragmentMatcher,l).then(function(c){return Y(Y({},r),{data:c.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return Yi(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return this.resolvers?wu(e):e},t.prototype.prepareContext=function(e){e===void 0&&(e={});var i=this.cache,r=Y(Y({},e),{cache:i,getCacheKey:function(n){if(i.config)return i.config.dataIdFromObject(n);ce(!1,6)}});return r},t.prototype.addExportedVariables=function(e,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),Tt(this,void 0,void 0,function(){return Nt(this,function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,i)||{},this.prepareContext(r),i).then(function(s){return Y(Y({},i),s.exportedVariables)})]:[2,Y({},i)]})})},t.prototype.shouldForceResolvers=function(e){var i=!1;return(0,gt.visit)(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(i=r.arguments.some(function(n){return n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0}),i))return gt.BREAK}}}),i},t.prototype.buildRootValueFromCache=function(e,i){return this.cache.diff({query:vu(e),variables:i,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,i,r,n,s,a){return r===void 0&&(r={}),n===void 0&&(n={}),s===void 0&&(s=function(){return!0}),a===void 0&&(a=!1),Tt(this,void 0,void 0,function(){var l,u,c,p,b,_,q,V,U;return Nt(this,function(z){return l=Br(e),u=Ji(e),c=Zi(u),p=l.operation,b=p?Gu(p):"Query",_=this,q=_.cache,V=_.client,U={fragmentMap:c,context:Y(Y({},r),{cache:q,client:V}),variables:n,fragmentMatcher:s,defaultOperationType:b,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(l.selectionSet,i,U).then(function(K){return{result:K,exportedVariables:U.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,i,r){return Tt(this,void 0,void 0,function(){var n,s,a,l,u,c=this;return Nt(this,function(p){return n=r.fragmentMap,s=r.context,a=r.variables,l=[i],u=function(b){return Tt(c,void 0,void 0,function(){var _,q;return Nt(this,function(V){return Gr(b,a)?Pt(b)?[2,this.resolveField(b,i,r).then(function(U){var z;typeof U!="undefined"&&l.push((z={},z[bi(b)]=U,z))})]:(Wi(b)?_=b:(_=n[b.name.value],ce(_,7)),_&&_.typeCondition&&(q=_.typeCondition.name.value,r.fragmentMatcher(i,q,s))?[2,this.resolveSelectionSet(_.selectionSet,i,r).then(function(U){l.push(U)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return Zr(l)})]})})},t.prototype.resolveField=function(e,i,r){return Tt(this,void 0,void 0,function(){var n,s,a,l,u,c,p,b,_,q=this;return Nt(this,function(V){return n=r.variables,s=e.name.value,a=bi(e),l=s!==a,u=i[a]||i[s],c=Promise.resolve(u),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(p=i.__typename||r.defaultOperationType,b=this.resolvers&&this.resolvers[p],b&&(_=b[l?s:a],_&&(c=Promise.resolve(_(i,$r(e,n),r.context,{field:e,fragmentMap:r.fragmentMap}))))),[2,c.then(function(U){if(U===void 0&&(U=u),e.directives&&e.directives.forEach(function(z){z.name.value==="export"&&z.arguments&&z.arguments.forEach(function(K){K.name.value==="as"&&K.value.kind==="StringValue"&&(r.exportedVariables[K.value.value]=U)})}),!e.selectionSet||U==null)return U;if(Array.isArray(U))return q.resolveSubSelectedArray(e,U,r);if(e.selectionSet)return q.resolveSelectionSet(e.selectionSet,U,r)})]})})},t.prototype.resolveSubSelectedArray=function(e,i,r){var n=this;return Promise.all(i.map(function(s){if(s===null)return null;if(Array.isArray(s))return n.resolveSubSelectedArray(e,s,r);if(e.selectionSet)return n.resolveSelectionSet(e.selectionSet,s,r)}))},t}();function zs(t){var e=new Set,i=null;return new ki(function(r){return e.add(r),i=i||t.subscribe({next:function(n){e.forEach(function(s){return s.next&&s.next(n)})},error:function(n){e.forEach(function(s){return s.error&&s.error(n)})},complete:function(){e.forEach(function(n){return n.complete&&n.complete()})}}),function(){e.delete(r)&&!e.size&&i&&(i.unsubscribe(),i=null)}})}function Vu(t,e){return new ki(function(i){var r=i.next,n=i.error,s=i.complete,a=0,l=!1,u={next:function(p){++a,new Promise(function(b){b(e(p))}).then(function(b){--a,r&&r.call(i,b),l&&u.complete()},function(b){--a,n&&n.call(i,b)})},error:function(p){n&&n.call(i,p)},complete:function(){l=!0,a||s&&s.call(i)}},c=t.subscribe(u);return function(){return c.unsubscribe()}})}var Hu=Object.prototype.hasOwnProperty,Bu=function(){function t(e){var i=e.link,r=e.queryDeduplication,n=r===void 0?!1:r,s=e.store,a=e.onBroadcast,l=a===void 0?function(){}:a,u=e.ssrMode,c=u===void 0?!1:u,p=e.clientAwareness,b=p===void 0?{}:p,_=e.localState,q=e.assumeImmutableResults;this.mutationStore=new Lu,this.queryStore=new $u,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Wr?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=i,this.queryDeduplication=n,this.dataStore=s,this.onBroadcast=l,this.clientAwareness=b,this.localState=_||new Ws({cache:s.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!q}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(i,r){e.stopQueryNoBroadcast(r)}),this.fetchQueryRejectFns.forEach(function(i){i(new De(8))})},t.prototype.mutate=function(e){var i=e.mutation,r=e.variables,n=e.optimisticResponse,s=e.updateQueries,a=e.refetchQueries,l=a===void 0?[]:a,u=e.awaitRefetchQueries,c=u===void 0?!1:u,p=e.update,b=e.errorPolicy,_=b===void 0?"none":b,q=e.fetchPolicy,V=e.context,U=V===void 0?{}:V;return Tt(this,void 0,void 0,function(){var z,K,Z,ie=this;return Nt(this,function(ee){switch(ee.label){case 0:return ce(i,9),ce(!q||q==="no-cache",10),z=this.generateQueryId(),i=this.transform(i).document,this.setQuery(z,function(){return{document:i}}),r=this.getVariables(i,r),this.transform(i).hasClientExports?[4,this.localState.addExportedVariables(i,r,U)]:[3,2];case 1:r=ee.sent(),ee.label=2;case 2:return K=function(){var le={};return s&&ie.queries.forEach(function(ge,he){var _e=ge.observableQuery;if(_e){var de=_e.queryName;de&&Hu.call(s,de)&&(le[he]={updater:s[de],query:ie.queryStore.get(he)})}}),le},this.mutationStore.initMutation(z,i,r),this.dataStore.markMutationInit({mutationId:z,document:i,variables:r,updateQueries:K(),update:p,optimisticResponse:n}),this.broadcastQueries(),Z=this,[2,new Promise(function(le,ge){var he,_e;Z.getObservableFromLink(i,Y(Y({},U),{optimisticResponse:n}),r,!1).subscribe({next:function(de){if(Ut(de)&&_==="none"){_e=new Ft({graphQLErrors:de.errors});return}Z.mutationStore.markMutationResult(z),q!=="no-cache"&&Z.dataStore.markMutationResult({mutationId:z,result:de,document:i,variables:r,updateQueries:K(),update:p}),he=de},error:function(de){Z.mutationStore.markMutationError(z,de),Z.dataStore.markMutationComplete({mutationId:z,optimisticResponse:n}),Z.broadcastQueries(),Z.setQuery(z,function(){return{document:null}}),ge(new Ft({networkError:de}))},complete:function(){if(_e&&Z.mutationStore.markMutationError(z,_e),Z.dataStore.markMutationComplete({mutationId:z,optimisticResponse:n}),Z.broadcastQueries(),_e){ge(_e);return}typeof l=="function"&&(l=l(he));var de=[];Jt(l)&&l.forEach(function(Mt){if(typeof Mt=="string")Z.queries.forEach(function(rt){var qe=rt.observableQuery;qe&&qe.queryName===Mt&&de.push(qe.refetch())});else{var Bi={query:Mt.query,variables:Mt.variables,fetchPolicy:"network-only"};Mt.context&&(Bi.context=Mt.context),de.push(Z.query(Bi))}}),Promise.all(c?de:[]).then(function(){Z.setQuery(z,function(){return{document:null}}),_==="ignore"&&he&&Ut(he)&&delete he.errors,le(he)})}})})]}})})},t.prototype.fetchQuery=function(e,i,r,n){return Tt(this,void 0,void 0,function(){var s,a,l,u,c,p,b,_,q,V,U,z,K,Z,ie,ee,le,ge,he=this;return Nt(this,function(_e){switch(_e.label){case 0:return s=i.metadata,a=s===void 0?null:s,l=i.fetchPolicy,u=l===void 0?"cache-first":l,c=i.context,p=c===void 0?{}:c,b=this.transform(i.query).document,_=this.getVariables(b,i.variables),this.transform(b).hasClientExports?[4,this.localState.addExportedVariables(b,_,p)]:[3,2];case 1:_=_e.sent(),_e.label=2;case 2:if(i=Y(Y({},i),{variables:_}),V=u==="network-only"||u==="no-cache",U=V,V||(z=this.dataStore.getCache().diff({query:b,variables:_,returnPartialData:!0,optimistic:!1}),K=z.complete,Z=z.result,U=!K||u==="cache-and-network",q=Z),ie=U&&u!=="cache-only"&&u!=="standby",Yi(["live"],b)&&(ie=!0),ee=this.idCounter++,le=u!=="no-cache"?this.updateQueryWatch(e,b,i):void 0,this.setQuery(e,function(){return{document:b,lastRequestId:ee,invalidated:!0,cancel:le}}),this.invalidate(n),this.queryStore.initQuery({queryId:e,document:b,storePreviousVariables:ie,variables:_,isPoll:r===Lt.poll,isRefetch:r===Lt.refetch,metadata:a,fetchMoreForQueryId:n}),this.broadcastQueries(),ie){if(ge=this.fetchRequest({requestId:ee,queryId:e,document:b,options:i,fetchMoreForQueryId:n}).catch(function(de){throw Mu(de)?de:(ee>=he.getQuery(e).lastRequestId&&(he.queryStore.markQueryError(e,de,n),he.invalidate(e),he.invalidate(n),he.broadcastQueries()),new Ft({networkError:de}))}),u!=="cache-and-network")return[2,ge];ge.catch(function(){})}return this.queryStore.markQueryResultClient(e,!ie),this.invalidate(e),this.invalidate(n),this.transform(b).hasForcedResolvers?[2,this.localState.runResolvers({document:b,remoteResult:{data:q},context:p,variables:_,onlyRunForcedResolvers:!0}).then(function(de){return he.markQueryResult(e,de,i,n),he.broadcastQueries(),de})]:(this.broadcastQueries(),[2,{data:q}])}})})},t.prototype.markQueryResult=function(e,i,r,n){var s=r.fetchPolicy,a=r.variables,l=r.errorPolicy;s==="no-cache"?this.setQuery(e,function(){return{newData:{result:i.data,complete:!0}}}):this.dataStore.markQueryResult(i,this.getQuery(e).document,a,n,l==="ignore"||l==="all")},t.prototype.queryListenerForObserver=function(e,i,r){var n=this;function s(a,l){if(r[a])try{r[a](l)}catch(u){}}return function(a,l){if(n.invalidate(e,!1),!!a){var u=n.getQuery(e),c=u.observableQuery,p=u.document,b=c?c.options.fetchPolicy:i.fetchPolicy;if(b!=="standby"){var _=js(a.networkStatus),q=c&&c.getLastResult(),V=!!(q&&q.networkStatus!==a.networkStatus),U=i.returnPartialData||!l&&a.previousVariables||V&&i.notifyOnNetworkStatusChange||b==="cache-only"||b==="cache-and-network";if(!(_&&!U)){var z=Jt(a.graphQLErrors),K=c&&c.options.errorPolicy||i.errorPolicy||"none";if(K==="none"&&z||a.networkError)return s("error",new Ft({graphQLErrors:a.graphQLErrors,networkError:a.networkError}));try{var Z=void 0,ie=void 0;if(l)b!=="no-cache"&&b!=="network-only"&&n.setQuery(e,function(){return{newData:null}}),Z=l.result,ie=!l.complete;else{var ee=c&&c.getLastError(),le=K!=="none"&&(ee&&ee.graphQLErrors)!==a.graphQLErrors;if(q&&q.data&&!le)Z=q.data,ie=!1;else{var ge=n.dataStore.getCache().diff({query:p,variables:a.previousVariables||a.variables,returnPartialData:!0,optimistic:!0});Z=ge.result,ie=!ge.complete}}var he=ie&&!(i.returnPartialData||b==="cache-only"),_e={data:he?q&&q.data:Z,loading:_,networkStatus:a.networkStatus,stale:he};K==="all"&&z&&(_e.errors=a.graphQLErrors),s("next",_e)}catch(de){s("error",new Ft({networkError:de}))}}}}}},t.prototype.transform=function(e){var i=this.transformCache;if(!i.has(e)){var r=this.dataStore.getCache(),n=r.transformDocument(e),s=hu(r.transformForLink(n)),a=this.localState.clientQuery(n),l=this.localState.serverQuery(s),u={document:n,hasClientExports:su(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:a,serverQuery:l,defaultVars:jr(Yt(n))},c=function(p){p&&!i.has(p)&&i.set(p,u)};c(e),c(n),c(a),c(l)}return i.get(e)},t.prototype.getVariables=function(e,i){return Y(Y({},this.transform(e).defaultVars),i)},t.prototype.watchQuery=function(e,i){i===void 0&&(i=!0),ce(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var r=Y({},e);return new qu({queryManager:this,options:r,shouldSubscribe:i})},t.prototype.query=function(e){var i=this;return ce(e.query,12),ce(e.query.kind==="Document",13),ce(!e.returnPartialData,14),ce(!e.pollInterval,15),new Promise(function(r,n){var s=i.watchQuery(e,!1);i.fetchQueryRejectFns.set("query:"+s.queryId,n),s.result().then(r,n).then(function(){return i.fetchQueryRejectFns.delete("query:"+s.queryId)})})},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},t.prototype.addQueryListener=function(e,i){this.setQuery(e,function(r){var n=r.listeners;return n.add(i),{invalidated:!1}})},t.prototype.updateQueryWatch=function(e,i,r){var n=this,s=this.getQuery(e).cancel;s&&s();var a=function(){var l=null,u=n.getQuery(e).observableQuery;if(u){var c=u.getLastResult();c&&(l=c.data)}return l};return this.dataStore.getCache().watch({query:i,variables:r.variables,optimistic:!0,previousResult:a,callback:function(l){n.setQuery(e,function(){return{invalidated:!0,newData:l}})}})},t.prototype.addObservableQuery=function(e,i){this.setQuery(e,function(){return{observableQuery:i}})},t.prototype.removeObservableQuery=function(e){var i=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),i&&i()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(i){i(new De(16))});var e=[];return this.queries.forEach(function(i,r){var n=i.observableQuery;n&&e.push(r)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(e){var i=this;e===void 0&&(e=!1);var r=[];return this.queries.forEach(function(n,s){var a=n.observableQuery;if(a){var l=a.options.fetchPolicy;a.resetLastResults(),l!=="cache-only"&&(e||l!=="standby")&&r.push(a.refetch()),i.setQuery(s,function(){return{newData:null}}),i.invalidate(s)}}),this.broadcastQueries(),Promise.all(r)},t.prototype.observeQuery=function(e,i,r){return this.addQueryListener(e,this.queryListenerForObserver(e,i,r)),this.fetchQuery(e,i)},t.prototype.startQuery=function(e,i,r){return this.addQueryListener(e,r),this.fetchQuery(e,i).catch(function(){}),e},t.prototype.startGraphQLSubscription=function(e){var i=this,r=e.query,n=e.fetchPolicy,s=e.variables;r=this.transform(r).document,s=this.getVariables(r,s);var a=function(u){return i.getObservableFromLink(r,{},u,!1).map(function(c){if((!n||n!=="no-cache")&&(i.dataStore.markSubscriptionResult(c,r,u),i.broadcastQueries()),Ut(c))throw new Ft({graphQLErrors:c.errors});return c})};if(this.transform(r).hasClientExports){var l=this.localState.addExportedVariables(r,s).then(a);return new ki(function(u){var c=null;return l.then(function(p){return c=p.subscribe(u)},u.error),function(){return c&&c.unsubscribe()}})}return a(s)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(i){return i.unsubscribe()}),this.queries.delete(e)},t.prototype.getCurrentQueryResult=function(e,i){i===void 0&&(i=!0);var r=e.options,n=r.variables,s=r.query,a=r.fetchPolicy,l=r.returnPartialData,u=e.getLastResult(),c=this.getQuery(e.queryId).newData;if(c&&c.complete)return{data:c.result,partial:!1};if(a==="no-cache"||a==="network-only")return{data:void 0,partial:!1};var p=this.dataStore.getCache().diff({query:s,variables:n,previousResult:u?u.data:void 0,returnPartialData:!0,optimistic:i}),b=p.result,_=p.complete;return{data:_||l?b:void 0,partial:!_}},t.prototype.getQueryWithPreviousResult=function(e){var i;if(typeof e=="string"){var r=this.getQuery(e).observableQuery;ce(r,17),i=r}else i=e;var n=i.options,s=n.variables,a=n.query;return{previousResult:this.getCurrentQueryResult(i,!1).data,variables:s,document:a}},t.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(i,r){i.invalidated&&i.listeners.forEach(function(n){n&&n(e.queryStore.get(r),i.newData)})})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,i,r,n){var s=this;n===void 0&&(n=this.queryDeduplication);var a,l=this.transform(e).serverQuery;if(l){var u=this,c=u.inFlightLinkObservables,p=u.link,b={query:l,variables:r,operationName:Hr(l)||void 0,context:this.prepareContext(Y(Y({},i),{forceFetch:!n}))};if(i=b.context,n){var _=c.get(l)||new Map;c.set(l,_);var q=JSON.stringify(r);if(a=_.get(q),!a){_.set(q,a=zs(tr(p,b)));var V=function(){_.delete(q),_.size||c.delete(l),U.unsubscribe()},U=a.subscribe({next:V,error:V,complete:V})}}else a=zs(tr(p,b))}else a=ki.of({data:{}}),i=this.prepareContext(i);var z=this.transform(e).clientQuery;return z&&(a=Vu(a,function(K){return s.localState.runResolvers({document:z,remoteResult:K,context:i,variables:r})})),a},t.prototype.fetchRequest=function(e){var i=this,r=e.requestId,n=e.queryId,s=e.document,a=e.options,l=e.fetchMoreForQueryId,u=a.variables,c=a.errorPolicy,p=c===void 0?"none":c,b=a.fetchPolicy,_,q;return new Promise(function(V,U){var z=i.getObservableFromLink(s,a.context,u),K="fetchRequest:"+n;i.fetchQueryRejectFns.set(K,U);var Z=function(){i.fetchQueryRejectFns.delete(K),i.setQuery(n,function(ee){var le=ee.subscriptions;le.delete(ie)})},ie=z.map(function(ee){if(r>=i.getQuery(n).lastRequestId&&(i.markQueryResult(n,ee,a,l),i.queryStore.markQueryResult(n,ee,l),i.invalidate(n),i.invalidate(l),i.broadcastQueries()),p==="none"&&Jt(ee.errors))return U(new Ft({graphQLErrors:ee.errors}));if(p==="all"&&(q=ee.errors),l||b==="no-cache")_=ee.data;else{var le=i.dataStore.getCache().diff({variables:u,query:s,optimistic:!1,returnPartialData:!0}),ge=le.result,he=le.complete;(he||a.returnPartialData)&&(_=ge)}}).subscribe({error:function(ee){Z(),U(ee)},complete:function(){Z(),V({data:_,errors:q,loading:!1,networkStatus:be.ready,stale:!1})}});i.setQuery(n,function(ee){var le=ee.subscriptions;le.add(ie)})})},t.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(e,i){var r=this.getQuery(e),n=Y(Y({},r),i(r));this.queries.set(e,n)},t.prototype.invalidate=function(e,i){i===void 0&&(i=!0),e&&this.setQuery(e,function(){return{invalidated:i}})},t.prototype.prepareContext=function(e){e===void 0&&(e={});var i=this.localState.prepareContext(e);return Y(Y({},i),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(e){var i=this.queryStore.get(e);return i&&i.networkStatus!==be.ready&&i.networkStatus!==be.error},t.prototype.startPollingQuery=function(e,i,r){var n=this,s=e.pollInterval;if(ce(s,18),!this.ssrMode){var a=this.pollingInfoByQueryId.get(i);a||this.pollingInfoByQueryId.set(i,a={}),a.interval=s,a.options=Y(Y({},e),{fetchPolicy:"network-only"});var l=function(){var c=n.pollingInfoByQueryId.get(i);c&&(n.checkInFlight(i)?u():n.fetchQuery(i,c.options,Lt.poll).then(u,u))},u=function(){var c=n.pollingInfoByQueryId.get(i);c&&(clearTimeout(c.timeout),c.timeout=setTimeout(l,c.interval))};r&&this.addQueryListener(i,r),u()}return i},t.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},t}(),ju=function(){function t(e){this.cache=e}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(e,i,r,n,s){s===void 0&&(s=!1);var a=!Ut(e);s&&Ut(e)&&e.data&&(a=!0),!n&&a&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:i,variables:r})},t.prototype.markSubscriptionResult=function(e,i,r){Ut(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:i,variables:r})},t.prototype.markMutationInit=function(e){var i=this;if(e.optimisticResponse){var r;typeof e.optimisticResponse=="function"?r=e.optimisticResponse(e.variables):r=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(n){var s=i.cache;i.cache=n;try{i.markMutationResult({mutationId:e.mutationId,result:{data:r},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{i.cache=s}},e.mutationId)}},t.prototype.markMutationResult=function(e){var i=this;if(!Ut(e.result)){var r=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],n=e.updateQueries;n&&Object.keys(n).forEach(function(s){var a=n[s],l=a.query,u=a.updater,c=i.cache.diff({query:l.document,variables:l.variables,returnPartialData:!0,optimistic:!1}),p=c.result,b=c.complete;if(b){var _=Jr(function(){return u(p,{mutationResult:e.result,queryName:Hr(l.document)||void 0,queryVariables:l.variables})});_&&r.push({result:_,dataId:"ROOT_QUERY",query:l.document,variables:l.variables})}}),this.cache.performTransaction(function(s){r.forEach(function(l){return s.write(l)});var a=e.update;a&&Jr(function(){return a(s,e.result)})})}},t.prototype.markMutationComplete=function(e){var i=e.mutationId,r=e.optimisticResponse;r&&this.cache.removeOptimistic(i)},t.prototype.markUpdateQueryResult=function(e,i,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:i,query:e})},t.prototype.reset=function(){return this.cache.reset()},t}(),Qu="2.6.10",Wu=!1,zu=function(){function t(e){var i=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.cache,n=e.ssrMode,s=n===void 0?!1:n,a=e.ssrForceFetchDelay,l=a===void 0?0:a,u=e.connectToDevTools,c=e.queryDeduplication,p=c===void 0?!0:c,b=e.defaultOptions,_=e.assumeImmutableResults,q=_===void 0?!1:_,V=e.resolvers,U=e.typeDefs,z=e.fragmentMatcher,K=e.name,Z=e.version,ie=e.link;if(!ie&&V&&(ie=Ze.empty()),!ie||!r)throw new De(4);this.link=ie,this.cache=r,this.store=new ju(r),this.disableNetworkFetches=s||l>0,this.queryDeduplication=p,this.defaultOptions=b||{},this.typeDefs=U,l&&setTimeout(function(){return i.disableNetworkFetches=!1},l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var ee=!1;(typeof u=="undefined"?ee:u&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=Qu,this.localState=new Ws({cache:r,client:this,resolvers:V,fragmentMatcher:z}),this.queryManager=new Bu({link:this.link,store:this.store,queryDeduplication:p,ssrMode:s,clientAwareness:{name:K,version:Z},localState:this.localState,assumeImmutableResults:q,onBroadcast:function(){i.devToolsHookCb&&i.devToolsHookCb({action:{},state:{queries:i.queryManager.queryStore.getStore(),mutations:i.queryManager.mutationStore.getStore()},dataWithOptimisticResults:i.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Y(Y({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Y(Y({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=Y(Y({},this.defaultOptions.query),e)),ce(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Y(Y({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Y(Y({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,i){return i===void 0&&(i=!1),this.cache.readQuery(e,i)},t.prototype.readFragment=function(e,i){return i===void 0&&(i=!1),this.cache.readFragment(e,i)},t.prototype.writeQuery=function(e){var i=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),i},t.prototype.writeFragment=function(e){var i=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),i},t.prototype.writeData=function(e){var i=this.cache.writeData(e);return this.queryManager.broadcastQueries(),i},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return tr(this.link,e)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(i){return i()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(i){return i()}))})},t.prototype.onResetStore=function(e){var i=this;return this.resetStoreCallbacks.push(e),function(){i.resetStoreCallbacks=i.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var i=this;return this.clearStoreCallbacks.push(e),function(){i.clearStoreCallbacks=i.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t}();const gf=null;var Ku=Object.defineProperty,Ks=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ku(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class ir extends Error{constructor(e){super(e);this.message=e,Ks(this,"name"),Ks(this,"stack")}}class rr{constructor(e,i,r){this.remoteName=e,this.url=i,this.gitProtocol=r}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}equals(e){return!(this.remoteName!==e.remoteName||this.host!==e.host||this.owner!==e.owner||this.repositoryName!==e.repositoryName)}}function Ys(t,e,i){if(!e)return null;const r=new Et(e);return i&&r.update({type:i.type}),r.host?new rr(t,e,r):null}function _i(t){return t.state.remotes.map(e=>Ys(e.name,e.fetchUrl||e.pushUrl)).filter(e=>!!e)}var nr,Yu=new Uint8Array(16);function Ju(){if(!nr&&(nr=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!nr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nr(Yu)}const Zu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xu(t){return typeof t=="string"&&Zu.test(t)}const ec=Xu;for(var Ie=[],tn=0;tn<256;++tn)Ie.push((tn+256).toString(16).substr(1));function tc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(Ie[t[e+0]]+Ie[t[e+1]]+Ie[t[e+2]]+Ie[t[e+3]]+"-"+Ie[t[e+4]]+Ie[t[e+5]]+"-"+Ie[t[e+6]]+Ie[t[e+7]]+"-"+Ie[t[e+8]]+Ie[t[e+9]]+"-"+Ie[t[e+10]]+Ie[t[e+11]]+Ie[t[e+12]]+Ie[t[e+13]]+Ie[t[e+14]]+Ie[t[e+15]]).toLowerCase();if(!ec(i))throw TypeError("Stringified UUID is invalid");return i}const ic=tc;function rc(t,e,i){t=t||{};var r=t.random||(t.rng||Ju)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=r[n];return e}return ic(r)}const Js=rc;var nc=Object.defineProperty,Re=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?nc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const sr=class{constructor(t,e,i,r,n){Re(this,"commentId"),Re(this,"id"),Re(this,"parent"),Re(this,"body"),Re(this,"originalBody"),Re(this,"mode"),Re(this,"author"),Re(this,"label"),Re(this,"commentReactions"),Re(this,"contextValue"),this.parent=t,this.body=new o.MarkdownString(e),this.mode=o.CommentMode.Preview,this.author={name:r.login,iconPath:r.avatarUrl?o.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=i?"Pending":void 0,this.contextValue="canEdit,canDelete",this.originalBody=n?n._rawComment.body:void 0,this.commentReactions=n?n.reactions:void 0,this.id=sr.idPool++}static is(t){return t.commentId===void 0}startEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof sr&&t.id===this.id&&(t.mode=o.CommentMode.Editing),t))}cancelEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof sr&&t.id===this.id&&(t.mode=o.CommentMode.Preview,t.body=t.originalBody||t.body),t))}};let je=sr;Re(je,"idPool",0);class Ce{constructor(e,i){Re(this,"commentId"),Re(this,"parent"),Re(this,"body"),Re(this,"mode"),Re(this,"author"),Re(this,"label"),Re(this,"reactions"),Re(this,"_rawComment"),Re(this,"contextValue"),this._rawComment=e,this.commentId=e.id.toString(),this.body=new o.MarkdownString(e.body),this.author={name:e.user.login,iconPath:e.user&&e.user.avatarUrl?o.Uri.parse(e.user.avatarUrl):void 0},vc(this,e.reactions),this.label=e.isDraft?"Pending":void 0;const r=[];e.canEdit&&r.push("canEdit"),e.canDelete&&r.push("canDelete"),this.contextValue=r.join(","),this.parent=i}static is(e){return e.commentId!==void 0}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Ce&&e.commentId===this.commentId&&(e.mode=o.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Ce&&e.commentId===this.commentId&&(e.mode=o.CommentMode.Preview,e.body=e._rawComment.body),e))}}var sc=Object.defineProperty,$t=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?sc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);function rn(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<32;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}class Zs{constructor(){$t(this,"_webview"),$t(this,"_disposables",[]),$t(this,"_waitForReady"),$t(this,"_onIsReady",new o.EventEmitter),$t(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const i=this._onIsReady.event(()=>{i.dispose(),e()})})}initialize(){var e;this._disposables.push((e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)},null,this._disposables))}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var i;await this._waitForReady,(i=this._webview)==null||i.postMessage({res:e})}async _replyMessage(e,i){var r;const n={seq:e.req,res:i};(r=this._webview)==null||r.postMessage(n)}async _throwError(e,i){var r;const n={seq:e.req,err:i};(r=this._webview)==null||r.postMessage(n)}dispose(){this._disposables.forEach(e=>e.dispose())}}class Xs extends Zs{constructor(){super(...arguments);$t(this,"viewType"),$t(this,"_view")}show(){this._view?this._view.show():o.commands.executeCommand(`${this.viewType}.focus`)}}var ac=Object.defineProperty,vt=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?ac(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const ot=class extends Zs{constructor(t,e,i,r,n=ot._viewType){super();this._extensionUri=t,vt(this,"_panel"),vt(this,"_disposables",[]),vt(this,"_descriptionNode"),vt(this,"_item"),vt(this,"_folderRepositoryManager"),vt(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=r,this._panel=o.window.createWebviewPanel(n,i,e,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[o.Uri.joinPath(t,"dist")]}),this._webview=this._panel.webview,super.initialize(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._folderRepositoryManager.onDidChangeActiveIssue(s=>{if(this._folderRepositoryManager&&this._item){const a=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:a})}},null,this._disposables)}static async createOrShow(t,e,i,r=!1){const n=r?o.ViewColumn.Beside:o.window.activeTextEditor?o.window.activeTextEditor.viewColumn:o.ViewColumn.One;if(ot.currentPanel)ot.currentPanel._panel.reveal(n,!0);else{const s=`Issue #${i.number.toString()}`;ot.currentPanel=new ot(t,n||o.ViewColumn.Active,s,e)}await ot.currentPanel.update(e,i)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(t){return Promise.all([this._folderRepositoryManager.resolveIssue(t.remote.owner,t.remote.repositoryName,t.number),t.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t)]).then(e=>{const[i,r,n]=e;if(!i)throw new Error(`Fail to resolve issue #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=i,this._panel.title=`Pull Request #${t.number.toString()}`,$.debug("pr.initialize",ot.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:r,repositoryDefaultBranch:n,canEdit:!0,status:{statuses:[]},isIssue:!0}})}).catch(e=>{o.window.showErrorMessage(A(e))})}async update(t,e){return this._folderRepositoryManager=t,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updateIssue(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"alert":o.window.showErrorMessage(t.args);return;case"pr.close":return this.close(t);case"pr.comment":return this.createComment(t);case"scroll":this._scrollPosition=t.args;return;case"pr.edit-comment":return this.editComment(t);case"pr.delete-comment":return this.deleteComment(t);case"pr.edit-description":return this.editDescription(t);case"pr.edit-title":return this.editTitle(t);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(t);case"pr.remove-label":return this.removeLabel(t);case"pr.debug":return this.webviewDebug(t);default:return this.MESSAGE_UNHANDLED}}async addLabels(t){try{let e=[];async function i(n,s){return e=(await n.getLabels(s)).filter(l=>!s.item.labels.some(u=>u.name===l.name)),e.map(l=>({label:l.name}))}const r=await o.window.showQuickPick(i(this._folderRepositoryManager,this._item),{canPickMany:!0});if(r&&r.length){await this._item.addLabels(r.map(s=>s.label));const n=r.map(s=>e.find(a=>a.name===s.label));this._item.item.labels=this._item.item.labels.concat(...n),this._replyMessage(t,{added:n})}}catch(e){o.window.showErrorMessage(A(e))}}async removeLabel(t){try{await this._item.removeLabel(t.args);const e=this._item.item.labels.findIndex(i=>i.name===t.args);this._item.item.labels.splice(e,1),this._replyMessage(t,{})}catch(e){o.window.showErrorMessage(A(e))}}webviewDebug(t){$.debug(t.args,ot.ID)}editDescription(t){this._item.edit({body:t.args.text}).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),o.window.showErrorMessage(`Editing description failed: ${A(e)}`)})}editTitle(t){this._item.edit({title:t.args.text}).then(e=>{this._replyMessage(t,{text:e.title})}).catch(e=>{this._throwError(t,e),o.window.showErrorMessage(`Editing title failed: ${A(e)}`)})}editCommentPromise(t,e){return this._item.editIssueComment(t,e)}editComment(t){this.editCommentPromise(t.args.comment,t.args.text).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),o.window.showErrorMessage(A(e))})}deleteCommentPromise(t){return this._item.deleteIssueComment(t.id.toString())}deleteComment(t){o.window.showWarningMessage("Are you sure you want to delete this comment?",{modal:!0},"Delete").then(e=>{e==="Delete"&&this.deleteCommentPromise(t.args).then(i=>{this._replyMessage(t,{})}).catch(i=>{this._throwError(t,i),o.window.showErrorMessage(A(i))})})}close(t){o.commands.executeCommand("pr.close",this._item,t.args).then(e=>{e?this._replyMessage(t,{value:e}):this._throwError(t,"Close cancelled")})}createComment(t){this._item.createIssueComment(t.args).then(e=>{this._replyMessage(t,{value:e})})}set _currentPanel(t){ot.currentPanel=t}dispose(){for(this._currentPanel=void 0,this._panel.dispose();this._disposables.length;){const t=this._disposables.pop();t&&t.dispose()}}getHtmlForWebview(t){const e=rn(),i=o.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Pull Request #${t}</title>
	</head>
	<body class="${process.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(i).toString()}"></script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};let ar=ot;vt(ar,"ID","PullRequestOverviewPanel"),vt(ar,"currentPanel"),vt(ar,"_viewType","IssueOverview");var oc=Object.defineProperty,Zt=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?oc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);function lc(t){return!!t.id&&!!t.milestone}const lt=class extends ar{constructor(t,e,i,r){super(t,e,i,r,lt._viewType);Zt(this,"_repositoryDefaultBranch"),Zt(this,"_existingReviewers",[]),Zt(this,"_changeActivePullRequestListener"),this.registerFolderRepositoryListener(),qd(n=>{n&&this._item.update(n),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(r.onDidMergePullRequest(n=>{this._postMessage({command:"update-state",state:we.Merged})}))}static async createOrShow(t,e,i,r=!1){const n=r?o.ViewColumn.Beside:o.window.activeTextEditor?o.window.activeTextEditor.viewColumn:o.ViewColumn.One;if(lt.currentPanel)lt.currentPanel._panel.reveal(n,!0);else{const s=`Pull Request #${i.number.toString()}`;lt.currentPanel=new lt(t,n||o.ViewColumn.Active,s,e)}await lt.currentPanel.update(e,i)}set _currentPanel(t){lt.currentPanel=t}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerFolderRepositoryListener(){this._changeActivePullRequestListener=this._folderRepositoryManager.onDidChangeActivePullRequest(t=>{if(this._folderRepositoryManager&&this._item){const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:e})}})}async updatePullRequest(t){return Promise.all([this._folderRepositoryManager.resolvePullRequest(t.remote.owner,t.remote.repositoryName,t.number),t.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t),t.getStatusChecks(),t.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(t)]).then(e=>{const[i,r,n,s,a,l]=e;if(!i)throw new Error(`Fail to resolve Pull Request #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=i,this._repositoryDefaultBranch=n,this._panel.title=`Pull Request #${t.number.toString()}`;const u=t.equals(this._folderRepositoryManager.activePullRequest),c=l.hasWritePermission,p=l.mergeMethodsAvailability,b=c||this._item.canEdit(),_=o.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),q=ea(p,_);this._existingReviewers=pa(a,r,i.author);const V=this._folderRepositoryManager.getCurrentUser(this._item),z=i.base&&i.head&&!i.base.repositoryCloneUrl.equals(i.head.repositoryCloneUrl)&&on();$.debug("pr.initialize",lt.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:i.number,title:i.title,url:i.html_url,createdAt:i.createdAt,body:i.body,bodyHTML:i.bodyHTML,labels:i.item.labels,author:{login:i.author.login,name:i.author.name,avatarUrl:i.userAvatar,url:i.author.url},state:i.state,events:r,isCurrentlyCheckedOut:u,base:i.base&&i.base.label||"UNKNOWN",head:i.head&&i.head.label||"UNKNOWN",repositoryDefaultBranch:n,canEdit:b,hasWritePermission:c,status:s||{statuses:[]},mergeable:i.item.mergeable,reviewers:this._existingReviewers,isDraft:i.isDraft,mergeMethodsAvailability:p,defaultMergeMethod:q,isIssue:!1,milestone:i.milestone,assignees:i.assignees,continueOnGitHub:z,isAuthor:V.login===i.author.login}})}).catch(e=>{o.window.showErrorMessage(A(e))})}async update(t,e){return this._folderRepositoryManager!==t&&(this._folderRepositoryManager=t,this._changeActivePullRequestListener&&(this._changeActivePullRequestListener.dispose(),this._changeActivePullRequestListener=void 0,this.registerFolderRepositoryListener())),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updatePullRequest(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"pr.checkout":return this.checkoutPullRequest(t);case"pr.merge":return this.mergePullRequest(t);case"pr.deleteBranch":return this.deleteBranch(t);case"pr.readyForReview":return this.setReadyForReview(t);case"pr.approve":return this.approvePullRequest(t);case"pr.request-changes":return this.requestChanges(t);case"pr.submit":return this.submitReview(t);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(t);case"pr.apply-patch":return this.applyPatch(t);case"pr.open-diff":return this.openDiff(t);case"pr.checkMergeability":return this._replyMessage(t,await this._item.getMergeability());case"pr.add-reviewers":return this.addReviewers(t);case"pr.remove-milestone":return this.removeMilestone(t);case"pr.add-milestone":return this.addMilestone(t);case"pr.add-assignees":return this.addAssignees(t);case"pr.remove-reviewer":return this.removeReviewer(t);case"pr.remove-assignee":return this.removeAssignee(t);case"pr.copy-prlink":return this.copyPrLink();case"pr.openOnGitHub":return Di(this._item,this._item._telemetry)}}async getReviewersQuickPickItems(t){if(!t)return[];const i=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],r=new Set([this._item.author.login,...this._existingReviewers.map(s=>s.reviewer.login)]),n=[];for(const s of t){const{login:a,name:l,isAuthor:u,isCommenter:c}=s;if(r.has(a))continue;const p=u&&c?"Recently edited and reviewed changes to these files":u?"Recently edited these files":c?"Recently reviewed changes to these files":"Suggested reviewer";n.push({label:a,description:l,detail:p,reviewer:s}),r.add(a)}for(const s of i)r.has(s.login)||n.push({label:s.login,description:s.name,reviewer:s});return n}getAssigneesQuickPickItems(t,e){if(!e)return[];const i=new Set([...this._item.assignees.map(n=>n.login)]),r=[];for(const n of e){const{login:s,name:a,isAuthor:l,isCommenter:u}=n;if(i.has(s))continue;const c=l&&u?"Recently edited and reviewed changes to these files":l?"Recently edited these files":u?"Recently reviewed changes to these files":"Suggested reviewer";r.push({label:s,description:a,detail:c,assignee:n}),i.add(s)}for(const n of t)i.has(n.login)||r.push({label:n.login,description:n.name,assignee:n});return r}async addReviewers(t){try{const e=await o.window.showQuickPick(this.getReviewersQuickPickItems(this._item.suggestedReviewers),{canPickMany:!0,matchOnDescription:!0});if(e){await this._item.requestReview(e.map(r=>r.label));const i=e.map(r=>({reviewer:r.reviewer,state:"REQUESTED"}));this._existingReviewers=this._existingReviewers.concat(i),this._replyMessage(t,{added:i})}}catch(e){o.window.showErrorMessage(A(e))}}async addMilestone(t){try{async function e(r){const n=await r.getMilestones();return n.items.length?n.items.map(s=>({label:s.milestone.title,id:s.milestone.id,milestone:s.milestone})):[{label:"No milestones created for this repository."}]}const i=await o.window.showQuickPick(e(this._folderRepositoryManager),{canPickMany:!1});i&&lc(i)&&(await this._item.updateMilestone(i.id),this._replyMessage(t,{added:i.milestone}))}catch(e){o.window.showErrorMessage(A(e))}}async removeMilestone(t){try{await this._item.updateMilestone("null"),this._replyMessage(t,{})}catch(e){o.window.showErrorMessage(A(e))}}async addAssignees(t){try{const i=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],r=await o.window.showQuickPick(this.getAssigneesQuickPickItems(i,[]),{canPickMany:!0,matchOnDescription:!0});if(r){const n=r.map(s=>s.assignee);this._item.assignees=this._item.assignees.concat(n),await this._item.updateAssignees(n.map(s=>s.login)),this._replyMessage(t,{added:n})}}catch(e){o.window.showErrorMessage(A(e))}}async removeReviewer(t){try{await this._item.deleteReviewRequest(t.args);const e=this._existingReviewers.findIndex(i=>i.reviewer.login===t.args);this._existingReviewers.splice(e,1),this._replyMessage(t,{})}catch(e){o.window.showErrorMessage(A(e))}}async removeAssignee(t){try{await this._item.deleteAssignees(t.args);const e=this._item.assignees.findIndex(i=>i.login===t.args);this._item.assignees.splice(e,1),this._replyMessage(t,{})}catch(e){o.window.showErrorMessage(A(e))}}async applyPatch(t){try{const e=t.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(e.body),n=v.join(this._folderRepositoryManager.repository.rootUri.path,".git",`${e.id}.diff`),s=new TextEncoder,a=o.Uri.parse(n);await o.workspace.fs.writeFile(a,s.encode(r[1])),await this._folderRepositoryManager.repository.apply(n,!0),await o.workspace.fs.delete(a)}catch(e){$.appendLine(`Applying patch failed: ${e}`),o.window.showErrorMessage(`Applying patch failed: ${A(e)}`)}}async openDiff(t){try{const e=t.args.comment;return bt.openDiffFromComment(this._folderRepositoryManager,this._item,e)}catch(e){$.appendLine(`Open diff view failed: ${A(e)}`,lt.ID)}}checkoutPullRequest(t){o.commands.executeCommand("pr.pick",this._item).then(()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})},()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})})}mergePullRequest(t){const{title:e,description:i,method:r}=t.args;this._folderRepositoryManager.mergePullRequest(this._item,e,i,r).then(n=>{o.commands.executeCommand("pr.refreshList"),n.merged||o.window.showErrorMessage(`Merging PR failed: ${n.message}`),this._replyMessage(t,{state:n.merged?we.Merged:we.Open})}).catch(n=>{o.window.showErrorMessage(`Unable to merge pull request. ${A(n)}`),this._throwError(t,{})})}async deleteBranch(t){const e=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),i=[];if(this._item.isResolved()){const n=this._item.head.ref;this._repositoryDefaultBranch===this._item.head.ref||i.push({label:`Delete remote branch ${this._item.remote.remoteName}/${n}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(e){const n=o.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");i.push({label:`Delete local branch ${e.branch}`,type:"local",picked:!!n});const s=o.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");e.remote&&e.createdForPullRequest&&!e.remoteInUse&&i.push({label:`Delete remote ${e.remote}, which is no longer used by any other branch`,type:"remote",picked:!!s})}if(o.env.remoteName==="codespaces"&&i.push({label:"Suspend Codespace",type:"suspend"}),!i.length){o.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(t,{cancelled:!0});return}const r=await o.window.showQuickPick(i,{canPickMany:!0,ignoreFocusOut:!0});if(r){const n=this._item.equals(this._folderRepositoryManager.activePullRequest),s=r.map(async a=>{switch(a.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(n){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await o.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await o.commands.executeCommand("git.cleanAll");else return;await this._folderRepositoryManager.repository.checkout(this._repositoryDefaultBranch)}return await this._folderRepositoryManager.repository.deleteBranch(e.branch,!0);case"remote":return this._folderRepositoryManager.repository.removeRemote(e.remote);case"suspend":return o.commands.executeCommand("github.codespaces.disconnectSuspend")}});await Promise.all(s),this.refreshPanel(),o.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch"})}else this._replyMessage(t,{cancelled:!0})}setReadyForReview(t){this._item.setReadyForReview().then(e=>{o.commands.executeCommand("pr.refreshList"),this._replyMessage(t,{isDraft:e})}).catch(e=>{o.window.showErrorMessage(`Unable to set PR ready for review. ${A(e)}`),this._throwError(t,{})})}async checkoutDefaultBranch(t){try{await this._folderRepositoryManager.checkoutDefaultBranch(t.args)}finally{this._replyMessage(t,{})}}updateReviewers(t){if(t){const e=this._existingReviewers.find(i=>t.user.login===i.reviewer.login);e?e.state=t.state:this._existingReviewers.push({reviewer:t.user,state:t.state})}}approvePullRequest(t){this._item.approve(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers}),o.commands.executeCommand("pr.refreshList")},e=>{o.window.showErrorMessage(`Approving pull request failed. ${A(e)}`),this._throwError(t,`${A(e)}`)})}requestChanges(t){this._item.requestChanges(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{o.window.showErrorMessage(`Requesting changes failed. ${A(e)}`),this._throwError(t,`${A(e)}`)})}submitReview(t){this._item.submitReview(pt.Comment,t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{o.window.showErrorMessage(`Submitting review failed. ${A(e)}`),this._throwError(t,`${A(e)}`)})}async copyPrLink(){await o.env.clipboard.writeText(this._item.html_url),o.window.showInformationMessage(`Copied link to PR ${this._item.title}!`)}editCommentPromise(t,e){return this._item.editReviewComment(t,e)}deleteCommentPromise(t){return this._item.deleteReviewComment(t.id.toString())}dispose(){super.dispose(),this._changeActivePullRequestListener&&this._changeActivePullRequestListener.dispose()}};let Ke=lt;Zt(Ke,"ID","PullRequestOverviewPanel"),Zt(Ke,"currentPanel"),Zt(Ke,"_viewType","PullRequestOverview");function ea(t,e){return e&&t.hasOwnProperty(e)&&t[e]?e:["merge","squash","rebase"].find(r=>t[r])}var uc=Object.defineProperty,Ri=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?uc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class cc{constructor(e,i,r){this.pullRequestModel=e,this._folderReposManager=i,this._commentController=r,Ri(this,"_pendingCommentThreadAdds",[]),Ri(this,"_commentHandlerId"),Ri(this,"_commentThreadCache",{}),Ri(this,"_openPREditors",[]),Ri(this,"_disposables",[]),this._commentHandlerId=Js(),ns(this._commentHandlerId,this),this.initializeThreadsInOpenEditors(),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._disposables.push(o.window.onDidChangeVisibleTextEditors(async e=>{this.onDidChangeOpenEditors(e)})),this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const i in this._commentThreadCache)this._commentThreadCache[i].forEach(r=>{na(r,e)})})),this._disposables.push(o.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const i=e.document.uri;if(i.scheme!=="pr")return;const r=Ge(i);!r||r.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}getPREditors(e){return e.filter(i=>{if(i.document.uri.scheme!=="pr")return!1;const r=Ge(i.document.uri);return!(!r||r.prNumber!==this.pullRequestModel.number)})}getCommentThreadCacheKey(e,i){return`${e}-${i?"original":"modified"}`}addThreadsForEditors(e){const i=this.pullRequestModel.reviewThreadsCache,r=W(i,n=>n.path);e.forEach(n=>{const{fileName:s,isBase:a}=Ge(n.document.uri);r[s]&&(this._commentThreadCache[this.getCommentThreadCacheKey(s,a)]=r[s].filter(l=>l.diffSide===ve.LEFT&&a||l.diffSide===ve.RIGHT&&!a).map(l=>{const u=new o.Range(new o.Position(l.line-1,0),new o.Position(l.line-1,0));return Si(n.document.uri,u,l,this._commentController)}))})}initializeThreadsInOpenEditors(){const e=this.getPREditors(o.window.visibleTextEditors);this._openPREditors=e,this.addThreadsForEditors(e)}onDidChangeOpenEditors(e){const i=this.getPREditors(e),r=this._openPREditors.filter(s=>!i.includes(s)),n=i.filter(s=>!this._openPREditors.includes(s));this._openPREditors=i,r.forEach(s=>{const{fileName:a,isBase:l}=Ge(s.document.uri),u=this.getCommentThreadCacheKey(a,l);(this._commentThreadCache[u]||[]).forEach(p=>p.dispose()),delete this._commentThreadCache[u]}),n.length&&this.addThreadsForEditors(n)}onDidChangeReviewThreads(e){e.added.forEach(i=>{const r=i.path,n=this._pendingCommentThreadAdds.findIndex(l=>{const u=this.gitRelativeRootPath(l.uri.path)===i.path,c=l.range.start.line+1===i.line;return u&&c});let s;if(n>-1)s=this._pendingCommentThreadAdds[n],s.threadId=i.id,s.comments=i.comments.map(l=>new Ce(l,s)),this._pendingCommentThreadAdds.splice(n,1);else{const u=this.getPREditors(o.window.visibleTextEditors).find(c=>{const p=Ge(c.document.uri),b=i.diffSide===ve.RIGHT&&!p.isBase||i.diffSide===ve.LEFT&&p.isBase;return p.fileName===r&&b});if(u){const c=new o.Range(new o.Position(i.line-1,0),new o.Position(i.line-1,0));s=Si(u.document.uri,c,i,this._commentController)}}const a=this.getCommentThreadCacheKey(i.path,i.diffSide===ve.LEFT);this._commentThreadCache[a]?this._commentThreadCache[a].push(s):this._commentThreadCache[a]=[s]}),e.changed.forEach(i=>{const r=this.getCommentThreadCacheKey(i.path,i.diffSide===ve.LEFT),n=this._commentThreadCache[r].findIndex(s=>s.threadId===i.id);if(n>-1){const s=this._commentThreadCache[r][n];ra(s,i)}}),e.removed.forEach(async i=>{const r=this.getCommentThreadCacheKey(i.path,i.diffSide===ve.LEFT),n=this._commentThreadCache[r].findIndex(s=>s.threadId===i.id);if(n>-1){const s=this._commentThreadCache[r][n];this._commentThreadCache[r].splice(n,1),s.dispose()}})}hasCommentThread(e){if(e.uri.scheme!=="pr")return!1;const i=Ge(e.uri);return!(!i||i.prNumber!==this.pullRequestModel.number)}getCommentSide(e){return Ge(e.uri).isBase?ve.LEFT:ve.RIGHT}async createOrReplyComment(e,i,r,n){const s=e.comments.length,a=r?!1:n!==void 0?n:this.pullRequestModel.hasPendingReview,l=this.optimisticallyAddComment(e,i,a);try{if(s)await this.reply(e,i,r);else{const u=this.gitRelativeRootPath(e.uri.path),c=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(i,u,e.range.start.line+1,c,r)}r&&await this.pullRequestModel.submitReview()}catch(u){o.window.showErrorMessage(`Creating comment failed: ${u}`),e.comments=e.comments.map(c=>(c instanceof je&&c.id===l&&(c.mode=o.CommentMode.Editing),c))}}reply(e,i,r){const n=e.comments[0];if(n instanceof Ce)return this.pullRequestModel.createCommentReply(i,n._rawComment.graphNodeId,r);throw new Error("Cannot respond to temporary comment")}optimisticallyEditComment(e,i){const r=this._folderReposManager.getCurrentUser(this.pullRequestModel),n=new je(e,i.body instanceof o.MarkdownString?i.body.value:i.body,!!i.label,r,i);return e.comments=e.comments.map(s=>s instanceof Ce&&s.commentId===i.commentId?n:s),n.id}async editComment(e,i){if(i instanceof Ce){const r=this.optimisticallyEditComment(e,i);try{await this.pullRequestModel.editReviewComment(i._rawComment,i.body instanceof o.MarkdownString?i.body.value:i.body)}catch(n){o.window.showErrorMessage(`Editing comment failed ${n}`),e.comments=e.comments.map(s=>s instanceof je&&s.id===r?new Ce(i._rawComment,e):s)}}else this.createOrReplyComment(e,i.body instanceof o.MarkdownString?i.body.value:i.body,!1)}async deleteComment(e,i){i instanceof Ce?await this.pullRequestModel.deleteReviewComment(i.commentId):e.comments=e.comments.filter(r=>!(r instanceof je&&r.id===i.id)),await this.pullRequestModel.validateDraftMode()}gitRelativeRootPath(e){return v.relative(this._folderReposManager.repository.rootUri.path,e).replace(/\\/g,"/")}async startReview(e,i){const r=e.comments.length,n=this.optimisticallyAddComment(e,i,!0);try{if(r)await this.reply(e,i,!1);else{const s=this.gitRelativeRootPath(e.uri.path),a=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(i,s,e.range.start.line+1,a)}this.setContextKey(!0)}catch(s){o.window.showErrorMessage(`Starting a review failed: ${s}`),e.comments=e.comments.map(a=>(a instanceof je&&a.id===n&&(a.mode=o.CommentMode.Editing),a))}}async openReview(){await Ke.createOrShow(this._folderReposManager.context.extensionUri,this._folderReposManager,this.pullRequestModel),Ke.scrollToReview(),this._folderReposManager.telemetry.sendTelemetryEvent("pr.openDescription")}optimisticallyAddComment(e,i,r){const n=this._folderReposManager.getCurrentUser(this.pullRequestModel),s=new je(e,i,r,n);return this.updateCommentThreadComments(e,[...e.comments,s]),s.id}updateCommentThreadComments(e,i){e.comments=i,ti(e)}async createCommentOnResolve(e,i){const r=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,i,!r)}async resolveReviewThread(e,i){try{i&&await this.createCommentOnResolve(e,i),await this.pullRequestModel.resolveReviewThread(e.threadId)}catch(r){o.window.showErrorMessage(`Resolving conversation failed: ${r}`)}}async unresolveReviewThread(e,i){try{i&&await this.createCommentOnResolve(e,i),await this.pullRequestModel.unresolveReviewThread(e.threadId)}catch(r){o.window.showErrorMessage(`Unresolving conversation failed: ${r}`)}}async toggleReaction(e,i){e.parent.uri.scheme==="pr"&&(e.reactions&&!e.reactions.find(r=>r.label===i.label&&!!r.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e._rawComment.graphNodeId,i):await this.pullRequestModel.deleteCommentReaction(e._rawComment.graphNodeId,i))}setContextKey(e){o.commands.executeCommand("setContext","prInDraft",e)}dispose(){Object.keys(this._commentThreadCache).forEach(e=>{this._commentThreadCache[e].forEach(i=>i.dispose())}),ss(this._commentHandlerId),this._disposables.forEach(e=>e.dispose())}}var dc=Object.defineProperty,ta=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?dc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class mc{constructor(e){this.commentsController=e,ta(this,"_prCommentHandlers",{}),ta(this,"_prCommentingRangeProviders",{}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,i){const r=e.uri,n=Ge(r);return!n||!this._prCommentingRangeProviders[n.prNumber]?void 0:this._prCommentingRangeProviders[n.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[n.prNumber])(e,i)}async toggleReaction(e,i){const r=e.parent.uri,n=Ge(r);return!n||!this._prCommentHandlers[n.prNumber]||!this._prCommentHandlers[n.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[n.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[n.prNumber].handler)(e,i)}registerCommentController(e,i,r){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];const n=new cc(i,r,this.commentsController);return this._prCommentHandlers[e]={handler:n,refCount:1,dispose:()=>{!this._prCommentHandlers[e]||(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,i){return this._prCommentingRangeProviders[e]=i,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}var hc=se(9967),pc=se.n(hc),fc=Object.defineProperty,Xe=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?fc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const ia=20,Xt="GraphQL";var Ve;(function(t){t.Unknown="unknown",t.Admin="ADMIN",t.Maintain="MAINTAIN",t.Read="READ",t.Triage="TRIAGE",t.Write="WRITE"})(Ve||(Ve={}));const oe=class{constructor(t,e,i){this.remote=t,this._credentialStore=e,this._telemetry=i,Xe(this,"_initialized",!1),Xe(this,"_hub"),Xe(this,"_metadata"),Xe(this,"_toDispose",[]),Xe(this,"commentsController"),Xe(this,"commentsHandler"),Xe(this,"_pullRequestModels",new Map),Xe(this,"isGitHubDotCom"),Xe(this,"query",async r=>{const n=this.hub&&this.hub.graphql;if(!n)return $.debug(`Not available for query: ${r}`,Xt),{data:null,loading:!1,networkStatus:be.error,stale:!1};$.debug(`Request: ${JSON.stringify(r,null,2)}`,Xt);const s=await n.query(r);return $.debug(`Response: ${JSON.stringify(s,null,2)}`,Xt),s}),Xe(this,"mutate",async r=>{const n=this.hub&&this.hub.graphql;if(!n)return $.debug(`Not available for query: ${r}`,Xt),{data:null,loading:!1,networkStatus:be.error,stale:!1};$.debug(`Request: ${JSON.stringify(r,null,2)}`,Xt);const s=await n.mutate(r);return $.debug(`Response: ${JSON.stringify(s,null,2)}`,Xt),s}),this.isGitHubDotCom=t.host.toLowerCase()==="github.com"}get hub(){if(!this._hub)throw this._initialized?new ir("Not authenticated."):new Error("Call ensure() before accessing this property.");return this._hub}equals(t){return this.remote.equals(t.remote)}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=o.comments.createCommentController(`github-browse-${this.remote.normalizedHost}`,`GitHub Pull Request for ${this.remote.normalizedHost}`),this.commentsHandler=new mc(this.commentsController),this._toDispose.push(this.commentsController),this._toDispose.push(this.commentsController)}catch(t){console.log(t)}}dispose(){this._toDispose.forEach(t=>t.dispose())}get octokit(){return this.hub&&this.hub.octokit}get schema(){return pc()}async getMetadata(){if($.debug("Fetch metadata - enter",oe.ID),this._metadata)return $.debug(`Fetch metadata ${this._metadata.owner.login}/${this._metadata.name} - done`,oe.ID),this._metadata;const{octokit:t,remote:e}=await this.ensure(),i=await t.repos.get({owner:e.owner,repo:e.repositoryName});return $.debug(`Fetch metadata ${e.owner}/${e.repositoryName} - done`,oe.ID),this._metadata={...i.data,currentUser:t.currentUser},this._metadata}async resolveRemote(){try{const{clone_url:t}=await this.getMetadata();this.remote=Ys(this.remote.remoteName,t,this.remote.gitProtocol)}catch(t){$.appendLine(`Unable to resolve remote: ${t}`)}}async ensure(){return this._initialized=!0,this._credentialStore.isAuthenticated()?this._hub=this._credentialStore.getHub():this._hub=await this._credentialStore.showSignInNotification(),this}async getDefaultBranch(){try{$.debug("Fetch default branch - enter",oe.ID);const{octokit:t,remote:e}=await this.ensure(),{data:i}=await t.repos.get({owner:e.owner,repo:e.repositoryName});return $.debug("Fetch default branch - done",oe.ID),i.default_branch}catch(t){$.appendLine(`GitHubRepository> Fetching default branch failed: ${t}`)}return"master"}async getRepoAccessAndMergeMethods(){var t,e,i,r,n;try{$.debug("Fetch repo permissions and available merge methods - enter",oe.ID);const{octokit:s,remote:a}=await this.ensure(),{data:l}=await s.repos.get({owner:a.owner,repo:a.repositoryName});return $.debug("Fetch repo permissions and available merge methods - done",oe.ID),{hasWritePermission:(e=(t=l.permissions)==null?void 0:t.push)!=null?e:!1,mergeMethodsAvailability:{merge:(i=l.allow_merge_commit)!=null?i:!1,squash:(r=l.allow_squash_merge)!=null?r:!1,rebase:(n=l.allow_rebase_merge)!=null?n:!1}}}catch(s){$.appendLine(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${s}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0}}}async getAllPullRequests(t){try{$.debug("Fetch all pull requests - enter",oe.ID);const{octokit:e,remote:i}=await this.ensure(),r=await e.pulls.list({owner:i.owner,repo:i.repositoryName,per_page:ia,page:t||1}),n=!!r.headers.link&&r.headers.link.indexOf('rel="next"')>-1;if(!r.data)return $.appendLine(`Warning: no result data for ${i.owner}/${i.repositoryName} Status: ${r.status}`),{items:[],hasMorePages:!1};const s=r.data.map(a=>a.head.repo?this.createOrUpdatePullRequestModel(Gt(a,this)):($.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(a=>a!==null);return $.debug("Fetch all pull requests - done",oe.ID),{items:s,hasMorePages:n}}catch(e){if($.appendLine(`Fetching all pull requests failed: ${e}`,oe.ID),e.code===404)o.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}async getPullRequestForBranch(t){try{$.debug("Fetch pull requests for branch - enter",oe.ID);const{octokit:e,remote:i}=await this.ensure(),n=(await e.pulls.list({owner:i.owner,repo:i.repositoryName,head:`${i.owner}:${t}`})).data.map(s=>this.createOrUpdatePullRequestModel(Gt(s,this))).filter(s=>s!==null);return $.debug("Fetch pull requests for branch - done",oe.ID),n}catch(e){if($.appendLine(`Fetching pull requests for branch failed: ${e}`,oe.ID),e.code===404)o.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}getRepoForIssue(t,e){if(e.repositoryName&&e.repositoryUrl&&(t.remote.owner!==e.repositoryOwner||t.remote.repositoryName!==e.repositoryName)){const i=new rr(e.repositoryName,e.repositoryUrl,new Et(e.repositoryUrl));t=new oe(i,this._credentialStore,this._telemetry)}return t}async getIssuesForUserByMilestone(t){try{$.debug("Fetch all issues - enter",oe.ID);const{query:e,remote:i,schema:r}=await this.ensure(),{data:n}=await e({query:r.GetMilestones,variables:{owner:i.owner,name:i.repositoryName,assignee:this._credentialStore.getCurrentUser().login}});$.debug("Fetch all issues - done",oe.ID);const s=[];let a=this;return n&&n.repository.milestones&&n.repository.milestones.nodes&&n.repository.milestones.nodes.forEach(l=>{const u=nn(l);if(u){const c=[];l.issues.edges.forEach(p=>{const b=an(p.node,this);a=this.getRepoForIssue(a,b),c.push(new Ae(a,a.remote,b))}),s.push({milestone:u,issues:c})}}),{items:s,hasMorePages:n.repository.milestones.pageInfo.hasNextPage}}catch(e){$.appendLine(`GithubRepository> Unable to fetch issues: ${e}`);return}}async getIssuesWithoutMilestone(t){try{$.debug("Fetch issues without milestone- enter",oe.ID);const{query:e,remote:i,schema:r}=await this.ensure(),{data:n}=await e({query:r.IssuesWithoutMilestone,variables:{owner:i.owner,name:i.repositoryName,assignee:this._credentialStore.getCurrentUser().login}});$.debug("Fetch issues without milestone - done",oe.ID);const s=[];let a=this;return n&&n.repository.issues.edges&&n.repository.issues.edges.forEach(l=>{if(l.node.id){const u=an(l.node,this);a=this.getRepoForIssue(a,u),s.push(new Ae(a,a.remote,u))}}),{items:s,hasMorePages:n.repository.issues.pageInfo.hasNextPage}}catch(e){$.appendLine(`GithubRepository> Unable to fetch issues without milestone: ${e}`);return}}async getIssues(t,e){try{$.debug("Fetch issues with query - enter",oe.ID);const{query:i,schema:r}=await this.ensure(),{data:n}=await i({query:r.Issues,variables:{query:`${e} type:issue`}});$.debug("Fetch issues with query - done",oe.ID);const s=[];let a=this;return n&&n.search.edges&&n.search.edges.forEach(l=>{if(l.node.id){const u=an(l.node,this);a=this.getRepoForIssue(a,u),s.push(new Ae(a,a.remote,u))}}),{items:s,hasMorePages:n.search.pageInfo.hasNextPage}}catch(i){$.appendLine(`GithubRepository> Unable to fetch issues with query: ${i}`);return}}async getMaxIssue(){try{$.debug("Fetch max issue - enter",oe.ID);const{query:t,remote:e,schema:i}=await this.ensure(),{data:r}=await t({query:i.MaxIssue,variables:{owner:e.owner,name:e.repositoryName}});return $.debug("Fetch max issue - done",oe.ID),r&&r.repository.issues.edges.length===1?r.repository.issues.edges[0].node.number:void 0}catch(t){$.appendLine(`GithubRepository> Unable to fetch issues with query: ${t}`);return}}async getViewerPermission(){try{$.debug("Fetch viewer permission - enter",oe.ID);const{query:t,remote:e,schema:i}=await this.ensure(),{data:r}=await t({query:i.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return $.debug("Fetch viewer permission - done",oe.ID),Cc(r)}catch(t){return $.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`),Ve.Unknown}}async fork(){try{$.debug("Fork repository",oe.ID);const{octokit:t,remote:e}=await this.ensure();return(await t.repos.createFork({owner:e.owner,repo:e.repositoryName})).data.clone_url}catch(t){$.appendLine(`GitHubRepository> Forking repository failed: ${t}`);return}}async getRepositoryForkDetails(){try{$.debug("Fetch viewer permission - enter",oe.ID);const{query:t,remote:e,schema:i}=await this.ensure(),{data:r}=await t({query:i.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return $.debug("Fetch viewer permission - done",oe.ID),r.repository}catch(t){$.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`);return}}async getAuthenticatedUser(){const{octokit:t}=await this.ensure();return(await t.users.getAuthenticated({})).data.login}async getPullRequestsForCategory(t,e){try{$.debug(`Fetch pull request category ${t} - enter`,oe.ID);const{octokit:i,remote:r}=await this.ensure(),n=await i.users.getAuthenticated({}),s=await i.repos.get({owner:this.remote.owner,repo:this.remote.repositoryName}),{data:a,headers:l}=await i.search.issuesAndPullRequests({q:Tc(s.data.full_name,n.data.login,t),per_page:ia,page:e||1}),u=[];a.items.forEach(_=>{u.push(new Promise(async(q,V)=>{const U=await i.pulls.get({owner:r.owner,repo:r.repositoryName,pull_number:_.number});q(U)}))});const c=!!l.link&&l.link.indexOf('rel="next"')>-1,b=(await Promise.all(u)).map(_=>_.data.head.repo?this.createOrUpdatePullRequestModel(Gt(_.data,this)):($.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(_=>_!==null);return $.debug(`Fetch pull request category ${t} - done`,oe.ID),{items:b,hasMorePages:c}}catch(i){if($.appendLine(`GitHubRepository> Fetching all pull requests failed: ${i}`),i.code===404)o.window.showWarningMessage(`Fetching pull requests for remote ${this.remote.remoteName}, please check if the url ${this.remote.url} is valid.`);else throw i}}createOrUpdatePullRequestModel(t){let e=this._pullRequestModels.get(t.number);return e?e.update(t):(e=new bt(this._telemetry,this,this.remote,t),this._pullRequestModels.set(t.number,e)),e}async createPullRequest(t){const{octokit:e}=await this.ensure(),{data:i}=await e.pulls.create(t);return this.createOrUpdatePullRequestModel(Gt(i,this))}async getPullRequest(t){try{$.debug(`Fetch pull request ${t} - enter`,oe.ID);const{query:e,remote:i,schema:r}=await this.ensure(),{data:n}=await e({query:r.PullRequest,variables:{owner:i.owner,name:i.repositoryName,number:t}});return $.debug(`Fetch pull request ${t} - done`,oe.ID),this.createOrUpdatePullRequestModel(ua(n,this))}catch(e){$.appendLine(`GithubRepository> Unable to fetch PR: ${e}`);return}}async getIssue(t,e=!1){try{$.debug(`Fetch issue ${t} - enter`,oe.ID);const{query:i,remote:r,schema:n}=await this.ensure(),{data:s}=await i({query:e?n.IssueWithComments:n.Issue,variables:{owner:r.owner,name:r.repositoryName,number:t}});return $.debug(`Fetch issue ${t} - done`,oe.ID),new Ae(this,r,ua(s,this))}catch(i){$.appendLine(`GithubRepository> Unable to fetch PR: ${i}`);return}}async listBranches(t,e){const{octokit:i}=await this.ensure();$.debug(`List branches for ${t}/${e} - enter`,oe.ID);try{const r=await i.paginate("GET /repos/:owner/:repo/branches",{owner:t,repo:e,per_page:100});return $.debug(`List branches for ${t}/${e} - done`,oe.ID),r.map(n=>n.name)}catch(r){throw $.debug(`List branches for ${t}/${e} failed`,oe.ID),r}}async deleteBranch(t){const{octokit:e}=await this.ensure();if(!!t.validatePullRequestModel("Unable to delete branch"))try{await e.git.deleteRef({owner:t.head.repositoryCloneUrl.owner,repo:t.head.repositoryCloneUrl.repositoryName,ref:`heads/${t.head.ref}`})}catch(i){$.appendLine(`GithubRepository> Unable to delete branch: ${i}`);return}}async getMentionableUsers(){$.debug("Fetch mentionable users - enter",oe.ID);const{query:t,remote:e,schema:i}=await this.ensure();let r=null,n=!1;const s=[];do try{const a=await t({query:i.GetMentionableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:r}});s.push(...a.data.repository.mentionableUsers.nodes.map(l=>({login:l.login,avatarUrl:l.avatarUrl,name:l.name,url:l.url,email:l.email}))),n=a.data.repository.mentionableUsers.pageInfo.hasNextPage,r=a.data.repository.mentionableUsers.pageInfo.endCursor}catch(a){return $.debug(`Unable to fetch mentionable users: ${a}`,oe.ID),s}while(n);return s}async getAssignableUsers(){$.debug("Fetch assignable users - enter",oe.ID);const{query:t,remote:e,schema:i}=await this.ensure();let r=null,n=!1;const s=[];do try{const a=await t({query:i.GetAssignableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:r}});s.push(...a.data.repository.assignableUsers.nodes.map(l=>({login:l.login,avatarUrl:l.avatarUrl,name:l.name,url:l.url,email:l.email}))),n=a.data.repository.assignableUsers.pageInfo.hasNextPage,r=a.data.repository.assignableUsers.pageInfo.endCursor}catch(a){return $.debug(`Unable to fetch assignable users: ${a}`,oe.ID),a.graphQLErrors&&a.graphQLErrors.length>0&&a.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&o.window.showWarningMessage(`GitHub user features will not work. ${a.graphQLErrors[0].message}`),s}while(n);return s}async compareCommits(t,e){const{remote:i,octokit:r}=await this.ensure(),{data:n}=await r.repos.compareCommits({repo:i.repositoryName,owner:i.owner,base:t,head:e});return n}isCurrentUser(t){return this._credentialStore.isCurrentUser(t)}};let ei=oe;Xe(ei,"ID","GitHubRepository");function Si(t,e,i,r){const n=r.createCommentThread(t,e,[]);return n.threadId=i.id,n.comments=i.comments.map(s=>new Ce(s,n)),n.isResolved=i.isResolved,i.viewerCanResolve&&!i.isResolved?n.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(n.contextValue="canUnresolve"),ti(n),n.collapsibleState=i.isResolved?o.CommentThreadCollapsibleState.Collapsed:o.CommentThreadCollapsibleState.Expanded,n}function ra(t,e){e.viewerCanResolve&&!e.isResolved?t.contextValue="canResolve":e.viewerCanUnresolve&&e.isResolved&&(t.contextValue="canUnresolve"),t.isResolved!==e.isResolved&&(t.isResolved=e.isResolved,t.collapsibleState=e.isResolved?o.CommentThreadCollapsibleState.Collapsed:o.CommentThreadCollapsibleState.Expanded),t.comments=e.comments.map(i=>new Ce(i,t)),ti(t)}function ti(t){if(t.isResolved){t.label="This thread has been marked as resolved";return}if(t.comments.length){const e=w(t.comments,i=>i.author.name).map(i=>`@${i.author.name}`).join(", ");t.label=`Participants: ${e}`}else t.label="Start discussion"}function gc(t){return ur().map(e=>{if(!t)return{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""};const i=t.find(r=>r.label===e.label);return i?{label:i.label,authorHasReacted:i.viewerHasReacted,count:i.count,iconPath:e.icon||""}:{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""}})}function vc(t,e){t.reactions=gc(e)}function na(t,e){e||(t.comments=t.comments.map(i=>(i instanceof Ce&&(i._rawComment.isDraft=!1),i.label=void 0,i)))}function Dt(t,e){return{login:t.login,url:t.html_url,avatarUrl:e.isGitHubDotCom?t.avatar_url:void 0}}function sa(t){return{label:t.label,ref:t.ref,sha:t.sha,repo:{cloneUrl:t.repo.clone_url}}}function Gt(t,e){const{number:i,body:r,title:n,html_url:s,user:a,state:l,assignees:u,created_at:c,updated_at:p,head:b,base:_,labels:q,node_id:V,id:U,draft:z}=t;return{id:U,graphNodeId:V,number:i,body:r,title:n,url:s,user:Dt(a,e),state:l,merged:t.merged||!1,assignees:u?u.map(Z=>Dt(Z,e)):void 0,createdAt:c,updatedAt:p,head:sa(b),base:sa(_),mergeable:t.mergeable?Ct.Mergeable:Ct.NotMergeable,labels:q.map(Z=>({name:"",color:"",...Z})),isDraft:z,suggestedReviewers:[]}}function wc(t,e){const{number:i,body:r,title:n,html_url:s,user:a,state:l,assignees:u,created_at:c,updated_at:p,labels:b,node_id:_,id:q}=t;return{id:q,graphNodeId:_,number:i,body:r,title:n,url:s,user:Dt(a,e),state:l,assignees:u?u.map(U=>Dt(U,e)):void 0,createdAt:c,updatedAt:p,labels:b.map(U=>typeof U=="string"?{name:U,color:""}:{name:"",color:"",...U}),suggestedReviewers:[]}}function bc(t,e){return{event:Ee.Reviewed,comments:[],submittedAt:t.submitted_at,body:t.body,bodyHTML:t.body,htmlUrl:t.html_url,user:Dt(t.user,e),authorAssociation:t.user.type,state:t.state,id:t.id}}function aa(t){const e=[],i=vi(t.diffHunk);let r=i.next();for(;!r.done;){const n=r.value;e.push(n),r=i.next()}return e}function vf(t,e){const i={url:t.url,id:t.id,pullRequestReviewId:t.pull_request_review_id,diffHunk:t.diff_hunk,path:t.path,position:t.position,commitId:t.commit_id,originalPosition:t.original_position,originalCommitId:t.original_commit_id,user:Dt(t.user,e),body:t.body,createdAt:t.created_at,htmlUrl:t.html_url,inReplyToId:t.in_reply_to_id,graphNodeId:t.node_id},r=aa(i);return i.diffHunks=r,i}function yc(t){switch(t){case"PullRequestCommit":return Ee.Committed;case"LabeledEvent":return Ee.Labeled;case"MilestonedEvent":return Ee.Milestoned;case"AssignedEvent":return Ee.Assigned;case"HeadRefDeletedEvent":return Ee.HeadRefDeleted;case"IssueComment":return Ee.Commented;case"PullRequestReview":return Ee.Reviewed;case"MergedEvent":return Ee.Merged;default:return Ee.Other}}function or(t){return{id:t.id,isResolved:t.isResolved,viewerCanResolve:t.viewerCanResolve,viewerCanUnresolve:t.viewerCanUnresolve,path:t.path,line:t.line,originalLine:t.originalLine,diffSide:t.diffSide,isOutdated:t.isOutdated,comments:t.comments.nodes.map(e=>ii(e,t.isResolved))}}function ii(t,e){const i={id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,path:t.path,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,pullRequestReviewId:t.pullRequestReview&&t.pullRequestReview.databaseId,diffHunk:t.diffHunk,position:t.position,commitId:t.commit.oid,originalPosition:t.originalPosition,originalCommitId:t.originalCommit&&t.originalCommit.oid,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,isDraft:t.state==="PENDING",inReplyToId:t.replyTo&&t.replyTo.databaseId,reactions:la(t.reactionGroups),isResolved:e},r=aa(i);return i.diffHunks=r,i}function oa(t){return{id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,diffHunk:""}}function la(t){const e=ur().reduce((r,n)=>(r[n.title]=n,r),{});return t.filter(r=>r.users.totalCount>0).map(r=>({label:e[r.content].label,count:r.users.totalCount,icon:e[r.content].icon,viewerHasReacted:r.viewerHasReacted}))}function lr(t){if(t)return{label:`${t.repository.owner.login}:${t.name}`,ref:t.name,sha:t.target.oid,repo:{cloneUrl:t.repository.url}}}function wt(t,e){return t?{login:t.login,url:t.url,avatarUrl:e.isGitHubDotCom?t.avatarUrl:void 0}:{login:"",url:""}}function nn(t){if(!!t)return{title:t.title,dueOn:t.dueOn,createdAt:t.createdAt,id:t.id}}function sn(t){switch(t){case"UNKNOWN":return Ct.Unknown;case"MERGEABLE":return Ct.Mergeable;case"CONFLICTING":return Ct.NotMergeable}}function ua(t,e){var i,r;const n=t.repository.pullRequest;return{id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:n.bodyHTML,title:n.title,createdAt:n.createdAt,updatedAt:n.updatedAt,head:lr(n.headRef),base:lr(n.baseRef),user:wt(n.author,e),merged:n.merged,mergeable:sn(n.mergeable),labels:n.labels.nodes,isDraft:n.isDraft,suggestedReviewers:ca(n.suggestedReviewers),comments:kc((i=n.comments)==null?void 0:i.nodes,e),milestone:nn(n.milestone),assignees:(r=n.assignees)==null?void 0:r.nodes}}function kc(t,e){if(!t)return;const i=[];for(const r of t)i.push({author:wt(r.author,e),body:r.body,databaseId:r.databaseId});return i}function an(t,e){var i,r,n;return{id:t.databaseId,graphNodeId:t.id,url:t.url,number:t.number,state:t.state,body:t.body,bodyHTML:t.bodyHTML,title:t.title,createdAt:t.createdAt,updatedAt:t.updatedAt,assignees:t.assignees.nodes,user:wt(t.author,e),labels:t.labels.nodes,repositoryName:(i=t.repository)==null?void 0:i.name,repositoryOwner:(r=t.repository)==null?void 0:r.owner.login,repositoryUrl:(n=t.repository)==null?void 0:n.url}}function wf(t,e){const i=t;return{id:i.databaseId,graphNodeId:i.id,url:i.url,number:i.number,state:i.state,body:i.body,bodyHTML:i.bodyHTML,title:i.title,createdAt:i.createdAt,updatedAt:i.updatedAt,head:lr(i.headRef),base:lr(i.baseRef),user:wt(i.author,e),merged:i.merged,mergeable:sn(i.mergeable),labels:i.labels.nodes,isDraft:i.isDraft,suggestedReviewers:ca(i.suggestedReviewers),milestone:nn(i.milestone)}}function ca(t){return t?t.map(i=>({login:i.reviewer.login,avatarUrl:i.reviewer.avatarUrl,name:i.reviewer.name,url:i.reviewer.url,isAuthor:i.isAuthor,isCommenter:i.isCommenter})).sort(da):[]}function da(t,e){return t.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function _c(t,e){return{event:Ee.Reviewed,comments:t.comments.nodes.map(i=>ii(i,!1)).filter(i=>!i.inReplyToId),submittedAt:t.submittedAt,body:t.body,bodyHTML:t.bodyHTML,htmlUrl:t.url,user:wt(t.author,e),authorAssociation:t.authorAssociation,state:t.state,id:t.databaseId}}function ma(t,e){const i=[];return t.forEach(r=>{const n=yc(r.__typename);switch(n){case Ee.Commented:const s=r;i.push({htmlUrl:s.url,body:s.body,bodyHTML:s.bodyHTML,user:wt(s.author,e),event:n,canEdit:s.viewerCanUpdate,canDelete:s.viewerCanDelete,id:s.databaseId,graphNodeId:s.id,createdAt:s.createdAt});return;case Ee.Reviewed:const a=r;i.push({event:n,comments:[],submittedAt:a.submittedAt,body:a.body,bodyHTML:a.bodyHTML,htmlUrl:a.url,user:wt(a.author,e),authorAssociation:a.authorAssociation,state:a.state,id:a.databaseId});return;case Ee.Committed:const l=r;i.push({id:l.databaseId,event:n,sha:l.commit.oid,author:l.commit.author.user?wt(l.commit.author.user,e):{login:l.commit.committer.name},htmlUrl:l.url,message:l.commit.message,authoredDate:new Date(l.commit.authoredDate)});return;case Ee.Merged:const u=r;i.push({id:u.databaseId,event:n,user:wt(u.actor,e),createdAt:u.createdAt,mergeRef:u.mergeRef.name,sha:u.commit.oid,commitUrl:u.commit.commitUrl,url:u.url,graphNodeId:u.id});return;case Ee.Assigned:const c=r;i.push({id:c.databaseId,event:n,user:c.user,actor:c.actor});return;case Ee.HeadRefDeleted:const p=r;i.push({id:p.id,event:n,actor:p.actor,createdAt:p.createdAt,headRef:p.headRefName});return;default:break}}),i}function Rc(t){return{login:t.user.login,name:t.user.name,avatarUrl:t.user.avatarUrl,url:t.user.url,bio:t.user.bio,company:t.user.company,location:t.user.location,commitContributions:Sc(t.user.contributionsCollection)}}function Sc(t){const e=[];return t.commitContributionsByRepository.forEach(i=>{i.contributions.nodes.forEach(r=>{e.push({createdAt:new Date(r.occurredAt),repoNameWithOwner:i.repository.nameWithOwner})})}),e}function ur(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:at.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:at.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:at.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:at.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:at.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:at.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:at.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:at.icons.reactions.EYES}]}function Ec(t){const e=[];return t.forEach(i=>{var r,n;Ml(i)&&e.push({login:i.author.login,name:i.author.name||""}),Mr(i)&&e.push({login:i.user.login,name:(r=i.user.name)!=null?r:i.user.login}),xl(i)&&e.push({login:i.user.login,name:(n=i.user.name)!=null?n:i.user.login})}),e}function Cc(t){return t&&t.repository.viewerPermission&&Object.values(Ve).includes(t.repository.viewerPermission)?t.repository.viewerPermission:Ve.Unknown}function ha(t,e){for(const i of t.repositories)if(e.path.toLowerCase()===i.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(i.rootUri.path.toLowerCase())&&e.path.substring(i.rootUri.path.length).startsWith("/"))return i}function pa(t,e,i){const r=e.filter(Mr).filter(a=>a.state!=="PENDING");let n=[];const s=new Map;s.set(i.login,!0);for(let a=r.length-1;a>=0;a--){const l=r[a].user;s.get(l.login)||(s.set(l.login,!0),n.push({reviewer:l,state:r[a].state}))}return t.forEach(a=>{if(!s.get(a.login))n.push({reviewer:a,state:"REQUESTED"});else{const l=n.find(u=>u.reviewer.login===a.login);l.state="REQUESTED"}}),n=n.sort((a,l)=>a.state==="REQUESTED"&&l.state!=="REQUESTED"?1:l.state==="REQUESTED"&&a.state!=="REQUESTED"||a.reviewer.login.toLowerCase()<l.reviewer.login.toLowerCase()?-1:1),n}function Tc(t,e,i){return`is:pull-request ${i.replace(/\$\{user\}/g,e)} type:pr repo:${t}`}function on(){return o.env.remoteName==="codespaces"&&o.env.uiKind===o.UIKind.Web}var Nc=Object.defineProperty,xe=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Nc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const cr=class{constructor(t,e,i,r=!1){xe(this,"id"),xe(this,"graphNodeId"),xe(this,"number"),xe(this,"title"),xe(this,"html_url"),xe(this,"state",we.Open),xe(this,"author"),xe(this,"assignees"),xe(this,"createdAt"),xe(this,"updatedAt"),xe(this,"milestone"),xe(this,"githubRepository"),xe(this,"remote"),xe(this,"item"),xe(this,"bodyHTML"),this.githubRepository=t,this.remote=e,this.item=i,r||this.update(i)}get isOpen(){return this.state===we.Open}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const t=this.userAvatar;if(t){const e=o.Uri.parse(`${t}&s=${64}`),i=e.toString;return e.toString=function(r){return i.call(e,!0)},e}}}get body(){return this.item?this.item.body:""}updateState(t){t.toLowerCase()==="open"?this.state=we.Open:this.state=we.Closed}update(t){this.id=t.id,this.graphNodeId=t.graphNodeId,this.number=t.number,this.title=t.title,this.bodyHTML=t.bodyHTML,this.html_url=t.url,this.author=t.user,this.milestone=t.milestone,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.updateState(t.state),t.assignees&&(this.assignees=t.assignees),this.item=t}equals(t){return!(!t||this.number!==t.number||this.html_url!==t.html_url)}async edit(t){try{const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:r}=await e({mutation:i.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:t.body,title:t.title}}});return r.updatePullRequest.pullRequest}catch(e){throw new Error(A(e))}}canEdit(){const t=this.author&&this.author.login;return this.githubRepository.isCurrentUser(t)}async getIssueComments(){$.debug(`Fetch issue comments of PR #${this.number} - enter`,cr.ID);const{octokit:t,remote:e}=await this.githubRepository.ensure(),i=await t.issues.listComments({owner:e.owner,repo:e.repositoryName,issue_number:this.number,per_page:100});return $.debug(`Fetch issue comments of PR #${this.number} - done`,cr.ID),i.data}async createIssueComment(t){const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:r}=await e({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:t}}});return oa(r.addComment.commentEdge.node)}async editIssueComment(t,e){try{const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:n}=await i({mutation:r.EditIssueComment,variables:{input:{id:t.graphNodeId,body:e}}});return oa(n.updateIssueComment.issueComment)}catch(i){throw new Error(A(i))}}async deleteIssueComment(t){try{const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.issues.deleteComment({owner:i.owner,repo:i.repositoryName,comment_id:Number(t)})}catch(e){throw new Error(A(e))}}async addLabels(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.issues.addLabels({owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:t})}async removeLabel(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.issues.removeLabel({owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:t})}async getIssueTimelineEvents(){$.debug(`Fetch timeline events of issue #${this.number} - enter`,cr.ID);const t=this.githubRepository,{query:e,remote:i,schema:r}=await t.ensure();try{const{data:n}=await e({query:r.IssueTimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}}),s=n.repository.pullRequest.timelineItems.nodes;return ma(s,t)}catch(n){return console.log(n),[]}}};let Ae=cr;xe(Ae,"ID","IssueModel");var Pc=Object.defineProperty,Te=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Pc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const et=class extends Ae{constructor(t,e,i,r,n){super(e,i,r,!0);Te(this,"isDraft"),Te(this,"localBranchName"),Te(this,"mergeBase"),Te(this,"suggestedReviewers"),Te(this,"_hasPendingReview",!1),Te(this,"_onDidChangePendingReviewState",new o.EventEmitter),Te(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),Te(this,"_reviewThreadsCache",[]),Te(this,"_reviewThreadsCacheInitialized",!1),Te(this,"_onDidChangeReviewThreads",new o.EventEmitter),Te(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),Te(this,"fileChangeViewedState",{}),Te(this,"_onDidChangeFileViewedState",new o.EventEmitter),Te(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),Te(this,"isActive"),Te(this,"_telemetry"),Te(this,"head"),Te(this,"base"),this._telemetry=t,this.isActive=!!n,this.update(r)}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){if(this._reviewThreadsCacheInitialized)return this._reviewThreadsCache;throw new Error("Cache has not been initialized yet")}get isMerged(){return this.state===we.Merged}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(t){this._hasPendingReview!==t&&(this._hasPendingReview=t,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}updateState(t){t.toLowerCase()==="open"?this.state=we.Open:this.state=this.item.merged?we.Merged:we.Closed}update(t){super.update(t),this.isDraft=t.isDraft,this.suggestedReviewers=t.suggestedReviewers,t.head&&(this.head=new gs(t.head.ref,t.head.label,t.head.sha,t.head.repo.cloneUrl)),t.base&&(this.base=new gs(t.base.ref,t.base.label,t.base.sha,t.base.repo.cloneUrl))}isResolved(){return!!this.head}validatePullRequestModel(t){if(this.head)return!0;const e=`There is no upstream branch for Pull Request #${this.number}. View it on GitHub for more details`;return t?t+=`: ${e}`:t=e,o.window.showWarningMessage(t,"Open on GitHub").then(i=>{i&&i==="Open on GitHub"&&o.commands.executeCommand("vscode.open",o.Uri.parse(this.html_url))}),!1}async approve(t){return(await this.getPendingReviewId()?this.submitReview(pt.Approve,t):this.createReview(pt.Approve,t)).then(i=>(this._telemetry.sendTelemetryEvent("pr.approve"),i))}async requestChanges(t){return(await this.getPendingReviewId()?this.submitReview(pt.RequestChanges,t):this.createReview(pt.RequestChanges,t)).then(i=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),i))}async close(){const{octokit:t,remote:e}=await this.githubRepository.ensure(),i=await t.pulls.update({owner:e.owner,repo:e.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),Gt(i.data,this.githubRepository)}async createReview(t,e){const{octokit:i,remote:r}=await this.githubRepository.ensure(),{data:n}=await i.pulls.createReview({owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:t,body:e});return bc(n,this.githubRepository)}async submitReview(t,e){const i=await this.getPendingReviewId(),{mutate:r,schema:n}=await this.githubRepository.ensure();if(i){const{data:s}=await r({mutation:n.SubmitReview,variables:{id:i,event:t||pt.Comment,body:e}});return this.hasPendingReview=!1,await this.updateDraftModeContext(),_c(s.submitPullRequestReview.pullRequestReview,this.githubRepository)}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(t){const{mutate:e,schema:i}=await this.githubRepository.ensure(),r=t==="null"?null:t;try{await e({mutation:i.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:r}}})}catch(n){$.appendLine(n)}}async updateAssignees(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.issues.addAssignees({owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:t})}async getPendingReviewId(){const{query:t,schema:e}=await this.githubRepository.ensure(),i=await this.githubRepository.getAuthenticatedUser();try{const{data:r}=await t({query:e.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return r.node.reviews.nodes[0].id}catch(r){return}}async deleteReview(){const t=await this.getPendingReviewId(),{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:r}=await e({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:t}}}),{comments:n,databaseId:s}=r.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:s,deletedReviewComments:n.nodes.map(a=>ii(a,!1))}}async startReview(t){var e;const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:n}=await i({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:t||((e=this.head)==null?void 0:e.sha)}}});if(!n)throw new Error("Failed to start review");return n.addPullRequestReview.pullRequestReview.id}async createReviewThread(t,e,i,r,n){if(!this.validatePullRequestModel("Creating comment failed"))return;const s=await this.getPendingReviewId(),{mutate:a,schema:l}=await this.githubRepository.ensure(),{data:u}=await a({mutation:l.AddReviewThread,variables:{input:{path:e,body:t,pullRequestId:this.graphNodeId,pullRequestReviewId:s,line:i,side:r}}});n||(this.hasPendingReview=!0,await this.updateDraftModeContext());const c=u.addPullRequestReviewThread.thread,p=or(c);return this._reviewThreadsCache.push(p),this._onDidChangeReviewThreads.fire({added:[p],changed:[],removed:[]}),p}async createCommentReply(t,e,i,r){var n;if(!this.validatePullRequestModel("Creating comment failed"))return;let s=await this.getPendingReviewId();s||(s=await this.startReview(r));const{mutate:a,schema:l}=await this.githubRepository.ensure(),{data:u}=await a({mutation:l.AddComment,variables:{input:{pullRequestReviewId:s,body:t,inReplyTo:e,commitOID:r||((n=this.head)==null?void 0:n.sha)}}}),{comment:c}=u.addPullRequestReviewComment,p=ii(c,!1);i&&(p.isDraft=!1);const b=this._reviewThreadsCache.find(_=>_.comments.some(q=>q.graphNodeId===e));return b&&(b.comments.push(p),this._onDidChangeReviewThreads.fire({added:[],changed:[b],removed:[]})),p}async validateDraftMode(){const t=!!await this.getPendingReviewId();return t!==this.hasPendingReview&&(this.hasPendingReview=t),await this.updateDraftModeContext(),t}async updateDraftModeContext(){this.isActive&&await o.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(t,e){const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:n}=await i({mutation:r.EditComment,variables:{input:{pullRequestReviewCommentId:t.graphNodeId,body:e}}}),s=ii(n.updatePullRequestReviewComment.pullRequestReviewComment,!!t.isResolved),a=this._reviewThreadsCache.find(l=>l.comments.some(u=>u.graphNodeId===t.graphNodeId));if(a){const l=a.comments.findIndex(u=>u.graphNodeId===t.graphNodeId);a.comments.splice(l,1,s),this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]})}return s}async deleteReviewComment(t){try{const{octokit:e,remote:i}=await this.githubRepository.ensure(),r=Number(t);await e.pulls.deleteReviewComment({owner:i.owner,repo:i.repositoryName,comment_id:r});const n=this._reviewThreadsCache.findIndex(s=>s.comments.some(a=>a.id===r));if(n>-1){const s=this._reviewThreadsCache[n],a=s.comments.findIndex(l=>l.id===r);s.comments.splice(a,1),s.comments.length===0?(this._reviewThreadsCache.splice(n,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[s]})):this._onDidChangeReviewThreads.fire({added:[],changed:[s],removed:[]})}}catch(e){throw new Error(A(e))}}async getReviewRequests(){const t=this.githubRepository,{remote:e,octokit:i}=await t.ensure();return(await i.pulls.listRequestedReviewers({owner:e.owner,repo:e.repositoryName,pull_number:this.number})).data.users.map(n=>Dt(n,t))}async requestReview(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.pulls.requestReviewers({owner:i.owner,repo:i.repositoryName,pull_number:this.number,reviewers:t})}async deleteReviewRequest(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.pulls.removeRequestedReviewers({owner:i.owner,repo:i.repositoryName,pull_number:this.number,reviewers:[t]})}async deleteAssignees(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.issues.removeAssignees({owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:[t]})}diffThreads(t){const e=[],i=[],r=[];t.forEach(n=>{const s=this._reviewThreadsCache.find(a=>a.id===n.id);s?_l()(n,s)||i.push(n):e.push(n)}),this._reviewThreadsCache.forEach(n=>{t.find(s=>s.id===n.id)||r.push(n)}),this._onDidChangeReviewThreads.fire({added:e,changed:i,removed:r})}async getReviewThreads(){const{remote:t,query:e,schema:i}=await this.githubRepository.ensure();try{const{data:r}=await e({query:i.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}}),n=r.repository.pullRequest.reviewThreads.nodes.map(s=>or(s));return this.diffThreads(n),this._reviewThreadsCache=n,n}catch(r){return $.appendLine(`Failed to get pull request review comments: ${r}`),[]}}async getReviewComments(){const{remote:t,query:e,schema:i}=await this.githubRepository.ensure();try{const{data:r}=await e({query:i.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});return r.repository.pullRequest.reviewThreads.nodes.map(s=>s.comments.nodes.map(a=>ii(a,s.isResolved),t)).reduce((s,a)=>s.concat(a),[]).sort((s,a)=>s.createdAt>a.createdAt?1:-1)}catch(r){return $.appendLine(`Failed to get pull request review comments: ${r}`),[]}}async getCommits(){try{$.debug(`Fetch commits of PR #${this.number} - enter`,et.ID);const{remote:t,octokit:e}=await this.githubRepository.ensure(),i=await e.pulls.listCommits({pull_number:this.number,owner:t.owner,repo:t.repositoryName});return $.debug(`Fetch commits of PR #${this.number} - done`,et.ID),i.data}catch(t){return o.window.showErrorMessage(`Fetching commits failed: ${A(t)}`),[]}}async getCommitChangedFiles(t){try{$.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - enter`,et.ID);const{octokit:e,remote:i}=await this.githubRepository.ensure(),r=await e.repos.getCommit({owner:i.owner,repo:i.repositoryName,ref:t.sha});return $.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - done`,et.ID),r.data.files.filter(n=>!!n.patch)}catch(e){return o.window.showErrorMessage(`Fetching commit file changes failed: ${A(e)}`),[]}}async getFile(t,e){var i;const{octokit:r,remote:n}=await this.githubRepository.ensure(),s=await r.repos.getContent({owner:n.owner,repo:n.repositoryName,path:t,ref:e});if(Array.isArray(s.data))throw new Error(`Unexpected array response when getting file ${t}`);const a=(i=s.data.content)!=null?i:"";return Buffer.from(a,s.data.encoding).toString()}async getTimelineEvents(){$.debug(`Fetch timeline events of PR #${this.number} - enter`,et.ID);const{query:t,remote:e,schema:i}=await this.githubRepository.ensure();try{const{data:r}=await t({query:i.TimelineEvents,variables:{owner:e.owner,name:e.repositoryName,number:this.number}}),n=r.repository.pullRequest.timelineItems.nodes,s=ma(n,this.githubRepository);return await this.addReviewTimelineEventComments(s),s}catch(r){return console.log(r),[]}}async addReviewTimelineEventComments(t){const e=t.filter(Mr),r=(await this.getReviewThreads()).reduce((c,p)=>c.concat(p.comments),[]),n=e.reduce((c,p)=>(c[p.id]=p,p.comments=[],c),{}),s=r.reduce((c,p)=>(c[p.id]=p,c),{}),a=[];let l=r.length;for(;l-- >0;){const c=r[l];if(!c.inReplyToId){a.unshift(c);continue}const p=s[c.inReplyToId];p.childComments=p.childComments||[],p.childComments=[c,...c.childComments||[],...p.childComments]}a.forEach(c=>{const p=n[c.pullRequestReviewId];p&&(p.comments=p.comments.concat(c).concat(c.childComments||[]))});const u=e.filter(c=>c.state.toLowerCase()==="pending")[0];u&&(u.comments=r.filter(c=>c.isDraft))}async getStatusChecks(){const{query:t,remote:e,schema:i}=await this.githubRepository.ensure(),n=(await t({query:i.GetChecks,variables:{owner:e.owner,name:e.repositoryName,number:this.number}})).data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup;return n?{state:n.state.toLowerCase(),statuses:n.contexts.nodes.map(s=>{var a,l,u,c;return Ol(s)?{id:s.id,url:(a=s.checkSuite.app)==null?void 0:a.url,avatar_url:(l=s.checkSuite.app)==null?void 0:l.logoUrl,state:((u=s.conclusion)==null?void 0:u.toLowerCase())||"pending",description:s.title,context:s.name,target_url:s.detailsUrl}:{id:s.id,url:s.targetUrl,avatar_url:s.avatarUrl,state:(c=s.state)==null?void 0:c.toLowerCase(),description:s.description,context:s.context,target_url:s.targetUrl}})}:{state:"pending",statuses:[]}}static async openDiffFromComment(t,e,i){const r=await e.getFileChangesInfo(),n=e.mergeBase||e.base.sha,a=(await Ar(r,t.repository,n)).find(p=>p.fileName===i.path||p.previousFileName===i.path);if(!a)throw new Error("Can't find matching file");let l,u;if(e.equals(t.activePullRequest)){const p=o.Uri.file(v.resolve(t.repository.rootUri.fsPath,a.fileName));l=a.status===ne.DELETE?st(p,void 0,void 0,"",!1,{base:!1},t.repository.rootUri):p,u=st(p,a.status===ne.RENAME?a.previousFileName:a.fileName,void 0,a.status===ne.ADD?"":n,!1,{base:!0},t.repository.rootUri)}else{const p=e.head.sha,b=a.status===ne.RENAME?a.previousFileName:a.fileName;l=zt(o.Uri.file(v.resolve(t.repository.rootUri.fsPath,a.fileName)),e,a.baseCommit,p,a.fileName,!1,a.status),u=zt(o.Uri.file(v.resolve(t.repository.rootUri.fsPath,b)),e,a.baseCommit,p,a.fileName,!0,a.status)}const c=i.path.split("/");o.commands.executeCommand("vscode.diff",u,l,`${c[c.length-1]} (Pull Request)`,{})}async getFileChangesInfo(){$.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,et.ID);const t=this.githubRepository,{octokit:e,remote:i}=await t.ensure();if(!this.base){const a=await e.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:this.number});this.update(Gt(a.data,t))}if(this.item.merged){const a=await e.pulls.listFiles({repo:i.repositoryName,owner:i.owner,pull_number:this.number});return this.mergeBase=this.base.sha,a.data}const{data:r}=await e.repos.compareCommits({repo:i.repositoryName,owner:i.owner,base:`${this.base.repositoryCloneUrl.owner}:${this.base.ref}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.ref}`});this.mergeBase=r.merge_base_commit.sha;const n=300;let s=[];return r.files.length>=n?($.debug(`More than ${n} files changed, fetching all file changes of PR #${this.number}`,et.ID),s=await e.paginate("GET /repos/:owner/:repo/pulls/:pull_number/files",{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:i.repositoryName,per_page:100})):s=r.files,$.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${s.length} `,et.ID),s}async getMergeability(){try{$.debug(`Fetch pull request mergeability ${this.number} - enter`,et.ID);const{query:t,remote:e,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({query:i.PullRequestMergeability,variables:{owner:e.owner,name:e.repositoryName,number:this.number}});return $.debug(`Fetch pull request mergeability ${this.number} - done`,et.ID),sn(r.repository.pullRequest.mergeable)}catch(t){return $.appendLine(`PullRequestModel> Unable to fetch PR Mergeability: ${t}`),Ct.Unknown}}async setReadyForReview(){try{const{mutate:t,schema:e}=await this.githubRepository.ensure(),{data:i}=await t({mutation:e.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});return this._telemetry.sendTelemetryEvent("pr.readyForReview.success"),i.markPullRequestReadyForReview.pullRequest.isDraft}catch(t){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),t}}updateCommentReactions(t,e){const i=this._reviewThreadsCache.find(r=>r.comments.some(n=>n.graphNodeId===t));if(i){const r=i.comments.find(n=>n.graphNodeId===t);r.reactions=la(e),this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]})}}async addCommentReaction(t,e){const i=ur().reduce((l,u)=>(l[u.label]=u.title,l),{}),{mutate:r,schema:n}=await this.githubRepository.ensure(),{data:s}=await r({mutation:n.AddReaction,variables:{input:{subjectId:t,content:i[e.label]}}}),a=s.addReaction.subject.reactionGroups;return this.updateCommentReactions(t,a),s}async deleteCommentReaction(t,e){const i=ur().reduce((l,u)=>(l[u.label]=u.title,l),{}),{mutate:r,schema:n}=await this.githubRepository.ensure(),{data:s}=await r({mutation:n.DeleteReaction,variables:{input:{subjectId:t,content:i[e.label]}}}),a=s.removeReaction.subject.reactionGroups;return this.updateCommentReactions(t,a),s}async resolveReviewThread(t){const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:r}=await e({mutation:i.ResolveReviewThread,variables:{input:{threadId:t}}}),n=this._reviewThreadsCache.findIndex(s=>s.id===t);if(n>-1){const s=or(r.resolveReviewThread.thread);this._reviewThreadsCache.splice(n,1,s),this._onDidChangeReviewThreads.fire({added:[],changed:[s],removed:[]})}}async unresolveReviewThread(t){const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:r}=await e({mutation:i.UnresolveReviewThread,variables:{input:{threadId:t}}}),n=this._reviewThreadsCache.findIndex(s=>s.id===t);if(n>-1){const s=or(r.unresolveReviewThread.thread);this._reviewThreadsCache.splice(n,1,s),this._onDidChangeReviewThreads.fire({added:[],changed:[s],removed:[]})}}async getPullRequestFileViewState(){const{query:t,schema:e,remote:i}=await this.githubRepository.ensure(),r=[];let n=null,s=!1;do{const{data:a}=await t({query:e.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:n}});a.repository.pullRequest.files.nodes.forEach(l=>{this.fileChangeViewedState[l.path]!==l.viewerViewedState&&r.push({fileName:l.path,viewed:l.viewerViewedState}),this.fileChangeViewedState[l.path]=l.viewerViewedState}),s=a.repository.pullRequest.files.pageInfo.hasNextPage,n=a.repository.pullRequest.files.pageInfo.endCursor}while(s);return r.length&&this._onDidChangeFileViewedState.fire({changed:r}),this.fileChangeViewedState}async markFileAsViewed(t){const{mutate:e,schema:i}=await this.githubRepository.ensure();await e({mutation:i.MarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=He.VIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:He.VIEWED}]})}async unmarkFileAsViewed(t){const{mutate:e,schema:i}=await this.githubRepository.ensure();await e({mutation:i.UnmarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=He.UNVIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:He.UNVIEWED}]})}};let bt=et;Te(bt,"ID","PullRequestModel");var Fc=Object.defineProperty,fa=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Fc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Dc extends Xs{constructor(e,i,r){super();this._extensionUri=e,this._folderRepositoryManager=i,this._item=r,fa(this,"viewType","github:activePullRequest"),fa(this,"_existingReviewers",[]),this._disposables.push(this._folderRepositoryManager.onDidMergePullRequest(n=>{this._postMessage({command:"update-state",state:we.Merged})}))}resolveWebviewView(e,i,r){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":o.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequest(e);case"pr.request-changes":return this.requestChanges(e);case"pr.submit":return this.submitReview(e);case"pr.openOnGitHub":return Di(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e)}}async checkoutDefaultBranch(e){try{const i=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.checkoutDefaultBranch(i)}finally{this._replyMessage(e,{})}}async refresh(){await this.updatePullRequest(this._item)}async updatePullRequest(e){return Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests()]).then(i=>{var r,n,s,a;const[l,u,c,p]=i;if(!l)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(!this._view)return;this._item=l,this._view.title=`${l.title} #${e.number.toString()}`;const b=e.equals(this._folderRepositoryManager.activePullRequest),_=u.hasWritePermission,q=u.mergeMethodsAvailability,V=_||this._item.canEdit(),U=o.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),z=ea(q,U),K=this._folderRepositoryManager.getCurrentUser(this._item);this._existingReviewers=pa(p!=null?p:[],c!=null?c:[],l.author);const ie=l.base&&l.head&&!l.base.repositoryCloneUrl.equals(l.head.repositoryCloneUrl)&&on();this._postMessage({command:"pr.initialize",pullrequest:{number:l.number,title:l.title,url:l.html_url,createdAt:l.createdAt,body:l.body,bodyHTML:l.bodyHTML,labels:l.item.labels,author:{login:l.author.login,name:l.author.name,avatarUrl:l.userAvatar,url:l.author.url},state:l.state,isCurrentlyCheckedOut:b,base:(n=(r=l.base)==null?void 0:r.label)!=null?n:"UNKNOWN",head:(a=(s=l.head)==null?void 0:s.label)!=null?a:"UNKNOWN",canEdit:V,hasWritePermission:_,mergeable:l.item.mergeable,isDraft:l.isDraft,status:{statuses:[]},events:[],mergeMethodsAvailability:q,defaultMergeMethod:z,isIssue:!1,isAuthor:K.login===l.author.login,reviewers:this._existingReviewers,continueOnGitHub:ie}})}).catch(i=>{o.window.showErrorMessage(A(i))})}close(e){o.commands.executeCommand("pr.close",this._item,e.args).then(i=>{i&&this._replyMessage(e,{value:i})})}createComment(e){this._item.createIssueComment(e.args).then(i=>{this._replyMessage(e,{value:i})})}updateReviewers(e){if(e){const i=this._existingReviewers.find(r=>e.user.login===r.reviewer.login);i?i.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}approvePullRequest(e){this._item.approve(e.args).then(i=>{this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers}),o.commands.executeCommand("pr.refreshList")},i=>{o.window.showErrorMessage(`Approving pull request failed. ${A(i)}`),this._throwError(e,`${A(i)}`)})}requestChanges(e){this._item.requestChanges(e.args).then(i=>{this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers})},i=>{o.window.showErrorMessage(`Requesting changes failed. ${A(i)}`),this._throwError(e,`${A(i)}`)})}submitReview(e){this._item.submitReview(pt.Comment,e.args).then(i=>{this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers})},i=>{o.window.showErrorMessage(`Submitting review failed. ${A(i)}`),this._throwError(e,`${A(i)}`)})}async deleteBranch(e){const i=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),r=[];if(this._item.isResolved()){const s=this._item.head.ref;await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item)===this._item.head.ref||r.push({label:`Delete remote branch ${this._item.remote.remoteName}/${s}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(i){const s=o.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");r.push({label:`Delete local branch ${i.branch}`,type:"local",picked:!!s});const a=o.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");i.remote&&i.createdForPullRequest&&!i.remoteInUse&&r.push({label:`Delete remote ${i.remote}, which is no longer used by any other branch`,type:"remote",picked:!!a})}if(o.env.remoteName==="codespaces"&&r.push({label:"Suspend Codespace",type:"suspend"}),!r.length){o.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(e,{cancelled:!0});return}const n=await o.window.showQuickPick(r,{canPickMany:!0,ignoreFocusOut:!0});if(n){const s=this._item.equals(this._folderRepositoryManager.activePullRequest),a=n.map(async l=>{switch(l.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(s){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await o.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await o.commands.executeCommand("git.cleanAll");else return;const u=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.repository.checkout(u)}return this._folderRepositoryManager.repository.deleteBranch(i.branch,!0);case"remote":return this._folderRepositoryManager.repository.removeRemote(i.remote);case"suspend":return o.commands.executeCommand("github.codespaces.disconnectSuspend")}});await Promise.all(a),o.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch"})}else this._replyMessage(e,{cancelled:!0})}setReadyForReview(e){this._item.setReadyForReview().then(i=>{o.commands.executeCommand("pr.refreshList"),this._replyMessage(e,{isDraft:i})}).catch(i=>{o.window.showErrorMessage(`Unable to set PR ready for review. ${A(i)}`),this._throwError(e,{})})}async mergePullRequest(e){const{title:i,description:r,method:n}=e.args;if(await o.window.showInformationMessage("Merge this pull request?",{modal:!0},"Yes")!=="Yes"){this._replyMessage(e,{state:we.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,i,r,n).then(a=>{o.commands.executeCommand("pr.refreshList"),a.merged||o.window.showErrorMessage(`Merging PR failed: ${a.message}`),this._replyMessage(e,{state:a.merged?we.Merged:we.Open})}).catch(a=>{o.window.showErrorMessage(`Unable to merge pull request. ${A(a)}`),this._throwError(e,{})})}_getHtmlForWebview(){const e=rn(),i=o.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(i).toString()}"></script>
	</body>
</html>`}}class Ic{constructor(e,i){this.reviewManager=e,this.folderRepositoryManager=i}provideTerminalLinks(e,i){var r;const n=e.line.indexOf("https://github.com");if(n===-1)return[];const s=e.line.substring(n),a=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),l=s.match(a);if(l&&l.length===4){const u=l[1],c=l[2],p=l[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(_=>_.remote.owner===u&&_.remote.repositoryName===c)>-1&&((r=this.reviewManager.repository.state.HEAD)==null?void 0:r.name)===p)return[{startIndex:n,length:e.line.length-n,tooltip:"Create a Pull Request",url:s}]}return[]}handleTerminalLink(e){const i=o.workspace.getConfiguration("githubPullRequests").get("terminalLinksHandler");if(i==="github"){o.env.openExternal(o.Uri.parse(e.url));return}if(i==="vscode"){this.reviewManager.createPullRequest();return}o.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?","Yes","No, continue to github.com").then(r=>{r==="Yes"?this.reviewManager.createPullRequest():o.env.openExternal(o.Uri.parse(e.url))})}}var Ac=se(4098),ln=se.n(Ac);const ga=void 0;let va=!1;const wa=class{static async getApiHost(t){const e=process.env.GITHUB_TEST_SERVER;if(e){if(va)return o.Uri.parse(e);if(await o.window.showInformationMessage(`The 'GITHUB_TEST_SERVER' environment variable is set to '${e}'. Use this as the GitHub API endpoint?`,{modal:!0},"Yes")==="Yes")return va=!0,o.Uri.parse(e)}const i=t instanceof o.Uri?t:o.Uri.parse(t.host);return i.authority==="github.com"?o.Uri.parse("https://api.github.com"):o.Uri.parse(`${i.scheme}://${i.authority}`)}static getApiPath(t,e){return(t instanceof o.Uri?t:o.Uri.parse(t.host)).authority==="github.com"?e:`/api/v3${e}`}};var Mc=Object.defineProperty,xc=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Mc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class un{constructor(){xc(this,"_servers",new Map().set("github.com",!0))}async isGitHub(e){if(e===null)return!1;if(this._servers.has(e.authority))return!!this._servers.get(e.authority);const[i,r]=await un.getOptions(e,"HEAD","/rate_limit");let n=!1;try{return n=(await ln()(i.toString(),r)).headers["x-github-request-id"]!==void 0,n}catch(s){return $.appendLine(`No response from host ${e}: ${s.message}`,"GitHubServer"),n}finally{$.debug(`Host ${e} is associated with GitHub: ${n}`,"GitHubServer"),this._servers.set(e.authority,n)}}static async getOptions(e,i="GET",r,n){const s={"user-agent":"GitHub VSCode Pull Requests"};n&&(s.authorization=`token ${n}`);const a=o.Uri.joinPath(await wa.getApiHost(e),wa.getApiPath(e,r));return[a,{hostname:a.authority,port:443,method:i,headers:s,agent:ga}]}}var Oc=se(1336),qc=se(9593),Uc=se.n(qc),dr=se(7228);const ba=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function ya(t){return t.match(ba)}function Lc(t){return!!ya(t.body)}async function ka(t,e,i=!0){const r=t[2],n=t[3],s=t[5],a=Number(t[6])-1,l=t[8]?Number(t[8])-1:a;let u;for(const p of e.folderManagers){const b=p.getGitHubRemotes();for(const _ of b)if(r.toLowerCase()===_.owner.toLowerCase()&&n.toLowerCase()===_.repositoryName.toLowerCase()){u=p;break}if(u)break}if(!u)return;const c=o.Uri.joinPath(u.repository.rootUri,s);try{await o.workspace.fs.stat(c)}catch(p){return}return{file:c,start:a,end:l}}async function $c(t,e){const i=ya(t.body);if(!i){o.window.showInformationMessage("Issue has no link.");return}const r=await ka(i,e,!1);if(!r)return o.env.openExternal(o.Uri.parse(i[0]));const n=await o.workspace.openTextDocument(r==null?void 0:r.file),s=n.lineAt(r.end<n.lineCount?r.end:n.lineCount-1),a=new o.Range(r.start,0,r.end,s.text.length);return o.window.showTextDocument(r.file,{selection:a})}var Gc=Object.defineProperty,_a=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Gc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const bf=/(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,Ei=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,cn=/\@([^\s]+)/,Vc=150,Se="githubIssues",ri="queries",Hc="default",Ra="workingIssueBranch",dn="issueBranchTitle",Sa="useBranchForIssues",Bc="workingIssueFormatScm";function mn(t){if(!t)return;const e={owner:void 0,name:void 0,issueNumber:0};return t.length===7?(e.owner=t[2],e.name=t[3],e.issueNumber=parseInt(t[5]),e):t.length===16?(e.owner=t[3]||t[11],e.name=t[4]||t[12],e.issueNumber=parseInt(t[7]||t[14]),e.commentNumber=t[9]!==void 0?parseInt(t[9]):void 0,e):void 0}async function jc(t,e,i,r){var n;const s=(n=t.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:n.get(i);if(s)return s;{let a,l,u;const c=e.getGitHubRemotes();for(const p of c){if(r)a=r.owner?r.owner:p.owner,l=r.name?r.name:p.repositoryName,u=r.issueNumber;else{const b=mn(i.match(Ei));b&&(!b.name||!b.owner)&&(a=p.owner,l=p.repositoryName)}if(a&&l&&u!==void 0){let b=await e.resolveIssue(a,l,u,!!r.commentNumber);if(b||(b=await e.resolvePullRequest(a,l,u)),b){let _;return t.resolvedIssues.has(e.repository.rootUri.path)?_=t.resolvedIssues.get(e.repository.rootUri.path):t.resolvedIssues.set(e.repository.rootUri.path,_=new(Uc())(50)),_.set(i,b),b}}}}}function Qc(t,e){let i;return t.commitContributions.forEach(r=>{e.toLowerCase()===r.repoNameWithOwner.toLowerCase()&&(i=r.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),i}class Wc extends o.CompletionItem{constructor(){super(...arguments);_a(this,"login"),_a(this,"uri")}}function hn(t,e){const i=new o.MarkdownString(void 0,!0);i.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) **${e.name}** [${e.login}](${e.url})`),e.bio&&i.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const r=Qc(e,t.owner+"/"+t.repo);return(e.location||r)&&i.appendMarkdown(`  \r
\r
---`),e.location&&i.appendMarkdown(`  \r
$(location) ${e.location}`),r&&i.appendMarkdown(`  \r
$(git-commit) Committed to this repository on ${r}`),e.company&&i.appendMarkdown(`  \r
$(jersey) Member of ${e.company}`),i}function zc(t){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0}function Kc(t,e){const i=zc(t);let r="ffffff";return i&&(.299*i.r+.587*i.g+.114*i.b)/255>.5&&(r="000000"),`<span style="color:#${r};background-color:#${t};">&nbsp;&nbsp;${e}&nbsp;&nbsp;</span>`}async function Ea(t,e,i){let r=t.search(e),n=0;for(;r>=0&&r<t.length;){let s;if(r===0||t.charAt(r-1)!=="&"){const l=t.substring(r).match(e);if(l){const u=await i(l);u&&(s=t.slice(0,r)+u,t=s+t.slice(r+l[0].length))}}n=s?s.length:r+1;const a=t.substring(n).search(e);r=a>0?n+a:a}return t}function Ca(t,e){return Ea(t,Ei,async i=>{const r=mn(i);if(r){const n=Pa(r);return(!r.owner||!r.name)&&(r.owner=e.remote.owner,r.name=e.remote.repositoryName),`[${n}](https://github.com/${r.owner}/${r.name}/issues/${r.issueNumber})`}})}async function Yc(t,e){return Ea(t,ba,async i=>{const r=await ka(i,e);if(r){const n=await o.workspace.openTextDocument(r==null?void 0:r.file),s=n.lineAt(r.end<n.lineCount?r.end:n.lineCount-1),a=[r.file,{selection:{start:{line:r.start,character:0},end:{line:r.end,character:s.text.length}}}],l=o.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(a))}`);return`[${i[0]}](${l} "Open ${r.file.fsPath}")`}})}const mr=200;async function pn(t,e,i,r){const n=new o.MarkdownString(void 0,!0);n.isTrusted=!0;const s=new Date(t.createdAt),a=`${t.remote.owner}/${t.remote.repositoryName}`;n.appendMarkdown(`[${a}](https://github.com/${a}) on ${s.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const l=dr.parse(t.title,{renderer:new vn}).trim();n.appendMarkdown(`${Zc(t)} **${l}** [#${t.number}](${t.html_url})  
`);let u=dr.parse(t.body,{renderer:new vn});if(n.appendMarkdown(`  
`),u=u.length>mr?u.substr(0,mr)+"...":u,u=await Ca(u,t),u=await Yc(u,i),n.appendMarkdown(u+`  
`),n.appendMarkdown(`&nbsp;  
`),t.item.labels.length>0&&t.item.labels.forEach(c=>{n.appendMarkdown(`[${Kc(c.color,c.name)}](https://github.com/${a}/labels/${encodeURIComponent(c.name)}) `)}),t.item.comments&&r){for(const c of t.item.comments)if(c.databaseId===r){n.appendMarkdown(`  \r
\r
---\r
`),n.appendMarkdown(`&nbsp;  
`),n.appendMarkdown(`![Avatar](${c.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${c.author.login}** commented`),n.appendMarkdown(`&nbsp;  
`);let p=dr.parse(c.body.length>mr?c.body.substr(0,mr)+"...":c.body,{renderer:new vn});p=await Ca(p,t),n.appendMarkdown(p)}}return n}function Jc(t){switch(t.state){case we.Open:return t instanceof bt?"$(git-pull-request)":"$(issues)";case we.Closed:return t instanceof bt?"$(git-pull-request)":"$(issue-closed)";case we.Merged:return"$(git-merge)"}}function Zc(t){if(t instanceof bt)return Jc(t);switch(t.state){case we.Open:return'<span style="color:#22863a;">$(issues)</span>';case we.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const Ta="HEAD",Xc=1,ed=2,td=3,Na=4,hr=new Map([["upstream",Xc],["ups",ed],["origin",td]]);async function id(t,e){var i,r,n;const s=((i=t.state.HEAD)==null?void 0:i.upstream)&&!hr.has(t.state.HEAD.upstream.remote)?t.state.HEAD.upstream.remote:void 0;let a;const l=t.state.remotes.map(b=>({name:b.name,remote:b})).filter(b=>(b.name===s&&(a=b.remote),hr.has(b.name))).sort((b,_)=>{var q,V;const U=(q=hr.get(b.name))!=null?q:Na,z=(V=hr.get(_.name))!=null?V:Na;return U-z});s&&l.push({name:s,remote:a});const u=[Ta];((r=t.state.HEAD)==null?void 0:r.name)&&t.state.HEAD.name!==Ta&&u.unshift((n=t.state.HEAD)==null?void 0:n.name);let c,p;for(let b=0;b<u.length&&!c;b++)for(let _=0;_<l.length&&!c;_++){const q=(await t.getBranches({contains:e.hash,remote:!0,pattern:`remotes/${l[_].name}/${u[b]}`,count:1})).filter(V=>V.remote&&V.name);q&&q.length>0&&(c=q[0],p=l[_].remote)}return p}async function fn(t,e){let i,r;if(!e&&o.window.activeTextEditor)i=o.window.activeTextEditor.document,r=o.window.activeTextEditor.selection;else if(e)i=e.document,r=e.range;else return{permalink:void 0,error:"No active text editor position to create permalink from."};const n=ha(t,i.uri);if(!n)return{permalink:void 0,error:"The current file isn't part of repository."};const s=await n.log({maxEntries:1,path:i.uri.fsPath});if(s.length===0)return{permalink:void 0,error:"No branch on a remote contains the most recent commit for the file."};const a=new Promise(c=>{var p;if((p=n.state.HEAD)==null?void 0:p.upstream)for(const b of n.state.remotes)n.state.HEAD.upstream.remote===b.name&&c(b);c(void 0)});let l=await Promise.race([id(n,s[0]),new Promise(c=>{setTimeout(()=>{c(a)},2e3)})]);if((!l||!l.fetchUrl)&&(l=await a,!l||!l.fetchUrl))return{permalink:void 0,error:"There is no suitable remote."};const u=i.uri.path.substring(n.rootUri.path.length);return{permalink:`https://github.com/${new Et(l.fetchUrl).nameWithOwner}/blob/${s[0].hash}${u}#L${r.start.line+1}-L${r.end.line+1}`,error:void 0}}function rd(t){const e=/[~^:;'".,~#?%*[\]@\\{}]|\/\//g;return t.replace(e,"").trim().replace(/\s+/g,"-")}const nd=/\$\{(.*?)\}/g;async function pr(t,e,i,r){return t.replace(nd,(n,s)=>{switch(s){case"user":return r||n;case"issueNumber":return e?`${e.number}`:n;case"issueNumberLabel":return e?`${ni(e,i)}`:n;case"issueTitle":return e?e.title:n;case"repository":return i?i.repo:n;case"owner":return i?i.owner:n;case"sanitizedIssueTitle":return e?rd(e.title):n;default:return n}})}function ni(t,e){const i={issueNumber:t.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==t.remote.owner.toLowerCase()||e.repo.toLowerCase()!==t.remote.repositoryName.toLowerCase())&&(i.owner=t.remote.owner,i.name=t.remote.repositoryName),Pa(i)}function Pa(t){return!t.owner||!t.name?`#${t.issueNumber}`:`${t.owner}/${t.name}#${t.issueNumber}`}async function Fa(t,e,i){var r;const n=await((r=e.currentIssue(t.repository.rootUri))==null?void 0:r.getCommitMessage());if(n)return t.repository.commit(n,{all:i})}const Da="Commit Staged",Ia="Commit All";async function sd(t,e,i){var r,n;if(t.repository.state.workingTreeChanges.length>0||t.repository.state.indexChanges.length>0){const s=[];switch(t.repository.state.indexChanges&&s.push(Da),t.repository.state.workingTreeChanges&&s.push(Ia),await o.window.showInformationMessage("There are uncommitted changes. Do you want to commit them with the default commit message?",{modal:!0},...s)){case Da:{await Fa(t,i,!1);break}case Ia:{await Fa(t,i,!0);break}default:return!1}}if((r=t.repository.state.HEAD)==null?void 0:r.upstream)return await t.repository.push(),await e.createPullRequest(void 0),!0;{let s;return t.repository.state.remotes.length===1?s=t.repository.state.remotes[0].name:t.repository.state.remotes.length>1&&(s=await o.window.showQuickPick(t.repository.state.remotes.map(a=>a.name),{placeHolder:"Remote to push to"})),s?(await t.repository.push(s,(n=t.repository.state.HEAD)==null?void 0:n.name,!0),await e.createPullRequest(void 0),!0):(o.window.showWarningMessage("The current repository has no remotes to push to. Please set up a remote and try again."),!1)}}async function gn(t,e){return!(t.languageId!=="markdown"&&t.languageId!=="plaintext"&&(await o.languages.getTokenInformationAtPosition(t,e)).type!==o.StandardTokenType.Comment)}async function Aa(t,e){return t.lineAt(e.line).range.end.character>1e4?!1:gn(t,e)}function Ma(t){const e=new Oc.URLSearchParams(t.query).get("rootUri");return e?o.Uri.parse(e):void 0}class vn extends dr.Renderer{code(e){return e}blockquote(e){return e}html(e){return""}heading(e,i,r,n){return e+" "}hr(){return""}list(e,i,r){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,i){return e+" "+i}tablerow(e){return e}tablecell(e,i){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,i,r){return""}text(e){return e}link(e,i,r){return r+" "}}var ad=Object.defineProperty,od=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?ad(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const xa="github-pr-remote",Oa="github-pr-owner-number",qa=/branch\.(.+)\.github-pr-owner-number/,ld=/branch\.(.+)\.remote/,fe=class{static async checkoutFromFork(t,e,i){const r=await fe.calculateUniqueBranchNameForPR(t,e);i||($.appendLine(`Branch ${r} is from a fork. Create a remote first.`,fe.ID),i=await fe.createRemote(t,e.remote,e.head.repositoryCloneUrl));const n=`${e.head.ref}:${r}`;$.debug(`Fetch ${i}/${e.head.ref}:${r} - start`,fe.ID),await t.fetch(i,n,1),$.debug(`Fetch ${i}/${e.head.ref}:${r} - done`,fe.ID),await t.checkout(r),await t.setBranchUpstream(r,`refs/remotes/${i}/${e.head.ref}`),await this.unshallow(t),fe.associateBranchWithPullRequest(t,e,r)}static async fetchAndCheckout(t,e,i){if(!i.validatePullRequestModel("Checkout pull request failed"))return;const r=fe.getHeadRemoteForPullRequest(e,i),n=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!r||n)return fe.checkoutFromFork(t,i,r&&r.remoteName);const s=i.head.ref,a=r.remoteName;let l;try{if(l=await t.getBranch(s),$.debug(`Checkout ${s}`,fe.ID),await t.checkout(s),!l.upstream){const u=`refs/remotes/${a}/${s}`;await t.setBranchUpstream(s,u)}l.behind!==void 0&&l.behind>0&&l.ahead===0&&($.debug("Pull from upstream",fe.ID),await t.pull())}catch(u){$.appendLine(`Branch ${a}/${s} doesn't exist on local disk yet.`,fe.ID);const c=`refs/remotes/${a}/${s}`;$.appendLine(`Fetch tracked branch ${c}`,fe.ID),await t.fetch(a,s,1);const p=await t.getBranch(c);await t.createBranch(s,!0,p.commit),await t.setBranchUpstream(s,c),await this.unshallow(t)}await fe.associateBranchWithPullRequest(t,i,s)}static async unshallow(t){try{await t.pull(!0)}catch(e){$.appendLine(`Unshallowing failed: ${e}. Falling back to git pull`),await t.pull()}}static async checkoutExistingPullRequestBranch(t,e){const i=fe.buildPullRequestMetadata(e),r=await t.getConfigs(),n=a=>r.filter(({key:l})=>a===l).map(({value:l})=>l)[0],s=r.map(a=>{const l=qa.exec(a.key);return{branch:l&&l.length?l[1]:null,value:a.value}}).filter(a=>a.branch&&a.value===i);if(s&&s.length){const a=s[0].branch;await t.checkout(a);const l=n(`branch.${a}.remote`),u=n(`branch.${a}.merge`);await t.fetch(l,u);const c=await t.getBranch(s[0].branch);return c.behind!==void 0&&c.behind>0&&c.ahead===0&&($.debug("Pull from upstream",fe.ID),await t.pull()),!0}else return!1}static async getBranchNRemoteForPullRequest(t,e){const i=fe.buildPullRequestMetadata(e),r=await t.getConfigs(),n=r.map(s=>{const a=qa.exec(s.key);return{branch:a&&a.length?a[1]:null,value:s.value}}).find(s=>!!s.branch&&s.value===i);if(n){const s=n.branch;try{const a=`branch.${s}.remote`,l=r.filter(b=>b.key===a).map(b=>b.value);let u;l.length&&(u=l[0]);let c=!1;if(u){const b=`remote.${u}.github-pr-remote`;r.filter(q=>q.key===b&&q.value).length&&(c=!0)}let p;return c&&(p=r.some(b=>!!(ld.exec(b.key)&&b.key!==`branch.${s}.remote`&&b.value===u))),{branch:s,remote:u,createdForPullRequest:c,remoteInUse:p}}catch(a){return{branch:s}}}return null}static buildPullRequestMetadata(t){return`${t.base.repositoryCloneUrl.owner}#${t.base.repositoryCloneUrl.repositoryName}#${t.number}`}static parsePullRequestMetadata(t){if(t){const e=/(.*)#(.*)#(.*)/g.exec(t);if(e&&e.length===4){const[,i,r,n]=e;return{owner:i,repositoryName:r,prNumber:Number(n)}}}}static getMetadataKeyForBranch(t){return`branch.${t}.${Oa}`}static async getMatchingPullRequestMetadataForBranch(t,e){try{const i=this.getMetadataKeyForBranch(e),r=await t.getConfig(i);return fe.parsePullRequestMetadata(r)}catch(i){return}}static async createRemote(t,e,i){$.appendLine(`create remote for ${i}.`,fe.ID);const r=_i(t);for(const s of r)if(new Et(s.url).equals(i))return s.remoteName;const n=fe.getUniqueRemoteName(t,i.owner);return i.update({type:e.gitProtocol.type}),await t.addRemote(n,i.toString()),await t.setConfig(`remote.${n}.${xa}`,"true"),n}static async isRemoteCreatedForPullRequest(t,e){try{$.debug(`Check if remote '${e}' is created for pull request - start`,fe.ID);const i=await t.getConfig(`remote.${e}.${xa}`);return $.debug(`Check if remote '${e}' is created for pull request - end`,fe.ID),i==="true"}catch(i){return!1}}static async calculateUniqueBranchNameForPR(t,e){const i=`pr/${e.author.login}/${e.number}`;let r=i,n=1;for(;;)try{await t.getBranch(r),r=`${i}-${n++}`}catch(s){break}return r}static getUniqueRemoteName(t,e){let i=e,r=1;const n=_i(t);for(;n.find(s=>s.remoteName===i);)i=`${e}${r++}`;return i}static getHeadRemoteForPullRequest(t,e){return t.find(i=>i.gitProtocol&&i.gitProtocol.equals(e.head.repositoryCloneUrl))}static async associateBranchWithPullRequest(t,e,i){$.appendLine(`associate ${i} with Pull Request #${e.number}`,fe.ID);const r=`branch.${i}.${Oa}`;await t.setConfig(r,fe.buildPullRequestMetadata(e))}};let tt=fe;od(tt,"ID","PullRequestGitHelper");var ud=Object.defineProperty,me=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?ud(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class cd extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class Ua extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class dd extends Error{constructor(e,i,r){super();this.branchName=e,this.upstreamRef=i,this.problem=r}get message(){const{upstreamRef:{remote:e,name:i},branchName:r,problem:n}=this;return`The upstream ref ${e}/${i} for branch ${r} ${n}.`}}const yt="githubPullRequests",wn="remotes",La="ReposManagerStateContext";var Qe;(function(t){t.Initializing="Initializing",t.NeedsAuthentication="NeedsAuthentication",t.RepositoriesLoaded="RepositoriesLoaded"})(Qe||(Qe={}));const $a="No Milestone";var Ga;(function(t){t[t.PullRequest=0]="PullRequest",t[t.Milestones=1]="Milestones",t[t.IssuesWithoutMilestone=2]="IssuesWithoutMilestone",t[t.IssueSearch=3]="IssueSearch"})(Ga||(Ga={}));const it=class{constructor(t,e,i,r,n){this.context=t,this._repository=e,this.telemetry=i,this._git=r,this._credentialStore=n,me(this,"_subs"),me(this,"_activePullRequest"),me(this,"_activeIssue"),me(this,"_githubRepositories"),me(this,"_allGitHubRemotes",[]),me(this,"_mentionableUsers"),me(this,"_fetchMentionableUsersPromise"),me(this,"_assignableUsers"),me(this,"_fetchAssignableUsersPromise"),me(this,"_gitBlameCache",{}),me(this,"_githubManager"),me(this,"_repositoryPageInformation",new Map),me(this,"_onDidMergePullRequest",new o.EventEmitter),me(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),me(this,"_onDidChangeActivePullRequest",new o.EventEmitter),me(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),me(this,"_onDidChangeActiveIssue",new o.EventEmitter),me(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),me(this,"_onDidLoadRepositories",new o.EventEmitter),me(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),me(this,"_onDidChangeRepositories",new o.EventEmitter),me(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),me(this,"_onDidChangeAssignableUsers",new o.EventEmitter),me(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),me(this,"totalFetchedPages",new Map),this._subs=[],this._githubRepositories=[],this._githubManager=new un,this._subs.push(o.workspace.onDidChangeConfiguration(async s=>{s.affectsConfiguration(`${yt}.${wn}`)&&await this.updateRepositories()})),this.setUpCompletionItemProvider()}get gitHubRepositories(){return this._githubRepositories}computeAllGitHubRemotes(){const e=_i(this.repository).filter(i=>i.host);return Promise.all(e.map(i=>this._githubManager.isGitHub(i.gitProtocol.normalizeUri()))).then(i=>e.filter((r,n,s)=>i[n])).catch(i=>($.appendLine(`Resolving GitHub remotes failed: ${i}`),o.window.showErrorMessage(`Resolving GitHub remotes failed: ${A(i)}`),[]))}async getActiveGitHubRemotes(t){const e=o.workspace.getConfiguration(yt).get(wn);return e?(e.forEach(i=>{t.some(r=>r.remoteName===i)||$.appendLine(`No remote with name '${i}' found.`)}),$.debug(`Displaying configured remotes: ${e.join(", ")}`,it.ID),e.map(i=>t.find(r=>r.remoteName===i)).filter(i=>!!i)):($.appendLine("Unable to read remotes setting"),Promise.resolve([]))}setUpCompletionItemProvider(){let t,e=[],i=[];o.languages.registerCompletionItemProvider({scheme:"comment"},{provideCompletionItems:async(r,n,s)=>{try{if(JSON.parse(r.uri.query).extensionId!==xt)return;const l=r.getWordRangeAtPosition(n,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!l||l.isEmpty)return;let u=[];const c={};let p={},b,_;const q=o.window.visibleTextEditors;if(q.length){const ie=q.find(ee=>ee.document.uri.scheme==="pr");if(ie){const ee=Ge(ie.document.uri);b=ee.prNumber,_=ee.remoteName}else this._activePullRequest&&(b=this._activePullRequest.number,_=this._activePullRequest.remote.remoteName);if(t&&b&&b===t.number)return i}const V=new Promise(async ie=>{if(b&&_){if($.debug("get Timeline Events and parse users",it.ID),t&&t.number===b)return e;const ee=this._githubRepositories.find(le=>le.remote.remoteName===_);ee&&(t=await ee.getPullRequest(b),e=await t.getTimelineEvents()),u=Ec(e),ie()}ie()}),U=new Promise(async ie=>{if(q.length)try{$.debug("git blame and parse users",it.ID);const ee=v.resolve(q[0].document.uri.fsPath);let le;this._gitBlameCache[ee]?le=this._gitBlameCache[ee]:(le=await this.repository.blame(ee),this._gitBlameCache[ee]=le);const ge=le.split(`
`);for(const he of ge){const _e=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(he);if(_e&&_e.length===2){const de=_e[1].trim();c[de]=!0}}}catch(ee){$.debug(ee,it.ID)}ie()}),z=new Promise(async ie=>{$.debug("get mentionable users",it.ID),p=await this.getMentionableUsers(),ie()});await Promise.all([V,U,z]),i=[];const K={};$.debug("prepare user suggestions",it.ID),u.forEach(ie=>{K[ie.login]||(K[ie.login]=ie)});const Z={};for(const ie in p)for(const ee of p[ie])if(!K[ee.login]&&!Z[ee.login]){Z[ee.login]=!0;let le=2;(c[ee.login]||ee.name&&c[ee.name])&&(le=1),K[ee.login]&&(le=0),i.push({label:ee.login,insertText:ee.login,filterText:`${ee.login}`+(ee.name&&ee.name!==ee.login?`_${ee.name.toLowerCase().replace(" ","_")}`:""),sortText:`${le}_${ee.login}`,detail:ee.name,kind:o.CompletionItemKind.User,login:ee.login,uri:this.repository.rootUri})}for(const ie in K)Z[ie]||i.push({label:K[ie].login,insertText:`${K[ie].login}`,filterText:`${K[ie].login}`+(K[ie].name&&K[ie].name!==K[ie].login?`_${K[ie].name.toLowerCase().replace(" ","_")}`:""),sortText:`0_${K[ie].login}`,detail:K[ie].name,kind:o.CompletionItemKind.User,login:K[ie].login,uri:this.repository.rootUri});return $.debug("done",it.ID),i}catch(a){return[]}},resolveCompletionItem:async(r,n)=>{try{const s=await this.getPullRequestDefaults(),a=await this.resolveUser(s.owner,s.repo,r.label);a&&(r.documentation=hn(s,a))}catch(s){}return r}},"@")}get activeIssue(){return this._activeIssue}set activeIssue(t){this._activeIssue=t,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(t){this._activePullRequest&&(this._activePullRequest.isActive=!1),t&&(t.isActive=!0),this._activePullRequest=t,this._onDidChangeActivePullRequest.fire()}get repository(){return this._repository}set repository(t){this._repository=t}get credentialStore(){return this._credentialStore}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const t=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return t.length?(await o.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),$.appendLine("Found GitHub remote")):(await o.commands.executeCommand("setContext","github:hasGitHubRemotes",!1),$.appendLine("No GitHub remotes found")),t}async updateRepositories(t=!1){if(this._git.state==="uninitialized"){$.appendLine("Cannot updates repositories as git is uninitialized");return}const e=await this.getActiveRemotes(),i=this._credentialStore.isAuthenticated();o.commands.executeCommand("setContext","github:authenticated",i);const r=[],n=[];return(i?e:[]).forEach(a=>{const l=this.createGitHubRepository(a,this._credentialStore);n.push(l.resolveRemote()),r.push(l)}),Promise.all(n).then(a=>{const l=this._githubRepositories;this._githubRepositories=r,l.forEach(c=>c.dispose());const u=l.length!==this._githubRepositories.length||!l.every(c=>this._githubRepositories.some(p=>p.remote.equals(c.remote)));return this._githubRepositories.length&&u&&this.checkIfMissingUpstream(),this.getMentionableUsers(u),this.getAssignableUsers(u),this._onDidLoadRepositories.fire(i||!e.length?Qe.RepositoriesLoaded:Qe.NeedsAuthentication),t||this._onDidChangeRepositories.fire(),Promise.resolve()})}async checkIfMissingUpstream(){try{const e=await(await this.getOrigin()).getMetadata();if(e.fork){const i=new Et(e.parent.git_url);if(!this._githubRepositories.some(n=>n.remote.owner===i.owner&&n.remote.repositoryName===i.repositoryName)){const s=!this.repository.state.remotes.some(a=>a.name==="upstream")?"upstream":e.parent.owner.login;await this.repository.addRemote(s,e.parent.clone_url)}}}catch(t){$.appendLine(`Missing upstream check failed: ${t}`)}}getAllAssignableUsers(){if(this._assignableUsers){const t=[];return Object.keys(this._assignableUsers).forEach(e=>{t.push(...this._assignableUsers[e])}),t}}async getMentionableUsers(t){if(t&&delete this._mentionableUsers,this._mentionableUsers)return this._mentionableUsers;if(!this._fetchMentionableUsersPromise){const e={};return this._fetchMentionableUsersPromise=new Promise(i=>{const r=this._githubRepositories.map(async n=>{const s=await n.getMentionableUsers();e[n.remote.remoteName]=s});Promise.all(r).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,i(e)})})}return this._fetchMentionableUsersPromise}async getAssignableUsers(t){if(t&&delete this._assignableUsers,this._assignableUsers)return this._assignableUsers;if(!this._fetchAssignableUsersPromise){const e={},i=[];return this._fetchAssignableUsersPromise=new Promise(r=>{const n=this._githubRepositories.map(async s=>{const a=await s.getAssignableUsers();e[s.remote.remoteName]=a.sort(da),i.push(...a)});Promise.all(n).then(()=>{this._assignableUsers=e,this._fetchAssignableUsersPromise=void 0,r(e),this._onDidChangeAssignableUsers.fire(i)})})}return this._fetchAssignableUsersPromise}getGitHubRemotes(){const t=this._githubRepositories;return!t||!t.length?[]:t.map(e=>e.remote)}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const t=this._githubRepositories;if(!t||!t.length)return[];const i=this.repository.state.refs.filter(r=>r.type===ht.Head&&r.name!==void 0).map(r=>r.name).map(async r=>{const n=await tt.getMatchingPullRequestMetadataForBranch(this.repository,r);if(n){const{owner:s,prNumber:a}=n,l=t.find(u=>u.remote.owner.toLocaleLowerCase()===s.toLocaleLowerCase());if(l){const u=await l.getPullRequest(a);if(u)return u.localBranchName=r,u}}return Promise.resolve(null)});return Promise.all(i).then(r=>r.filter(n=>n!==null))}async getLabels(t,e){const i=t?t.githubRepository:this._githubRepositories.find(u=>u.remote.owner===(e==null?void 0:e.owner)&&u.remote.repositoryName===(e==null?void 0:e.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:n}=await i.ensure();let s=!1,a=1,l=[];do{const u=await n.issues.listLabelsForRepo({owner:r.owner,repo:r.repositoryName,per_page:100,page:a});l=l.concat(u.data.map(c=>({name:c.name,color:c.color}))),l=l.sort((c,p)=>c.name.localeCompare(p.name)),s=!!u.headers.link&&u.headers.link.indexOf('rel="next"')>-1,a+=1}while(s);return l}async listBranches(t,e){if(this._githubRepositories.length)return this._githubRepositories[0].listBranches(t,e);throw new Error("No GitHub repositories found")}async deleteLocalPullRequest(t,e){if(!t.localBranchName)return;await this.repository.deleteBranch(t.localBranchName,e);let i;try{i=await this.repository.getConfig(`branch.${t.localBranchName}.remote`)}catch(n){}if(!i)return;await tt.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:a,value:l})=>/^branch.*\.remote$/.test(a)&&l===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(t={fetchNextPage:!1},e,i=0,r=Pe.All,n){if(!this._githubRepositories||!this._githubRepositories.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1};const s=()=>this.totalFetchedPages.get(e)||0,a=b=>this.totalFetchedPages.set(e,b);for(const b of this._githubRepositories){const _=b.remote.url.toString()+e;this._repositoryPageInformation.get(_)||this._repositoryPageInformation.set(_,{pullRequestPage:0,hasMorePages:null})}let l=0;const u={hasMorePages:!1,items:[]},c=b=>{l++,b&&(u.items=u.items.concat(b.items),u.hasMorePages=b.hasMorePages)},p=this._githubRepositories.filter(b=>{const _=this._repositoryPageInformation.get(b.remote.url.toString()+e);return _&&(t.fetchNextPage===!1||_.hasMorePages!==!1)});for(let b=0;b<p.length;b++){const _=p[b],q=_.remote.url.toString()+e,V=this._repositoryPageInformation.get(q),U=async z=>{switch(i){case 0:return r===Pe.All?_.getAllPullRequests(z):_.getPullRequestsForCategory(n||"",z);case 1:return _.getIssuesForUserByMilestone(V.pullRequestPage);case 2:return _.getIssuesWithoutMilestone(V.pullRequestPage);case 3:return _.getIssues(V.pullRequestPage,n)}};if(t.fetchNextPage?(V.pullRequestPage++,c(await U(V.pullRequestPage)),a(s()+1)):(V.pullRequestPage===0&&(V.pullRequestPage=1),(await Promise.all(Array.from({length:V.pullRequestPage}).map((K,Z)=>U(Z+1)))).forEach(K=>c(K))),V.hasMorePages=u.hasMorePages,u.items.length&&(t.fetchNextPage===!0||t.fetchNextPage===!1&&l>=s()))return s()===0&&a(l),{items:u.items,hasMorePages:V.hasMorePages,hasUnsearchedRepositories:b<p.length-1}}return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1}}async getPullRequests(t,e={fetchNextPage:!1},i){const r=t.toString()+(i||"");return this.fetchPagedData(e,r,0,t,i)}async getMilestones(t={fetchNextPage:!1},e=!1,i){const r=await this.fetchPagedData(t,"issuesKey",1,Pe.All,i);if(e){const n=await this.fetchPagedData(t,"issuesKey",2,Pe.All,i);r.items.push({milestone:{createdAt:new Date(0).toDateString(),id:"",title:$a},issues:n.items})}return r}async getIssues(t={fetchNextPage:!1},e){return this.fetchPagedData(t,"issuesKey",3,Pe.All,e)}async getMaxIssue(){const t=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let e=0;for(const i of t)i!==void 0&&(e=Math.max(e,i));return e}async getPullRequestTemplates(){const t=await o.workspace.findFiles(new o.RelativePattern(this._repository.rootUri.path,"{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),e=await o.workspace.findFiles(new o.RelativePattern(this._repository.rootUri.path,"{docs,.github}/{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),i=await o.workspace.findFiles(new o.RelativePattern(this._repository.rootUri.path,"PULL_REQUEST_TEMPLATE/*.md")),r=await o.workspace.findFiles(new o.RelativePattern(this._repository.rootUri.path,"{docs,.github}/PULL_REQUEST_TEMPLATE/*.md"));return[...t,...e,...i,...r]}async getPullRequestDefaults(t){if(!t&&!this.repository.state.HEAD)throw new Ua(this.repository);const e=await this.getOrigin(t),i=await e.getMetadata(),r=i.fork?i.parent:await(this.findRepo(ai("upstream"))||e).getMetadata();return{owner:r.owner.login,repo:r.name,base:r.default_branch}}async getMetadata(t){const e=this.findRepo(ai(t));return e&&e.getMetadata()}async getHeadCommitMessage(){const{repository:t}=this;if(t.state.HEAD&&t.state.HEAD.commit){const{message:e}=await t.getCommit(t.state.HEAD.commit);return e}return""}async getTipCommitMessage(t){const{repository:e}=this,{commit:i}=await e.getBranch(t);if(i){const{message:r}=await e.getCommit(i);return r}return""}async getOrigin(t){if(!this._githubRepositories.length)throw new cd(this.repository);const e=t?t.upstream:this.upstreamRef;if(e){const n=this.findRepo(ai(e.remote));if(!n){const s=(await this.getAllGitHubRemotes()).find(a=>a.remoteName===e.remote);if(s)return new ei(s,this._credentialStore,this.telemetry);throw $.appendLine(`The remote '${e.remote}' is not a GitHub repository.`),new dd(this.repository.state.HEAD.name,e,"is not a GitHub repo")}return n}const[i,...r]=this._githubRepositories;return r.length&&(this.findRepo(ai("origin"))||this.findRepo(md))||i}findRepo(t){return this._githubRepositories.filter(t)[0]}get upstreamRef(){const{HEAD:t}=this.repository.state;return t&&t.upstream}async createPullRequest(t){var e,i;const r=this._githubRepositories.find(n=>n.remote.owner===t.owner&&n.remote.repositoryName===t.repo);if(!r)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);try{const n=await r.createPullRequest(t),s=t.head.indexOf(":"),a=t.head.slice(s+1);return await tt.associateBranchWithPullRequest(this._repository,n,a),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(t.draft||"").toString()}),n}catch(n){if(n.message.indexOf("No commits between ")>-1){if((e=this._repository.state.HEAD)==null?void 0:e.ahead)return await o.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to push your local commits and create the pull request?`,{modal:!0},"Push commits")==="Push commits"?(await this._repository.push(),this.createPullRequest(t)):void 0;if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length)return await o.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to commit your changes and create the pull request?`,{modal:!0},"Commit changes")==="Commit changes"?(await o.commands.executeCommand("git.commit"),await this._repository.push(),this.createPullRequest(t)):void 0}if(!((i=this._repository.state.HEAD)==null?void 0:i.upstream))return await o.window.showInformationMessage(`There is no upstream branch for '${t.base}'.

Do you want to publish it and create the pull request?`,{modal:!0},"Publish branch")==="Publish branch"?(await this._repository.push(r.remote.remoteName,t.base,!0),this.createPullRequest(t)):void 0;throw $.appendLine(`GitHubRepository> Creating pull requests failed: ${n}`),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(t.draft||"").toString()}),new Error(A(n))}}async createIssue(t){try{const e=this._githubRepositories.find(s=>s.remote.owner===t.owner&&s.remote.repositoryName===t.repo);if(!e)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);await e.ensure();const{data:i}=await e.octokit.issues.create(t),r=wc(i,e),n=new Ae(e,e.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),n}catch(e){$.appendLine(`GitHubRepository> Creating issue failed: ${e}`),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),o.window.showWarningMessage(`Creating issue failed: ${A(e)}`)}}async assignIssue(t,e){try{const i=this._githubRepositories.find(n=>n.remote.owner===t.remote.owner&&n.remote.repositoryName===t.remote.repositoryName);if(!i)throw new Error(`No matching repository ${t.remote.repositoryName} found for ${t.remote.owner}`);await i.ensure();const r={assignees:[e],owner:t.remote.owner,repo:t.remote.repositoryName,issue_number:t.number};await i.octokit.issues.addAssignees(r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){$.appendLine(`GitHubRepository> Assigning issue failed: ${i}`),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),o.window.showWarningMessage(`Assigning issue failed: ${A(i)}`)}}getCurrentUser(t){return Dt(this._credentialStore.getCurrentUser(),t.githubRepository)}async mergePullRequest(t,e,i,r){const{octokit:n,remote:s}=await t.githubRepository.ensure(),a=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,l=this.repository.state.HEAD&&this.repository.state.HEAD.commit,u=t.head&&t.head.sha,c=this.repository.state.workingTreeChanges.length>0;if(a===u){if(l!==u){const{ahead:p}=this.repository.state.HEAD;if(p&&await o.window.showWarningMessage(`You have ${p} unpushed ${p>1?"commits":"commit"} on this PR branch.

Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"unpushed changes"}}if(c&&await o.window.showWarningMessage(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"uncommitted changes"}}return await n.pulls.merge({commit_message:i,commit_title:e,merge_method:r||o.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),owner:s.owner,repo:s.repositoryName,pull_number:t.number}).then(p=>(this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),p.data)).catch(p=>{throw this.telemetry.sendTelemetryErrorEvent("pr.merge.failure"),p})}async deleteBranch(t){await t.githubRepository.deleteBranch(t)}async getBranchDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(n=>{const s=n.key,a=/^branch\.(.*)\.(.*)$/.exec(s);if(a&&a.length===3){const l=a[1];e.has(l)||e.set(l,{});const u=e.get(l);if(a[2]==="remote"&&(u.remote=n.value),a[2]==="github-pr-owner-number"){const c=tt.parsePullRequestMetadata(n.value);u.metadata=c}e.set(l,u)}});const i=[];e.forEach((n,s)=>{if(n.metadata){const a=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(a?a.owner===n.metadata.owner&&a.repositoryName===n.metadata.repositoryName&&this.activePullRequest&&this.activePullRequest.number===n.metadata.prNumber:!1)||i.push({label:`${s}`,description:`${n.metadata.repositoryName}/${n.metadata.owner} #${n.metadata.prNumber}`,picked:!1,metadata:n.metadata})}});const r=await Promise.all(i.map(async n=>{const s=n.metadata,a=this._githubRepositories.find(p=>p.remote.owner.toLowerCase()===s.owner.toLowerCase()&&p.remote.repositoryName.toLowerCase()===s.repositoryName.toLowerCase());if(!a)return n;const{remote:l,query:u,schema:c}=await a.ensure();try{const{data:p}=await u({query:c.PullRequestState,variables:{owner:l.owner,name:l.repositoryName,number:s.prNumber}});n.legacy=p.repository.pullRequest.state!=="OPEN"}catch{}return n}));return r.forEach(n=>{n.legacy?n.picked=!0:n.description=`${n.description} is still Open`}),r}async getRemoteDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(r=>{const n=r.key;let s=/^branch\.(.*)\.(.*)$/.exec(n);if(s&&s.length===3){const a=s[1];if(s[2]==="remote"){const l=r.value;e.has(l)||e.set(l,{branches:new Set}),e.get(l).branches.add(a)}}if(s=/^remote\.(.*)\.(.*)$/.exec(n),s&&s.length===3){const a=s[1];e.has(a)||e.set(a,{branches:new Set});const l=e.get(a);s[2]==="github-pr-remote"&&(l.createdForPullRequest=r.value==="true"),s[2]==="url"&&(l.url=r.value)}});const i=[];return e.forEach((r,n)=>{if(r.branches.size===0){let s=r.createdForPullRequest?"":"Not created by GitHub Pull Request extension";r.url&&(s=s?s+" "+r.url:r.url),i.push({label:n,description:s,picked:r.createdForPullRequest,remote:n})}}),i}async deleteLocalBranchesNRemotes(){return new Promise(async t=>{const e=o.window.createQuickPick();e.canSelectMany=!0,e.ignoreFocusOut=!0,e.placeholder="Choose local branches you want to delete permanently",e.show(),e.busy=!0;const i=await this.getBranchDeletionItems();e.items=i,e.selectedItems=i.filter(n=>n.picked),e.busy=!1;let r=!0;e.onDidAccept(async()=>{if(r){const n=e.selectedItems;if(n.length){e.busy=!0;try{await Promise.all(n.map(async a=>{await this.repository.deleteBranch(a.label,!0)})),e.busy=!1}catch(a){e.hide(),o.window.showErrorMessage(`Deleting branches failed: ${a}`)}}r=!1,e.busy=!0;const s=await this.getRemoteDeletionItems();s?(e.placeholder="Choose remotes you want to delete permanently",e.busy=!1,e.items=s,e.selectedItems=s.filter(a=>a.picked)):e.hide()}else{const n=e.selectedItems;n.length&&(e.busy=!0,await Promise.all(n.map(async s=>{await this.repository.removeRemote(s.label)})),e.busy=!1),e.hide()}}),e.onDidHide(()=>{t()})})}async getPullRequestRepositoryDefaultBranch(t){return await t.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(t){return await t.githubRepository.getRepoAccessAndMergeMethods()}async fulfillPullRequestMissingInfo(t){try{if(!t.isResolved())return;$.debug("Fulfill pull request missing info - start",it.ID);const e=t.githubRepository,{octokit:i,remote:r}=await e.ensure();if(!t.base){const{data:n}=await i.pulls.get({owner:r.owner,repo:r.repositoryName,pull_number:t.number});t.update(Gt(n,e))}if(!t.mergeBase){const{data:n}=await i.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${t.base.repositoryCloneUrl.owner}:${t.base.ref}`,head:`${t.head.repositoryCloneUrl.owner}:${t.head.ref}`});t.mergeBase=n.merge_base_commit.sha}}catch(e){o.window.showErrorMessage(`Fetching Pull Request merge base failed: ${A(e)}`)}$.debug("Fulfill pull request missing info - done",it.ID)}async resolveItem(t,e){let i=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===t.toLowerCase()&&r.remote.repositoryName.toLowerCase()===e.toLowerCase());return i||(i=this.createGitHubRepositoryFromOwnerName(t,e)),i}async resolvePullRequest(t,e,i){const r=await this.resolveItem(t,e);if(r)return r.getPullRequest(i)}async resolveIssue(t,e,i,r=!1){const n=await this.resolveItem(t,e);if(n)return n.getIssue(i,r)}async resolveUser(t,e,i){$.debug(`Fetch user ${i}`,it.ID);const r=this.createGitHubRepositoryFromOwnerName(t,e),{query:n,schema:s}=await r.ensure();try{const{data:a}=await n({query:s.GetUser,variables:{login:i}});return Rc(a)}catch(a){console.log(a)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await tt.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(){if(!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name||!this.repository.state.HEAD.upstream)return null;for(const t of this.gitHubRepositories)if(t.remote.remoteName===this.repository.state.HEAD.upstream.remote){const e=await t.getPullRequestForBranch(this.repository.state.HEAD.upstream.name);if(e&&e.length>0)return{owner:t.remote.owner,repositoryName:t.remote.repositoryName,prNumber:e[0].number,model:e[0]};break}return null}async checkoutExistingPullRequestBranch(t){return await tt.checkoutExistingPullRequestBranch(this.repository,t)}async getBranchNameForPullRequest(t){return await tt.getBranchNRemoteForPullRequest(this.repository,t)}async fetchAndCheckout(t){await tt.fetchAndCheckout(this.repository,this._allGitHubRemotes,t)}async checkout(t){return this.repository.checkout(t)}async checkoutDefaultBranch(t){try{const e=await this.repository.getBranch(t);e.upstream&&t===e.upstream.name?await this.repository.checkout(t):await o.commands.executeCommand("git.checkout")}catch(e){if(e.gitErrorCode&&e.gitErrorCode===Rt.DirtyWorkTree){o.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}o.window.showErrorMessage(`Exiting failed: ${e}`)}}createGitHubRepository(t,e){return new ei(t,e,this.telemetry)}createGitHubRepositoryFromOwnerName(t,e){const i=`https://github.com/${t}/${e}`;return new ei(new rr(e,i,new Et(i)),this._credentialStore,this.telemetry)}async findUpstreamForItem(t){let e,i;for(const n of this.gitHubRepositories){if(!e&&n.remote.owner===t.remote.owner&&n.remote.repositoryName===t.remote.repositoryName){e=n;continue}const s=await n.getRepositoryForkDetails();if(s&&s.isFork&&s.parent.owner===t.remote.owner&&s.parent.name===t.remote.repositoryName){const a=await n.getViewerPermission();if(a===Ve.Admin||a===Ve.Maintain||a===Ve.Write){i=n.remote;break}}}let r=!1;if(e&&!i){const n=await t.githubRepository.getViewerPermission();(n===Ve.Read||n===Ve.Triage||n===Ve.Unknown)&&(r=!0)}return{needsFork:r,upstream:e,remote:i}}async forkWithProgress(t,e,i,r){t.report({message:`Forking ${i}...`});const n=await e.fork();if(t.report({increment:50}),!n){o.window.showErrorMessage(`Unable to create a fork of ${i}. Check that your GitHub credentials are correct.`);return}const s=r.state.remotes.length>1?"origin":r.state.remotes[0].name;return t.report({message:"Adding remotes. This may take a few moments."}),await r.renameRemote(s,"upstream"),await r.addRemote(s,n),await new Promise(a=>{if(this.gitHubRepositories.length===0){const l=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>0&&(l.dispose(),a())})}else a()}),t.report({increment:50}),s}async doFork(t,e,i){return o.window.withProgress({location:o.ProgressLocation.Notification,title:"Creating Fork"},async r=>{try{return this.forkWithProgress(r,t,e,i)}catch(n){o.window.showErrorMessage(`Creating fork failed: ${n}`)}})}async tryOfferToFork(t){const e=`${t.remote.owner}/${t.remote.repositoryName}`,i="Fork",r="Don't Fork";switch(await o.window.showInformationMessage(`You don't have permission to push to ${e}. Do you want to fork ${e}? This will modify your git remotes to set \`origin\` to the fork, and \`upstream\` to ${e}.`,{modal:!0},i,r)){case i:return this.doFork(t,e,this.repository);case r:return!1;default:return}}dispose(){this._subs.forEach(t=>t.dispose())}};let si=it;me(si,"ID","FolderRepositoryManager");function yf(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const md=t=>{const{currentUser:e=null}=t.octokit;return e&&t.remote.owner===e.login},ai=t=>({remote:{remoteName:e}})=>e===t,Va=t=>{const e=t.indexOf(`
`);return{title:e===-1?t:t.substr(0,e),body:e===-1?"":t.slice(e+1).trim()}};var hd=Object.defineProperty,We=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?hd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class pd extends Xs{constructor(e,i,r,n){super();this._extensionUri=e,this._folderRepositoryManager=i,this._pullRequestDefaults=r,We(this,"viewType","github:createPullRequest"),We(this,"_onDone",new o.EventEmitter),We(this,"onDone",this._onDone.event),We(this,"_onDidChangeBaseRemote",new o.EventEmitter),We(this,"onDidChangeBaseRemote",this._onDidChangeBaseRemote.event),We(this,"_onDidChangeBaseBranch",new o.EventEmitter),We(this,"onDidChangeBaseBranch",this._onDidChangeBaseBranch.event),We(this,"_onDidChangeCompareRemote",new o.EventEmitter),We(this,"onDidChangeCompareRemote",this._onDidChangeCompareRemote.event),We(this,"_onDidChangeCompareBranch",new o.EventEmitter),We(this,"onDidChangeCompareBranch",this._onDidChangeCompareBranch.event),We(this,"_firstLoad",!0),We(this,"_compareBranch"),this._compareBranch=n}resolveWebviewView(e,i,r){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}get compareBranch(){return this._compareBranch}set compareBranch(e){var i,r;((e==null?void 0:e.name)!==this._compareBranch.name||((i=e==null?void 0:e.upstream)==null?void 0:i.remote)!==((r=this._compareBranch.upstream)==null?void 0:r.remote))&&(this._compareBranch=e,this.initializeParams(),this._onDidChangeCompareBranch.fire(this._compareBranch.name))}show(e){e&&(this.compareBranch=e),super.show()}async getTitle(){var e,i;const r=await this._folderRepositoryManager.getOrigin(this._compareBranch);let n=!1;if(this.compareBranch.upstream){const s=this._folderRepositoryManager.findRepo(ai(this.compareBranch.upstream.remote));if(s){const a=`${s.remote.owner}:${(e=this.compareBranch.name)!=null?e:""}`;try{(await r.compareCommits(`${this._pullRequestDefaults.owner}:${this._pullRequestDefaults.base}`,a)).total_commits>1&&(n=await r.getDefaultBranch()!==this._compareBranch.name)}catch(l){}}}return n?(i=this.compareBranch.name)!=null?i:"":this.compareBranch.name?Va(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).title:""}async getPullRequestTemplate(){const e=await this._folderRepositoryManager.getPullRequestTemplates();if(e[0])try{return(await o.workspace.fs.readFile(e[0])).toString()}catch(i){$.appendLine(`Reading pull request template failed: ${i}`);return}}async getDescription(){const e=await this.getPullRequestTemplate();return e||(this.compareBranch.name?Va(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).body:"")}async initializeParams(e=!1){var i,r;if(!this.compareBranch)throw new Ua(this._folderRepositoryManager.repository);const n={owner:this._pullRequestDefaults.owner,repositoryName:this._pullRequestDefaults.repo},s=await this._folderRepositoryManager.getOrigin(this.compareBranch),a={owner:s.remote.owner,repositoryName:s.remote.repositoryName},[l,u,c,p]=await Promise.all([this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.listBranches(this._pullRequestDefaults.owner,this._pullRequestDefaults.repo),this.getTitle(),this.getDescription()]),b=l.map(q=>({owner:q.owner,repositoryName:q.repositoryName}));let _=u;a.owner!==n.owner&&(_=await this._folderRepositoryManager.listBranches(a.owner,a.repositoryName)),this.compareBranch.name&&!_.includes(this.compareBranch.name)&&(_.push(this.compareBranch.name),_.sort()),this._postMessage({command:e?"reset":"pr.initialize",params:{availableRemotes:b,defaultBaseRemote:n,defaultBaseBranch:this._pullRequestDefaults.base,defaultCompareRemote:a,defaultCompareBranch:(i=this.compareBranch.name)!=null?i:"",branchesForRemote:u,branchesForCompare:_,defaultTitle:c,defaultDescription:p,compareBranch:(r=this.compareBranch.name)!=null?r:"",isDraft:!1}})}async changeRemote(e,i){const{owner:r,repositoryName:n}=e.args,s=this._folderRepositoryManager.findRepo(u=>r===u.remote.owner&&n===u.remote.repositoryName);if(!s)throw new Error("No matching GitHub repository found.");const a=await s.getDefaultBranch(),l=await this._folderRepositoryManager.listBranches(r,n);return!i&&this.compareBranch.name&&!l.includes(this.compareBranch.name)&&(l.push(this.compareBranch.name),l.sort()),i?(this._onDidChangeBaseRemote.fire({owner:r,repositoryName:n}),this._onDidChangeBaseBranch.fire(a)):(this._onDidChangeCompareRemote.fire({owner:r,repositoryName:n}),this._onDidChangeCompareBranch.fire(a)),this._replyMessage(e,{branches:l,defaultBranch:a})}async create(e){var i,r;try{let n,s;if(!this.compareBranch.name){this._throwError(e,"Please create a branch.");return}if(this.compareBranch.type===ht.RemoteHead){const c=this.compareBranch.name.indexOf("/");n=this.compareBranch.name.substring(c+1),s=this.compareBranch.name.substring(0,c)}else n=this.compareBranch.name,s=(i=this.compareBranch.upstream)==null?void 0:i.remote;if(!s)if(await o.window.showInformationMessage(`There is no upstream branch for '${n}'.

Do you want to publish it and then create the pull request?`,{modal:!0},"Publish branch")==="Publish branch")await o.commands.executeCommand("git.publish"),this._folderRepositoryManager.repository.state.HEAD&&(this.compareBranch=this._folderRepositoryManager.repository.state.HEAD,s=(r=this.compareBranch.upstream)==null?void 0:r.remote);else{this._throwError(e,"No upstream for the compare branch.");return}const a=this._folderRepositoryManager.findRepo(ai(s));if(!a)throw new Error(`Unable to find GitHub repository matching '${s}'.`);const l=`${a.remote.owner}:${n}`,u=await this._folderRepositoryManager.createPullRequest({...e.args,head:l});u?(await this._replyMessage(e,{}),await tt.associateBranchWithPullRequest(this._folderRepositoryManager.repository,u,n),this._onDone.fire(u)):this._throwError(e,"There must be a difference in commits to create a pull request.")}catch(n){this._throwError(e,n.message)}}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.cancelCreate":o.commands.executeCommand("setContext","github:createPullRequest",!1),this._onDone.fire(void 0);return;case"pr.create":return this.create(e);case"pr.changeBaseRemote":return this.changeRemote(e,!0);case"pr.changeBaseBranch":this._onDidChangeBaseBranch.fire(e.args);return;case"pr.changeCompareRemote":return this.changeRemote(e,!1);case"pr.changeCompareBranch":this._onDidChangeCompareBranch.fire(e.args);return;default:o.window.showErrorMessage("Unsupported webview message")}}_getHtmlForWebview(){const e=rn(),i=o.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(i).toString()}"></script>
	</body>
</html>`}}var fd=Object.defineProperty,bn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?fd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class gd{constructor(){bn(this,"fileViewedState",new Map),bn(this,"_onDidChangeFileDecorations",new o.EventEmitter),bn(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileViewedState(e,i,r,n){this.fileViewedState.set(`${i}:${r}`,n),this._onDidChangeFileDecorations.fire(e)}provideFileDecoration(e,i){if(e.scheme!=="filechange"&&e.scheme!=="github")return;const r=Pr(e);if(r){const n=`${r.prNumber}:${r.fileName}`;if(this.fileViewedState.get(n)===He.VIEWED)return{propagate:!1,badge:"\u2713",tooltip:"Viewed"}}}}const yn=new gd;var vd=Object.defineProperty,kn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?vd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class wd{constructor(){kn(this,"fileHasComments",new Map),kn(this,"_onDidChangeFileDecorations",new o.EventEmitter),kn(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileComments(e,i,r,n){const s=`${i}:${r}`;this.fileHasComments.get(s)!==n&&(this.fileHasComments.set(`${i}:${r}`,n),this._onDidChangeFileDecorations.fire(e))}provideFileDecoration(e,i){const r=Pr(e);if(r){const n=`${r.prNumber}:${r.fileName}`;if(this.fileHasComments.get(n))return{propagate:!1,tooltip:"Commented",badge:"\u{1F4AC}"}}}}const Ha=new wd;var bd=Object.defineProperty,_n=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?bd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class $e{constructor(){_n(this,"childrenDisposables"),_n(this,"parent"),_n(this,"label")}getParent(){if(this.parent instanceof $e)return this.parent}async reveal(e,i){return this.parent.reveal(e||this,i)}refresh(e){return this.parent.refresh(e)}async getChildren(){return[]}dispose(){this.childrenDisposables&&(this.childrenDisposables.forEach(e=>e.dispose()),this.childrenDisposables=[])}}var yd=Object.defineProperty,ke=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?yd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);function Ba(t){const e=o.window.activeTextEditor,i={preserveFocus:!0,viewColumn:o.ViewColumn.Active};return e&&e.document.uri.path===t.path&&(i.selection=e.selection),{command:"vscode.open",arguments:[t,i],title:"Open File"}}async function Rn(t,e,i,r,n){let s=await Nr(e,t.repository)||e,a=await Nr(i,t.repository)||i;(s.scheme==="data"||a.scheme==="data")&&(n===ne.ADD&&(s=as),n===ne.DELETE&&(a=as));const l=i.path.split("/");return{command:"vscode.diff",arguments:[s,a,`${l[l.length-1]} (Pull Request)`,r],title:"Open Changed File in PR"}}class Ci extends $e{constructor(e,i,r,n,s,a,l,u){super();this.parent=e,this.pullRequest=i,this.status=r,this.fileName=n,this.previousFileName=s,this.blobUrl=a,this.filePath=l,this.parentFilePath=u,ke(this,"description"),ke(this,"iconPath"),ke(this,"command"),ke(this,"resourceUri"),ke(this,"contextValue"),ke(this,"childrenDisposables",[]),ke(this,"_viewed");var c;const p=(c=this.pullRequest.fileChangeViewedState[n])!=null?c:He.UNVIEWED;this.contextValue=`filechange:${ne[r]}:${p===He.VIEWED?"viewed":"unviewed"}`,this.label=v.basename(n),this.description=v.relative(".",v.dirname(n)),this.iconPath=o.ThemeIcon.File,this.resourceUri=os(o.Uri.parse(this.blobUrl),i.number,n,r),this.updateViewed(p),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]},this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(b=>{const _=b.changed.find(q=>q.fileName===this.fileName);_&&(this.updateViewed(_.viewed),this.refresh(this))}))}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${ne[this.status]}:${e===He.VIEWED?"viewed":"unviewed"}`,yn.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}getTreeItem(){return this}}class ja extends $e{constructor(e,i,r,n,s,a,l,u,c,p){super();this.parent=e,this.pullRequest=i,this.status=r,this.fileName=n,this.blobUrl=s,this.filePath=a,this.parentFilePath=l,this.diffHunks=u,this.comments=c,this.sha=p,ke(this,"description"),ke(this,"iconPath"),ke(this,"resourceUri"),ke(this,"parentSha"),ke(this,"contextValue"),ke(this,"command"),ke(this,"opts"),ke(this,"childrenDisposables",[]),ke(this,"_viewed");var b;const _=(b=this.pullRequest.fileChangeViewedState[n])!=null?b:He.UNVIEWED;this.contextValue=`filechange:${ne[r]}:${_===He.VIEWED?"viewed":"unviewed"}`,this.label=v.basename(n),this.description=v.relative(".",v.dirname(n)),this.iconPath=o.ThemeIcon.File,this.opts={preserveFocus:!0},this.updateShowOptions(),this.resourceUri=os(o.Uri.file(this.fileName),this.pullRequest.number,this.fileName,this.status),this.updateViewed(_),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(q=>{[...q.added,...q.removed].some(V=>V.path===this.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(q=>{const V=q.changed.find(U=>U.fileName===this.fileName);V&&(this.updateViewed(V.viewed),this.refresh(this))}))}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${ne[this.status]}:${e===He.VIEWED?"viewed":"unviewed"}`,yn.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}updateShowOptions(){const e=this.pullRequest.reviewThreadsCache,r=(W(e,n=>n.path)[this.fileName]||[]).filter(n=>!n.isOutdated);Ha.updateFileComments(this.resourceUri,this.pullRequest.number,this.fileName,r.length>0),r.length?(r.sort((n,s)=>n.line-s.line),this.opts.selection=new o.Range(r[0].line,0,r[0].line,0)):delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return Ba(this.filePath)}async openDiff(e){var i;const r=await Rn(e,this.parentFilePath,this.filePath,this.opts,this.status);o.commands.executeCommand(r.command,...(i=r.arguments)!=null?i:[])}}class fr extends ja{constructor(e,i,r,n,s,a,l,u,c,p,b,_,q,V){super(i,r,n,s,l,u,c,_,q,V);this.folderRepositoryManager=e,this.parent=i,this.pullRequest=r,this.status=n,this.fileName=s,this.previousFileName=a,this.blobUrl=l,this.filePath=u,this.parentFilePath=c,this.isPartial=p,this.patch=b,this.diffHunks=_,this.comments=q,this.sha=V}getTreeItem(){return this}async resolve(){this.command=await Rn(this.folderRepositoryManager,this.parentFilePath,this.filePath,void 0,this.status)}}class oi extends ja{constructor(e,i,r,n,s,a,l,u,c,p=[],b){super(e,r,n,s,a,l,u,c,p,b);this.parent=e,this.pullRequestManager=i,this.pullRequest=r,this.status=n,this.fileName=s,this.blobUrl=a,this.filePath=l,this.parentFilePath=u,this.diffHunks=c,this.comments=p,this.sha=b,ke(this,"_useViewChangesCommand",!1)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===ne.DELETE||this.status===ne.ADD){const _=this.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===ne.DELETE?[this.parentFilePath,_,`${this.fileName}`,{preserveFocus:!0}]:[_,this.parentFilePath,`${this.fileName}`,{preserveFocus:!0}],title:"Open Diff"}}const{path:e,ref:i,commit:r,rootPath:n}=Wt(this.filePath),s=`${r}^`,a={path:e,ref:i,commit:s,base:!0,isOutdated:!0,rootPath:n},l=this.filePath.with({query:JSON.stringify(a)}),u={preserveFocus:!0},c=this.pullRequest.reviewThreadsCache,b=(W(c,_=>_.path)[this.fileName]||[]).filter(_=>_.isOutdated).sort((_,q)=>_.line-q.line);return b.length&&(u.selection=new o.Range(b[0].originalLine,0,b[0].originalLine,0)),{command:"vscode.diff",arguments:[l,this.filePath,`${this.fileName} from ${(r||"").substr(0,8)}`,u],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():o.workspace.getConfiguration().get("git.openDiffOnClick")?this.command=await Rn(this.pullRequestManager,this.parentFilePath,this.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class kd extends $e{constructor(e,i,r,n,s,a){super();this.parent=e,this.fileName=i,this.previousFileName=r,this.status=n,this.baseBranch=s,this.headBranch=a,ke(this,"description"),ke(this,"iconPath"),ke(this,"resourceUri"),ke(this,"command"),this.label=i,this.iconPath=o.ThemeIcon.File,this.resourceUri=o.Uri.file(i).with({scheme:"github",query:JSON.stringify({status:n,fileName:i})});let l=o.Uri.file(i).with({scheme:"github",query:JSON.stringify({fileName:i,branch:s})}),u=o.Uri.file(i).with({scheme:"github",query:JSON.stringify({fileName:i,branch:a})});switch(n){case ne.ADD:l=o.Uri.file(i).with({scheme:"github",query:JSON.stringify({fileName:i,branch:s,isEmpty:!0})});break;case ne.RENAME:l=o.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:s,isEmpty:!0})});break;case ne.DELETE:u=o.Uri.file(i).with({scheme:"github",query:JSON.stringify({fileName:i,branch:a,isEmpty:!0})});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[l,u,`${i} (Pull Request Preview)`]}}getTreeItem(){return this}}function Sn(t){return t.filter(e=>e instanceof oi)}var _d=Object.defineProperty,li=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?_d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Rd{constructor(e,i,r,n,s,a,l){this.repository=e,this.baseOwner=i,this.baseBranchName=r,this._compareOwner=n,this.compareBranchName=s,this.compareHasUpstream=a,this.folderRepoManager=l,li(this,"_view"),li(this,"_onDidChangeTreeData",new o.EventEmitter),li(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),li(this,"_contentProvider"),li(this,"_disposables",[]),li(this,"_gitHubRepository"),this._view=o.window.createTreeView("github:compareChanges",{treeDataProvider:this}),this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find(u=>u.remote.owner===this._compareOwner),this._disposables.push(this._view)}get view(){return this._view}updateBaseBranch(e){this.baseBranchName=e,this._onDidChangeTreeData.fire()}updateBaseOwner(e){this.baseOwner=e,this._onDidChangeTreeData.fire()}async reveal(e,i){return this._view.reveal(e,i)}refresh(){this._onDidChangeTreeData.fire()}async updateHasUpstream(e){var i;if(((i=this.repository.state.HEAD)==null?void 0:i.name)===e){const r=await this.repository.getBranch(e);this.compareHasUpstream=!!r.upstream}else this.compareHasUpstream=!0}async updateCompareBranch(e){await this.updateHasUpstream(e),this.compareBranchName=e,this._onDidChangeTreeData.fire()}get compareOwner(){return this._compareOwner}set compareOwner(e){this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find(i=>i.remote.owner===e),this._contentProvider&&this._gitHubRepository&&(this._contentProvider.gitHubRepository=this._gitHubRepository),this._compareOwner=e,this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getChildren(){if(this.compareHasUpstream)o.commands.executeCommand("setContext","github:noUpstream",!1);else return o.commands.executeCommand("setContext","github:noUpstream",!0),this._view.message=void 0,[];if(!this._gitHubRepository)return[];this._contentProvider||(this._contentProvider=new Sd(this._gitHubRepository),this._disposables.push(o.workspace.registerTextDocumentContentProvider("github",this._contentProvider)));const{octokit:e,remote:i}=await this._gitHubRepository.ensure();try{const{data:r}=await e.repos.compareCommits({repo:i.repositoryName,owner:i.owner,base:`${this.baseOwner}:${this.baseBranchName}`,head:`${this.compareOwner}:${this.compareBranchName}`});return r.files.length?this._view.message=void 0:this._view.message=`The are no commits between the base '${this.baseBranchName}' branch and the comparing '${this.compareBranchName}' branch`,r.files.map(n=>new kd(this,n.filename,n.previous_filename,Ir(n.status),r.merge_base_commit.sha,this.compareBranchName))}catch(r){return $.appendLine(`Comparing changes failed: ${r}`),[]}}dispose(){this._disposables.forEach(e=>e.dispose())}}class Sd{constructor(e){this.gitHubRepository=e}async provideTextDocumentContent(e,i){var r;const n=vl(e);if(!n||n.isEmpty)return"";const{octokit:s,remote:a}=await this.gitHubRepository.ensure(),l=await s.repos.getContent({owner:a.owner,repo:a.repositoryName,path:n.fileName,ref:n.branch}),u=(r=l.data.content)!=null?r:"";return Buffer.from(u,l.data.encoding).toString()}}var Ed=Object.defineProperty,Ti=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ed(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Cd{constructor(e){this.repository=e,Ti(this,"_disposables",[]),Ti(this,"_createPRViewProvider"),Ti(this,"_treeView"),Ti(this,"_onDidCreate",new o.EventEmitter),Ti(this,"onDidCreate",this._onDidCreate.event)}registerListeners(e){this._disposables.push(this._createPRViewProvider.onDone(async i=>{var r,n;o.commands.executeCommand("setContext","github:createPullRequest",!1),(r=this._createPRViewProvider)==null||r.dispose(),this._createPRViewProvider=void 0,(n=this._treeView)==null||n.dispose(),this._treeView=void 0,this._disposables.forEach(s=>s.dispose()),i&&this._onDidCreate.fire(i)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareBranch(i=>{var r;(r=this._treeView)==null||r.updateCompareBranch(i)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareRemote(i=>{this._treeView&&(this._treeView.compareOwner=i.owner)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseBranch(i=>{var r;(r=this._treeView)==null||r.updateBaseBranch(i)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseRemote(i=>{var r;(r=this._treeView)==null||r.updateBaseOwner(i.owner)})),e&&this._disposables.push(this.repository.state.onDidChange(i=>{this._createPRViewProvider&&this.repository.state.HEAD&&(this._createPRViewProvider.compareBranch=this.repository.state.HEAD)}))}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,i){if(e.gitHubRepositories.some(r=>r.remote.owner===i.owner&&r.remote.repositoryName===i.repo))return i;{const r=await e.getOrigin(),n=await e.getMetadata(r.remote.remoteName);return{owner:n.owner.login,repo:n.name,base:n.default_branch}}}async create(e,i,r){var n;o.commands.executeCommand("setContext","github:createPullRequest",!0);const s=(n=r?await i.repository.getBranch(r):void 0)!=null?n:i.repository.state.HEAD;if(!this._createPRViewProvider){const a=await this.ensureDefaultsAreLocal(i,await i.getPullRequestDefaults(s));this._createPRViewProvider=new pd(e,i,a,s);const l=await i.getOrigin(s);this._treeView=new Rd(this.repository,a.owner,a.base,l.remote.owner,s.name,!!s.upstream,i),this.registerListeners(!r),this._disposables.push(o.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}this._createPRViewProvider.show(s)}}var Td=Object.defineProperty,Qa=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Td(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Wa{constructor(e,i,r,n,s=`${e}:${i}`){this.owner=e,this.name=i,this.description=r,this.remote=n,this.label=s,Qa(this,"detail"),Qa(this,"picked")}static fromRemote(e){return new this(e.owner,e.repositoryName,e.url,e)}}function Ni(t){return t===void 0||t===0?0:t-1}function kf(t,e){for(let i=0;i<t.length;i++){const r=t[i];for(let n=0;n<r.diffLines.length;n++)if(r.diffLines[n].positionInHunk===e)return r.diffLines[n]}}function En(t,e){const i=vi(t);let r=i.next(),n=0;for(;!r.done;){const s=r.value;if(!(s.oldLineNumber>e))if(s.oldLineNumber+s.oldLength-1<e)n+=s.newLength-s.oldLength;else return n+=s.newLength-s.oldLength,e+n;r=i.next()}return e+n}function Cn(t,e){const i=vi(t);let r=i.next(),n=0;for(;!r.done;){const s=r.value;if(!(s.newLineNumber>e))if(s.newLineNumber+s.newLength-1<e)n+=s.oldLength-s.newLength;else return n+=s.oldLength-s.newLength,e+n;r=i.next()}return e+n}function za(t,e){const i=[];for(let r=0;r<t.length;r++){const n=t[r];let s,a;if(e){let l;for(let u=0;u<n.diffLines.length;u++){const c=n.diffLines[u];c.type===Be.Delete?(s!==void 0||(s=Ni(c.oldLineNumber)),l=Ni(c.oldLineNumber)):s!==void 0&&l!==void 0&&(i.push(new o.Range(s,0,l,0)),s=void 0,l=void 0)}s!==void 0&&l!==void 0&&(i.push(new o.Range(s,0,l,0)),s=void 0,l=void 0)}else n.newLineNumber&&(s=Ni(n.newLineNumber),a=Ni(n.newLength),i.push(new o.Range(s,0,s+a,0)))}return i}var Nd=Object.defineProperty,ut=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Nd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Pd{constructor(e,i,r,n){this._reviewManager=e,this._reposManager=i,this._repository=r,this._localFileChanges=n,ut(this,"_localToDispose",[]),ut(this,"_onDidChangeComments",new o.EventEmitter),ut(this,"onDidChangeComments",this._onDidChangeComments.event),ut(this,"_commentHandlerId"),ut(this,"_commentController"),ut(this,"_workspaceFileChangeCommentThreads",{}),ut(this,"_reviewSchemeFileChangeCommentThreads",{}),ut(this,"_obsoleteFileChangeCommentThreads",{}),ut(this,"_visibleNormalTextEditors",[]),ut(this,"_pendingCommentThreadAdds",[]),this._commentController=o.comments.createCommentController(`github-review-${i.activePullRequest.number}`,i.activePullRequest.title),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this._localToDispose.push(this._commentController),this._commentHandlerId=Js(),ns(this._commentHandlerId,this)}get commentController(){return this._commentController}async initialize(){this._visibleNormalTextEditors=o.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._reposManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}createOutdatedCommentThread(e,i){const r=i.comments[0].originalCommitId,n=o.Uri.file(v.join(`commit~${r.substr(0,8)}`,e)),s=st(n,e,void 0,r,!0,{base:i.diffSide===ve.LEFT},this._repository.rootUri),a=new o.Range(new o.Position(i.originalLine-1,0),new o.Position(i.originalLine-1,0));return Si(s,a,i,this._commentController)}async createWorkspaceCommentThread(e,i,r){let n=r.line;const s=await this._repository.diffWithHEAD(i);s&&(n=En(s,r.line));const a=new o.Range(new o.Position(n-1,0),new o.Position(n-1,0));return Si(e,a,r,this._commentController)}createReviewCommentThread(e,i,r){const n=st(e,i,void 0,this._reposManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),s=new o.Range(new o.Position(r.line-1,0),new o.Position(r.line-1,0));return Si(n,s,r,this._commentController)}async initializeCommentThreads(){if(!this._reposManager.activePullRequest||!this._reposManager.activePullRequest.isResolved())return;const e=this._reposManager.activePullRequest.reviewThreadsCache,i=W(e,r=>r.path);Object.keys(i).forEach(r=>{const n=i[r],s=n[0];if(s){const a=v.join(this._repository.rootUri.path,s.path).replace(/\\/g,"/"),l=this._repository.rootUri.with({path:a});let u=[],c=[],p=[];const b=n.map(async _=>{_.isOutdated?p.push(this.createOutdatedCommentThread(r,_)):_.diffSide===ve.RIGHT?u.push(await this.createWorkspaceCommentThread(l,r,_)):c.push(this.createReviewCommentThread(l,r,_))});Promise.all(b),this._workspaceFileChangeCommentThreads[r]=u,this._reviewSchemeFileChangeCommentThreads[r]=c,this._obsoleteFileChangeCommentThreads[r]=p}})}async registerListeners(){this._localToDispose.push(this._reposManager.activePullRequest.onDidChangePendingReviewState(e=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const r in i)i[r].forEach(n=>{na(n,e),ti(n)})})})),this._localToDispose.push(this._reposManager.activePullRequest.onDidChangeReviewThreads(e=>{e.added.forEach(async i=>{const{path:r}=i,n=this._pendingCommentThreadAdds.findIndex(async l=>{const u=this.gitRelativeRootPath(l.uri.path);if(u!==i.path)return!1;const c=await this.getContentDiff(l.uri,u);return Cn(c,l.range.start.line)+1===i.line});let s;if(n>-1)s=this._pendingCommentThreadAdds[n],s.threadId=i.id,s.comments=i.comments.map(l=>new Ce(l,s)),this._pendingCommentThreadAdds.splice(n,1);else{const l=v.join(this._repository.rootUri.path,r).replace(/\\/g,"/"),u=this._repository.rootUri.with({path:l});i.isOutdated?s=this.createOutdatedCommentThread(r,i):i.diffSide===ve.RIGHT?s=await this.createWorkspaceCommentThread(u,r,i):s=this.createReviewCommentThread(u,r,i)}const a=i.isOutdated?this._obsoleteFileChangeCommentThreads:i.diffSide===ve.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;a[r]?a[r].push(s):a[r]=[s]}),e.changed.forEach(i=>{const r=i.isOutdated?this._obsoleteFileChangeCommentThreads:i.diffSide===ve.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,n=r[i.path].findIndex(s=>s.threadId===i.id);if(n>-1){const s=r[i.path][n];ra(s,i)}}),e.removed.forEach(i=>{const r=i.isOutdated?this._obsoleteFileChangeCommentThreads:i.diffSide===ve.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,n=r[i.path].findIndex(s=>s.threadId===i.id);if(n>-1){const s=r[i.path][n];r[i.path].splice(n,1),s.dispose()}})}))}visibleEditorsEqual(e,i){if(e=e.filter(r=>r.document.uri.scheme!=="comment"),i=i.filter(r=>r.document.uri.scheme!=="comment"),e=w(e,r=>r.document.uri.toString()),i=w(i,r=>r.document.uri.toString()),e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!i.find(s=>s.document.uri.toString()===e[r].document.uri.toString()))return!1;return!0}hasCommentThread(e){if(e.uri.scheme==="review")return!0;const i=o.workspace.getWorkspaceFolder(e.uri);return i?!!(e.uri.scheme===i.uri.scheme&&e.uri.fsPath.startsWith(this._repository.rootUri.fsPath)):!1}async provideCommentingRanges(e,i){let r;try{r=Wt(e.uri)}catch(s){}if(r){const s=this.findMatchedFileChangeForReviewDiffView(this._localFileChanges,e.uri);if(s)return za(s.diffHunks,r.base)}const n=o.workspace.getWorkspaceFolder(e.uri);if(!!n&&e.uri.scheme===n.uri.scheme){if(!this._reposManager.activePullRequest.isResolved())return;const s=this.gitRelativeRootPath(e.uri.path),a=Sn(this._localFileChanges).find(u=>u.fileName===s),l=[];if(a){if(a.status===ne.RENAME)return[];const u=await this.getContentDiff(e.uri,a.fileName),c=a.diffHunks;for(let p=0;p<c.length;p++){const b=c[p],_=En(u,b.newLineNumber),q=En(u,b.newLineNumber+b.newLength-1);_>0&&q>0&&l.push(new o.Range(_-1,0,q-1,0))}}return l}}async getContentDiff(e,i){const r=o.window.visibleTextEditors.find(n=>n.document.uri.toString()===e.toString());if(r&&r.document.isDirty){const n=r.document.getText(),a=(await this._repository.getObjectDetails(this._reposManager.activePullRequest.head.sha,i)).object,l=await this._repository.hashObject(n);return await this._repository.diffBlobs(a,l)}else return await this._repository.diffWith(this._reposManager.activePullRequest.head.sha,i)}findMatchedFileChangeForReviewDiffView(e,i){const r=Wt(i),n=e.filter(s=>{if(s instanceof Ci||s.fileName!==r.path)return!1;if(s.filePath.scheme!=="review"&&s.sha===r.commit)return!0;try{if(JSON.parse(s.filePath.query).commit===r.commit)return!0}catch(a){}try{if(JSON.parse(s.parentFilePath.query).commit===r.commit)return!0}catch(a){}return!1});if(n&&n.length)return n[0]}gitRelativeRootPath(e){return v.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}getCommentSide(e){return e.uri.scheme==="review"&&Wt(e.uri).base?ve.LEFT:ve.RIGHT}async startReview(e,i){const r=e.comments.length,n=this.optimisticallyAddComment(e,i,!0);try{if(r){const s=e.comments[0];if(s instanceof Ce)await this._reposManager.activePullRequest.createCommentReply(i,s._rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const s=this.gitRelativeRootPath(e.uri.path),a=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let l;if(a===ve.RIGHT){const u=await this.getContentDiff(e.uri,s);l=Cn(u,e.range.start.line)}else l=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(i,s,l+1,a)}}catch(s){o.window.showErrorMessage(`Starting review failed: ${s}`),e.comments=e.comments.map(a=>(a instanceof je&&a.id===n&&(a.mode=o.CommentMode.Editing),a))}}async openReview(){await this._reviewManager.openDescription(),Ke.scrollToReview()}optimisticallyAddComment(e,i,r){const n=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),s=new je(e,i,r,n);return this.updateCommentThreadComments(e,[...e.comments,s]),s.id}updateCommentThreadComments(e,i){e.comments=i,ti(e)}optimisticallyEditComment(e,i){const r=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),n=new je(e,i.body instanceof o.MarkdownString?i.body.value:i.body,!!i.label,r,i);return e.comments=e.comments.map(s=>s instanceof Ce&&s.commentId===i.commentId?n:s),n.id}async createOrReplyComment(e,i,r,n){const s=e.comments.length,a=r?!1:n!==void 0?n:this._reposManager.activePullRequest.hasPendingReview,l=this.optimisticallyAddComment(e,i,a);try{if(s){const u=e.comments[0];if(u instanceof Ce)await this._reposManager.activePullRequest.createCommentReply(i,u._rawComment.graphNodeId,r);else throw new Error("Cannot reply to temporary comment")}else{const u=this.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const c=this.getCommentSide(e);let p;if(c===ve.RIGHT){const b=await this.getContentDiff(e.uri,u);p=Cn(b,e.range.start.line)}else p=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(i,u,p+1,c,r)}r&&await this._reposManager.activePullRequest.submitReview()}catch(u){o.window.showErrorMessage(`Creating comment failed: ${u}`),e.comments=e.comments.map(c=>(c instanceof je&&c.id===l&&(c.mode=o.CommentMode.Editing),c))}}async createCommentOnResolve(e,i){const r=await this._reposManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,i,!r)}async resolveReviewThread(e,i){try{i&&await this.createCommentOnResolve(e,i),await this._reposManager.activePullRequest.resolveReviewThread(e.threadId)}catch(r){o.window.showErrorMessage(`Resolving conversation failed: ${r}`)}}async unresolveReviewThread(e,i){try{i&&await this.createCommentOnResolve(e,i),await this._reposManager.activePullRequest.unresolveReviewThread(e.threadId)}catch(r){o.window.showErrorMessage(`Unresolving conversation failed: ${r}`)}}async editComment(e,i){if(i instanceof Ce){const r=this.optimisticallyEditComment(e,i);try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");await this._reposManager.activePullRequest.editReviewComment(i._rawComment,i.body instanceof o.MarkdownString?i.body.value:i.body)}catch(n){o.window.showErrorMessage(A(n)),e.comments=e.comments.map(s=>s instanceof je&&s.id===r?new Ce(i._rawComment,e):s)}}else this.createOrReplyComment(e,i.body instanceof o.MarkdownString?i.body.value:i.body,!1)}async deleteComment(e,i){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");i instanceof Ce?await this._reposManager.activePullRequest.deleteReviewComment(i.commentId):e.comments=e.comments.filter(n=>!(n instanceof je&&n.id===i.id)),e.comments.length===0?e.dispose():ti(e);const r=await this._reposManager.activePullRequest.validateDraftMode();r!==this._reposManager.activePullRequest.hasPendingReview&&(this._reposManager.activePullRequest.hasPendingReview=r),this.update(this._localFileChanges)}catch(r){throw new Error(A(r))}}async update(e){await this._reposManager.activePullRequest.validateDraftMode(),this._localFileChanges=e}async toggleReaction(e,i){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(r=>r.label===i.label&&!!r.authorHasReacted)?await this._reposManager.activePullRequest.addCommentReaction(e._rawComment.graphNodeId,i):await this._reposManager.activePullRequest.deleteCommentReaction(e._rawComment.graphNodeId,i)}catch(r){throw new Error(A(r))}}dispose(){this._commentController&&this._commentController.dispose(),ss(this._commentHandlerId),this._localToDispose.forEach(e=>e.dispose())}}var Fd=Object.defineProperty,Fe=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Fd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Ka=class{constructor(t,e,i,r,n){this._context=t,this._repository=e,this._folderRepoManager=i,this._telemetry=r,this.changesInPrDataProvider=n,Fe(this,"_localToDispose",[]),Fe(this,"_disposables"),Fe(this,"_comments",[]),Fe(this,"_localFileChanges",[]),Fe(this,"_obsoleteFileChanges",[]),Fe(this,"_lastCommitSha"),Fe(this,"_updateMessageShown",!1),Fe(this,"_validateStatusInProgress"),Fe(this,"_reviewCommentController"),Fe(this,"_statusBarItem"),Fe(this,"_prNumber"),Fe(this,"_previousRepositoryState"),Fe(this,"_webviewViewProvider"),Fe(this,"_createPullRequestHelper"),Fe(this,"_switchingToReviewMode"),Fe(this,"justSwitchedToRevieMode",!1),Fe(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._disposables=[],this._previousRepositoryState={HEAD:e.state.HEAD,remotes:_i(this._repository)},this.registerListeners(),this.updateState(),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(t){this._switchingToReviewMode=t,t||this.updateState()}registerListeners(){this._disposables.push(this._repository.state.onDidChange(t=>{const e=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!e&&!i)return;let r;!e||!i?r=!1:r=e.upstream?i.upstream&&e.upstream.name===i.upstream.name&&e.upstream.remote===i.upstream.remote:!i.upstream;const n=r&&e.ahead===i.ahead&&e.behind===i.behind&&e.commit===i.commit&&e.name===i.name&&e.remote===i.remote&&e.type===i.type,s=_i(this._repository),a=this._previousRepositoryState.remotes.length===s.length&&this._previousRepositoryState.remotes.every(l=>s.some(u=>l.equals(u)));(!n||!a)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:s},this.updateState(!!e))})),this._disposables.push(o.workspace.onDidChangeConfiguration(t=>{this.updateFocusedViewMode()})),this._disposables.push(this._folderRepoManager.onDidChangeActivePullRequest(t=>{this.updateFocusedViewMode()})),this._disposables.push(o.window.registerTerminalLinkProvider(new Ic(this,this._folderRepoManager)))}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=o.window.createStatusBarItem(o.StatusBarAlignment.Left)),this._statusBarItem}get repository(){return this._repository}get localFileChanges(){return this._localFileChanges}pollForStatusChange(){setTimeout(async()=>{this._validateStatusInProgress||await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}async checkBranchUpToDate(t){var e;const i=this._repository.state.HEAD;if(i){const r=i.upstream?i.upstream.remote:null;r&&(await this._repository.fetch(r,(e=this._repository.state.HEAD)==null?void 0:e.name),(t.head.sha!==this._lastCommitSha||i.behind!==void 0&&i.behind>0)&&!this._updateMessageShown&&(this._updateMessageShown=!0,await o.window.showInformationMessage("There are updates available for this pull request.",{},"Pull")==="Pull"&&(await o.commands.executeCommand("git.pull"),this._updateMessageShown=!1)))}}async updateState(t=!1){if(!this.switchingToReviewMode)return this._validateStatusInProgress?($.appendLine("Review> Queuing additional validate state"),this._validateStatusInProgress=this._validateStatusInProgress.then(async e=>await this.validateState(t)),this._validateStatusInProgress):($.appendLine("Review> Validate state in progress"),this._validateStatusInProgress=this.validateState(t),this._validateStatusInProgress)}async validateState(t){if($.appendLine("Review> Validating state..."),await this._folderRepoManager.updateRepositories(t),!this._repository.state.HEAD){this.clear(!0);return}const e=this._repository.state.HEAD;let i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i){$.appendLine(`Review> no matching pull request metadata found for current branch ${e.name}`);const u=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub();u&&(tt.associateBranchWithPullRequest(this._repository,u.model,e.name),i=u)}if(!i){$.appendLine(`Review> no matching pull request metadata found on GitHub for current branch ${e.name}`),this.clear(!0);return}const r=e.commit!==this._lastCommitSha&&e.ahead===0&&e.behind===0;if(this._prNumber===i.prNumber&&!r){o.commands.executeCommand("pr.refreshList");return}if(!(e.upstream?e.upstream.remote:null)){$.appendLine(`Review> current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`),this.clear(!0);return}$.appendLine(`Review> current branch ${this._repository.state.HEAD.name} is associated with pull request #${i.prNumber}`),this.clear(!1),this._prNumber=i.prNumber,this._lastCommitSha=void 0;const{owner:s,repositoryName:a}=i;$.appendLine("Review> Resolving pull request");const l=await this._folderRepoManager.resolvePullRequest(s,a,i.prNumber);if(!l||!l.isResolved()){this._prNumber=void 0,$.appendLine("Review> This PR is no longer valid");return}if(this._folderRepoManager.activePullRequest=l,this._lastCommitSha=l.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this.checkBranchUpToDate(l)),$.appendLine("Review> Fetching pull request data"),await this.getPullRequestData(l),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,l,this._localFileChanges,this._comments,this.justSwitchedToRevieMode),this.justSwitchedToRevieMode=!1,$.appendLine("Review> register comments provider"),await this.registerCommentController(),this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(l):(this._webviewViewProvider=new Dc(this._context.extensionUri,this._folderRepoManager,l),this._context.subscriptions.push(o.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider)),this._context.subscriptions.push(o.commands.registerCommand("pr.refreshActivePullRequest",u=>{var c;(c=this._webviewViewProvider)==null||c.refresh()})),!t&&this._context.workspaceState.get(Ot)&&o.env.remoteName==="codespaces"&&this._webviewViewProvider.show()),this.statusBarItem.text=`$(git-branch) Pull Request #${this._prNumber}`,this.statusBarItem.command={command:"pr.openDescription",title:"View Pull Request Description",arguments:[l]},$.appendLine("Review> display pull request status bar indicator and refresh pull request tree view."),this.statusBarItem.show(),o.commands.executeCommand("pr.refreshList"),!t&&this._context.workspaceState.get(Ot)&&o.env.remoteName==="codespaces"&&this.localFileChanges.length>0){let u;for(const c of this.localFileChanges)if(c.status===ne.MODIFY){u=c;break}u=u!=null?u:this.localFileChanges[0],u.openDiff(this._folderRepoManager)}this._validateStatusInProgress=void 0}async updateComments(){const t=this._repository.state.HEAD;if(!t)return;const e=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!e||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const r=await this._folderRepoManager.resolvePullRequest(e.owner,e.repositoryName,this._prNumber);if(!r||!r.isResolved()){$.appendLine("Review> This PR is no longer valid");return}return await this.checkBranchUpToDate(r),await this.getPullRequestData(r),await this._reviewCommentController.update(this._localFileChanges),Promise.resolve(void 0)}async getLocalChangeNodes(t,e,i){const r=[],n=t.mergeBase||t.base.sha,s=t.head.sha;for(let a=0;a<e.length;a++){const l=e[a];let u=[];if(l instanceof ds)u=l.diffHunks;else if(l.status!==ne.RENAME)try{const V=await this._repository.diffBetween(t.base.sha,t.head.sha,l.fileName);u=Dr(V)}catch(V){$.appendLine(`Failed to parse patch for outdated comments: ${V}`)}const c=v.join(this._repository.rootUri.path,l.fileName).replace(/\\/g,"/"),p=this._repository.rootUri.with({path:c}),b=l.status===ne.DELETE?st(p,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):p,_=st(p,l.status===ne.RENAME?l.previousFileName:l.fileName,void 0,l.status===ne.ADD?"":n,!1,{base:!0},this._repository.rootUri),q=new oi(this.changesInPrDataProvider,this._folderRepoManager,t,l.status,l.fileName,l.blobUrl,b,_,u,i.filter(V=>V.path===l.fileName),s);r.push(q)}return r}async getPullRequestData(t){try{this._comments=await t.getReviewComments(),await t.initializeReviewThreadCache(),await t.getPullRequestFileViewState();const e=this._comments.filter(l=>l.position),i=this._comments.filter(l=>!l.position),r=await t.getFileChangesInfo(),n=t.mergeBase||t.base.sha,s=await Ar(r,this._repository,n);this._localFileChanges=await this.getLocalChangeNodes(t,s,e);const a=W(i,l=>l.originalCommitId);this._obsoleteFileChanges=[];for(const l in a){const u=a[l],c=W(u,p=>p.path);for(const p in c){let b=[];try{const U=await this._repository.diffBetween(t.base.sha,l,p);b=Dr(U)}catch(U){$.appendLine(`Failed to parse patch for outdated comments: ${U}`)}const _=c[p],q=o.Uri.file(v.join(`commit~${l.substr(0,8)}`,p)),V=new oi(this.changesInPrDataProvider,this._folderRepoManager,t,ne.MODIFY,p,void 0,st(q,p,void 0,_[0].originalCommitId,!0,{base:!1},this._repository.rootUri),st(q,p,void 0,_[0].originalCommitId,!0,{base:!0},this._repository.rootUri),b,_,l);this._obsoleteFileChanges.push(V)}}return Promise.resolve(void 0)}catch(e){$.appendLine(`Review> ${e}`)}}async registerCommentController(){this._reviewCommentController=new Pd(this,this._folderRepoManager,this._repository,this._localFileChanges),await this._reviewCommentController.initialize(),this._localToDispose.push(this._reviewCommentController),this._localToDispose.push(this._reviewCommentController.onDidChangeComments(t=>{this._comments=t}))}async switch(t){$.appendLine(`Review> switch to Pull Request #${t.number} - start`),this.statusBarItem.text="$(sync~spin) Switching to Review Mode",this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await this._folderRepoManager.checkoutExistingPullRequestBranch(t)||await this._folderRepoManager.fetchAndCheckout(t)}catch(e){if($.appendLine(`Review> checkout failed #${JSON.stringify(e)}`),this.switchingToReviewMode=!1,e.gitErrorCode&&(e.gitErrorCode===Rt.LocalChangesOverwritten||e.gitErrorCode===Rt.DirtyWorkTree)){o.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}o.window.showErrorMessage(A(e));return}try{this.statusBarItem.text=`$(sync~spin) Fetching additional data: pr/${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(t),this._telemetry.sendTelemetryEvent("pr.checkout"),$.appendLine(`Review> switch to Pull Request #${t.number} - done`,Ka.ID)}finally{this.switchingToReviewMode=!1,this.justSwitchedToRevieMode=!0,this.statusBarItem.text=`Pull Request #${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._repository.status()}}async publishBranch(t){const e=await this._folderRepoManager.getAllGitHubRemotes();let i=(await this.getRemote(e,`Pick a remote to publish the branch '${t.name}' to:`)).remote;if(!i||t.name===void 0)return;const r=this._folderRepoManager.createGitHubRepository(i,this._folderRepoManager.credentialStore),n=await r.getViewerPermission();if(n===Ve.Read||n===Ve.Triage||n===Ve.Unknown){const a=await this._folderRepoManager.tryOfferToFork(r);if(!a)return;i=this._folderRepoManager.getGitHubRemotes().find(l=>l.remoteName===a)}if(!i)return;const s=i;return new Promise(async a=>{const l=o.window.createInputBox();l.value=t.name,l.ignoreFocusOut=!0,l.prompt=e.length===1?`The branch '${t.name}' is not published yet, pick a name for the upstream branch`:"Pick a name for the upstream branch";const u=async function(c){try{l.busy=!0,await this._reposManager.getBranch(s,c)?l.validationMessage=`Branch ${c} already exists in ${s.owner}/${s.repositoryName}`:l.validationMessage=void 0}catch(p){l.validationMessage=void 0}l.busy=!1};await u(t.name),l.onDidChangeValue(u.bind(this)),l.onDidAccept(async()=>{l.validationMessage=void 0,l.hide();try{await this._repository.push(s.remoteName,`${t.name}:${l.value}`,!0)}catch(p){throw p.gitErrorCode===Rt.PushRejected&&(o.window.showWarningMessage("Can't push refs to remote, try running 'git pull' first to integrate with your change",{modal:!0}),a(void 0)),p.gitErrorCode===Rt.RemoteConnectionError&&(o.window.showWarningMessage(`Could not read from remote repository '${s.remoteName}'. Please make sure you have the correct access rights and the repository exists.`,{modal:!0}),a(void 0)),p}const c=await this._repository.getBranch(t.name);(!c||!c.upstream)&&a(void 0),a(c)}),l.show()})}async getRemote(t,e,i){if(!t.length){o.window.showWarningMessage("No GitHub remotes found. Add a remote and try again.");return}if(t.length===1&&!i)return Wa.fromRemote(t[0]);if(t.length===1&&i&&i.owner===t[0].owner&&i.name===t[0].repositoryName)return i;let r=!1;const n=t.map(a=>{const l=Wa.fromRemote(a);if(i){const{owner:u,name:c}=i;l.picked=l.owner===u&&l.name===c,l.picked&&(r=!0)}return l});!r&&i&&n.unshift(i);const s=await o.window.showQuickPick(n,{ignoreFocusOut:!0,placeHolder:e});if(!!s)return s}async createPullRequest(t){this._createPullRequestHelper||(this._createPullRequestHelper=new Cd(this.repository),this._createPullRequestHelper.onDidCreate(async e=>{await this.updateState();const i=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Pn(this._context,this._telemetry,e,i,this._folderRepoManager)})),this._createPullRequestHelper.create(this._context.extensionUri,this._folderRepoManager,t)}async openDescription(){const t=this._folderRepoManager.activePullRequest;if(!t)return;const e=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Pn(this._context,this._telemetry,t,e,this._folderRepoManager)}get isCreatingPullRequest(){var t,e;return(e=(t=this._createPullRequestHelper)==null?void 0:t.isCreatingPullRequest)!=null?e:!1}async updateFocusedViewMode(){o.workspace.getConfiguration(yt).get("focusedMode")&&this._folderRepoManager.activePullRequest?(o.commands.executeCommand("setContext",Ot,!0),await this._context.workspaceState.update(Ot,!0)):(o.commands.executeCommand("setContext",Ot,!1),this._context.workspaceState.update(Ot,!1))}clear(t){this._updateMessageShown=!1,this._localToDispose.forEach(e=>e.dispose()),t&&(this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this.changesInPrDataProvider&&this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._comments=[],o.commands.executeCommand("pr.refreshList"))}async provideTextDocumentContent(t){const{path:e,commit:i}=Wt(t);let r=Sn(this._localFileChanges).filter(n=>n.fileName===e).filter(n=>n.sha===i||(n.parentSha?n.parentSha:`${n.sha}^`)===i);if(r.length){const n=r[0],s=i===n.sha?Be.Delete:Be.Add;return n.diffHunks.map(l=>l.diffLines.filter(u=>u.type!==s).map(u=>u.text)).reduce((l,u)=>l.concat(...u),[]).join(`
`)}if(r=Sn(this._obsoleteFileChanges).filter(n=>n.fileName===e).filter(n=>n.sha===i||(n.parentSha?n.parentSha:`${n.sha}^`)===i),r.length){const n=r[0],s=i===n.sha?Be.Delete:Be.Add,a=[],l=W(n.comments,u=>String(u.originalPosition));for(const u in l){if(!l[u][0].diffHunks)continue;const c=l[u][0].diffHunks.map(p=>p.diffLines.filter(b=>b.type!==s).map(b=>b.text)).reduce((p,b)=>p.concat(...b),[]);a.push(...c)}return a.join(`
`)}}dispose(){this.clear(!0),this._disposables.forEach(t=>{t.dispose()})}static getReviewManagerForRepository(t,e){return t.find(i=>i._folderRepoManager.gitHubRepositories.some(r=>r.equals(e)))}static getReviewManagerForFolderManager(t,e){return t.find(i=>i._folderRepoManager===e)}};let Vt=Ka;Fe(Vt,"ID","Review");var Dd=Object.defineProperty,Tn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Dd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Ht extends $e{constructor(e,i,r,n){super();this.parent=e,this.label=i,this.iconPath=r,this.pullRequestModel=n,Tn(this,"command"),Tn(this,"contextValue"),Tn(this,"tooltip"),this.command={title:"View Pull Request Description",command:"pr.openDescription",arguments:[this]},this.contextValue="description",this.tooltip=`Description of pull request #${n.number}`}getTreeItem(){return this}}var Id=Object.defineProperty,Ya=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Id(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Ad{constructor(){Ya(this,"_onDidChange",new o.EventEmitter),Ya(this,"_prFileChangeContentProviders",{})}get onDidChange(){return this._onDidChange.event}fireDidChange(e){this._onDidChange.fire(e)}async provideTextDocumentContent(e,i){const r=Ge(e);if(r&&r.prNumber){const n=this._prFileChangeContentProviders[r.prNumber];if(n)return await n(e)}return""}registerTextDocumentContentProvider(e,i){return this._prFileChangeContentProviders[e]=i,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}}const Md=new Ad;function Ja(){return Md}var xd=Object.defineProperty,Nn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?xd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Bt extends $e{constructor(e,i){super();this.parent=e,this.label=i,Nn(this,"collapsibleState"),Nn(this,"children",[]),Nn(this,"pathToChild",new Map),this.collapsibleState=o.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(i=>{i instanceof Bt&&i.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof Bt&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children)}sort(){if(this.children.length<=1)return;const e=[],i=[];this.children.forEach(r=>{r instanceof Bt?(r.sort(),e.push(r)):i.push(r)}),e.sort((r,n)=>r.label<n.label?-1:1),i.sort((r,n)=>r.label<n.label?-1:1),this.children=[...e,...i]}addFile(e){const i=e.fileName.split("/");e.description="",this.addPathRecc(i,e)}addPathRecc(e,i){if(e.length<=0)return;if(e.length===1){this.children.push(i);return}const r=e[0],n=e.slice(1);let s=this.pathToChild.get(r);s||(s=new Bt(this,r),this.pathToChild.set(r,s),this.children.push(s)),s.addPathRecc(n,i)}getTreeItem(){return this}}var Od=Object.defineProperty,ui=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Od(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Za=class extends $e{constructor(t,e,i,r){super();this.parent=t,this._folderReposManager=e,this.pullRequestModel=i,this._isLocal=r,ui(this,"_fileChanges"),ui(this,"_commentController"),ui(this,"_disposables",[]),ui(this,"_inMemPRContentProvider"),ui(this,"_command")}get command(){return this._command}set command(t){this._command=t}async getChildren(){$.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Za.ID);try{this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(r=>r.dispose()),this.childrenDisposables=[]);const t=new Ht(this,"Description",new o.ThemeIcon("git-pull-request"),this.pullRequestModel);if(!this.pullRequestModel.isResolved())return[t];await this.pullRequestModel.initializeReviewThreadCache(),await this.pullRequestModel.getPullRequestFileViewState(),this._fileChanges=await this.resolveFileChanges(),this._inMemPRContentProvider||(this._inMemPRContentProvider=Ja().registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this))),this._commentController||await this.resolvePRCommentController(),await this.pullRequestModel.validateDraftMode();const e=[t];if(o.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"){const r=new Bt(this,"");this._fileChanges.forEach(n=>r.addFile(n)),r.finalize(),r.label===""?e.push(...r.children):e.push(r)}else e.push(...this._fileChanges);return this.childrenDisposables=e,e}catch(t){return $.appendLine(t),[]}}async resolvePRCommentController(){await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(async t=>{t||(await this.getFileChanges()).forEach(e=>{e instanceof fr&&e.comments.forEach(i=>i.isDraft=t)})}))}async getFileChanges(){return this._fileChanges||(this._fileChanges=await this.resolveFileChanges()),this._fileChanges}async resolveFileChanges(){if(!this.pullRequestModel.isResolved())return[];const t=await this.pullRequestModel.getReviewComments(),e=await this.pullRequestModel.getFileChangesInfo(),i=this.pullRequestModel.mergeBase;return i?(await Ar(e,this._folderReposManager.repository,i)).map(n=>{const s=this.pullRequestModel.head.sha,a=n.status===ne.RENAME?n.previousFileName:n.fileName;return n instanceof ms?new Ci(this,this.pullRequestModel,n.status,n.fileName,n.previousFileName,n.blobUrl,zt(o.Uri.file(v.resolve(this._folderReposManager.repository.rootUri.fsPath,n.fileName)),this.pullRequestModel,n.baseCommit,s,n.fileName,!1,n.status),zt(o.Uri.file(v.resolve(this._folderReposManager.repository.rootUri.fsPath,a)),this.pullRequestModel,n.baseCommit,s,n.fileName,!0,n.status)):new fr(this._folderReposManager,this,this.pullRequestModel,n.status,n.fileName,n.previousFileName,n.blobUrl,zt(o.Uri.file(v.resolve(this._folderReposManager.repository.rootUri.fsPath,n.fileName)),this.pullRequestModel,n.baseCommit,s,n.fileName,!1,n.status),zt(o.Uri.file(v.resolve(this._folderReposManager.repository.rootUri.fsPath,a)),this.pullRequestModel,n.baseCommit,s,n.fileName,!0,n.status),n.isPartial,n.patch,n.diffHunks,t.filter(u=>u.path===n.fileName&&u.position!==null))}):[]}getTreeItem(){const t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:e,number:i,author:r,isDraft:n,html_url:s}=this.pullRequestModel,{login:a}=r,l=t?"\u2713 ":"",u=t?"Current Branch * ":"",c=i.toString(),p=`${l}#${c}: ${n?"[DRAFT] ":""}${e}`,b=`${u}${e} by @${a}`,_=`by @${a}`;return{label:p,id:`${this.parent instanceof $e?this.parent.label:""}${s}`,tooltip:b,description:_,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(t?":active":":nonactive"),iconPath:this.pullRequestModel.userAvatarUri?this.pullRequestModel.userAvatarUri:new o.ThemeIcon("github")}}async provideCommentingRanges(t,e){if(t.uri.scheme==="pr"){const i=Ge(t.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(n=>n.fileName===i.fileName);return!r||r instanceof Ci?void 0:za(r.diffHunks,i.isBase)}}async provideDocumentContent(t){const e=Ge(t);if(!e)return"";const i=(await this.getFileChanges()).find(r=>r.fileName===e.fileName);if(!i)return $.appendLine(`PR> can not find content for document ${t.toString()}`),"";if(e.isBase&&i.status===ne.ADD||!e.isBase&&i.status===ne.DELETE)return"";if(i instanceof Ci||i.isPartial)try{return e.isBase?this.pullRequestModel.getFile(i.previousFileName||i.fileName,e.baseCommit):this.pullRequestModel.getFile(i.fileName,e.headCommit)}catch(r){return $.appendLine(`PR> Fetching file content failed: ${r}`),o.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(n=>{n==="Open on GitHub"&&o.commands.executeCommand("vscode.open",o.Uri.parse(i.blobUrl))}),""}if(i instanceof fr)if(i.status===ne.ADD||i.status===ne.DELETE)if(e.isBase){const n=[];for(let s=0;s<i.diffHunks.length;s++)for(let a=0;a<i.diffHunks[s].diffLines.length;a++){const l=i.diffHunks[s].diffLines[a];l.type===Be.Add||(l.type===Be.Delete?n.push(l.text):l.type===Be.Control||n.push(l.text))}return n.join(`
`)}else{const n=[];for(let s=0;s<i.diffHunks.length;s++)for(let a=0;a<i.diffHunks[s].diffLines.length;a++){const l=i.diffHunks[s].diffLines[a];l.type===Be.Add?n.push(l.text):l.type===Be.Delete||l.type===Be.Control||n.push(l.text)}return n.join(`
`)}else{const n=i.status===ne.RENAME?i.previousFileName:i.fileName,s=o.Uri.joinPath(this._folderReposManager.repository.rootUri,n),a=await this._folderReposManager.repository.show(e.baseCommit,s.fsPath);return e.isBase?a:Pl(a,i.patch)}return""}dispose(){super.dispose(),this._inMemPRContentProvider&&this._inMemPRContentProvider.dispose(),this._commentController=void 0,this._disposables.forEach(t=>t.dispose()),this._disposables=[]}};let ci=Za;ui(ci,"ID","PRNode");const gr=new o.EventEmitter,qd=gr.event;function Pi(t,e){if(e)return e instanceof ci?e.pullRequestModel:e;if(!t.activePullRequest)throw o.window.showErrorMessage("Unable to find current pull request."),new Error("Unable to find current pull request.");return t.activePullRequest}async function Pn(t,e,i,r,n){const s=Pi(n,i);r==null||r.reveal(r,{select:!0,focus:!0}),await Ke.createOrShow(t.extensionUri,n,s),e.sendTelemetryEvent("pr.openDescription")}async function Fi(t,e,i){var r;if(t.length===1)return t[0];const n=t.map(s=>({label:e(s),itemValue:s}));return(r=await o.window.showQuickPick(n,i))==null?void 0:r.itemValue}async function Di(t,e){t instanceof ci||t instanceof Ht?o.commands.executeCommand("vscode.open",o.Uri.parse(t.pullRequestModel.html_url)):o.commands.executeCommand("vscode.open",o.Uri.parse(t.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}function Ud(t,e,i,r,n,s){t.subscriptions.push(o.commands.registerCommand("auth.signout",async()=>{n.logout()})),t.subscriptions.push(o.commands.registerCommand("pr.openPullRequestOnGitHub",async u=>{if(u)Di(u,r);else{const c=e.folderManagers.map(p=>p.activePullRequest).filter(p=>!!p);if(c.length>=1){const p=await Fi(c,b=>b.html_url);p&&Di(p,r)}}})),t.subscriptions.push(o.commands.registerCommand("review.suggestDiff",async u=>{try{const c=await Fi(e.folderManagers,Z=>v.basename(Z.repository.rootUri.fsPath));if(!c||!c.activePullRequest)return;const{indexChanges:p,workingTreeChanges:b}=c.repository.state;if(!p.length)if(b.length)if(await o.window.showWarningMessage(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`,{modal:!0},"Yes")==="Yes")await o.commands.executeCommand("git.stageAll");else return;else{o.window.showInformationMessage("There are no changes to suggest.");return}const _=await c.repository.diff(!0);let q="";u&&u.inputBox&&u.inputBox.value&&(q=`${u.inputBox.value}
`,u.inputBox.value="");const V=`${q}\`\`\`diff
${_}
\`\`\``;await c.activePullRequest.createIssueComment(V),await o.commands.executeCommand("git.unstageAll");const U=v.join(c.repository.rootUri.path,".git",`${c.activePullRequest.number}.diff`),z=new TextEncoder,K=o.Uri.parse(U);await o.workspace.fs.writeFile(K,z.encode(_)),await c.repository.apply(U,!0),await o.workspace.fs.delete(K)}catch(c){$.appendLine(`Applying patch failed: ${c}`),o.window.showErrorMessage(`Applying patch failed: ${A(c)}`)}})),t.subscriptions.push(o.commands.registerCommand("pr.openFileOnGitHub",async u=>{if(!(u instanceof Ci&&!await o.window.showInformationMessage(`${u.fileName} can't be opened locally. Do you want to open it on GitHub?`,"Open")))return o.commands.executeCommand("vscode.open",o.Uri.parse(u.blobUrl))})),t.subscriptions.push(o.commands.registerCommand("pr.copyCommitHash",u=>{o.env.clipboard.writeText(u.sha)})),t.subscriptions.push(o.commands.registerCommand("pr.openOriginalFile",async u=>{const c=e.getManagerForIssueModel(u.pullRequest);if(c){const p=await Nr(u.parentFilePath,c.repository);o.commands.executeCommand("vscode.open",p||u.parentFilePath)}})),t.subscriptions.push(o.commands.registerCommand("pr.openModifiedFile",u=>{o.commands.executeCommand("vscode.open",u.filePath)})),t.subscriptions.push(o.commands.registerCommand("pr.openDiffView",u=>{const c=e.getManagerForIssueModel(u.pullRequest);!c||u.openDiff(c)})),t.subscriptions.push(o.commands.registerCommand("pr.deleteLocalBranch",async u=>{const c=e.getManagerForIssueModel(u.pullRequestModel);if(!c)return;const p=Pi(c,u),b="delete branch (even if not merged)";let _=null;try{await c.deleteLocalPullRequest(p)}catch(q){if(q.gitErrorCode===Rt.BranchNotFullyMerged){if(await o.window.showErrorMessage(`The branch '${p.localBranchName}' is not fully merged, are you sure you want to delete it? `,b)!==b)return;try{await c.deleteLocalPullRequest(p,!0)}catch(U){_=U}}else _=q}_?(r.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await o.window.showErrorMessage(`Deleting local pull request branch failed: ${_}`)):(r.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),o.commands.executeCommand("pr.refreshList"))}));function a(u){if(u){const c=o.Uri.file(u).toString();for(const p of i)if(p.repository.rootUri.toString()===c)return p}return Fi(i,c=>v.basename(c.repository.rootUri.fsPath),{placeHolder:"Choose a repository to create a pull request in",ignoreFocusOut:!0})}function l(u){return!!(u==null?void 0:u.rootUri)}t.subscriptions.push(o.commands.registerCommand("pr.create",async u=>{var c,p;l(u)?(c=await a(u.rootUri.fsPath))==null||c.createPullRequest():(p=await a(u==null?void 0:u.repoPath))==null||p.createPullRequest(u==null?void 0:u.compareBranch)})),t.subscriptions.push(o.commands.registerCommand("pr.pick",async u=>{let c;u instanceof ci||u instanceof Ht?c=u.pullRequestModel:c=u;const p=u instanceof bt;return r.sendTelemetryEvent("pr.checkout",{fromDescription:p.toString()}),o.window.withProgress({location:o.ProgressLocation.SourceControl,title:`Switching to Pull Request #${c.number}`},async()=>{var b;await((b=Vt.getReviewManagerForRepository(i,c.githubRepository))==null?void 0:b.switch(c))})})),t.subscriptions.push(o.commands.registerCommand("pr.exit",async u=>{let c;u instanceof ci||u instanceof Ht?c=u.pullRequestModel:c=u;const p=u instanceof bt;return r.sendTelemetryEvent("pr.exit",{fromDescription:p.toString()}),o.window.withProgress({location:o.ProgressLocation.SourceControl,title:"Exiting Pull Request"},async()=>{const b=await c.githubRepository.getDefaultBranch(),_=e.getManagerForIssueModel(c);_&&_.checkoutDefaultBranch(b)})})),t.subscriptions.push(o.commands.registerCommand("pr.merge",async u=>{const c=e.getManagerForIssueModel(u==null?void 0:u.pullRequestModel);if(!c)return;const p=Pi(c,u);return p.base&&p.head&&!p.base.repositoryCloneUrl.equals(p.head.repositoryCloneUrl)&&on()?Di(p,r):o.window.showWarningMessage("Are you sure you want to merge this pull request on GitHub?",{modal:!0},"Yes").then(async q=>{let V;if(q==="Yes")try{return V=await c.mergePullRequest(p),V}catch(U){return o.window.showErrorMessage(`Unable to merge pull request. ${A(U)}`),V}})})),t.subscriptions.push(o.commands.registerCommand("pr.readyForReview",async u=>{const c=e.getManagerForIssueModel(u==null?void 0:u.pullRequestModel);if(!c)return;const p=Pi(c,u);return o.window.showWarningMessage("Are you sure you want to mark this pull request as ready to review on GitHub?",{modal:!0},"Yes").then(async b=>{let _;if(b==="Yes")try{return _=await p.setReadyForReview(),o.commands.executeCommand("pr.refreshList"),_}catch(q){return o.window.showErrorMessage(`Unable to mark pull request as ready to review. ${A(q)}`),_}})})),t.subscriptions.push(o.commands.registerCommand("pr.close",async(u,c)=>{let p;if(u)p=u instanceof bt?u:u.pullRequestModel;else{const _=e.folderManagers.map(q=>q.activePullRequest).filter(q=>!!q);p=await Fi(_,q=>`${q.number}: ${q.title}`,{placeHolder:"Pull request to close"})}if(!p)return;const b=p;return o.window.showWarningMessage("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging.",{modal:!0},"Yes","No").then(async _=>{if(_==="Yes")try{let q;c&&(q=await b.createIssueComment(c));const V=await b.close();return o.commands.executeCommand("pr.refreshList"),gr.fire(V),q}catch(q){o.window.showErrorMessage(`Unable to close pull request. ${A(q)}`),gr.fire()}gr.fire()})})),t.subscriptions.push(o.commands.registerCommand("pr.openDescription",async u=>{let c;if(u)c=u instanceof Ht?u.pullRequestModel:u;else{const _=e.folderManagers.map(q=>q.activePullRequest).filter(q=>!!q);_.length>=1&&(c=await Fi(_,q=>q.title))}if(!c){$.appendLine("No pull request found.");return}const p=e.getManagerForIssueModel(c);if(!p)return;let b;if(u instanceof Ht)b=u;else{const _=Vt.getReviewManagerForFolderManager(i,p);if(!_)return;b=_.changesInPrDataProvider.getDescriptionNode(p)}await Pn(t,r,c,b,p)})),t.subscriptions.push(o.commands.registerCommand("pr.refreshDescription",async()=>{Ke.currentPanel&&Ke.refresh()})),t.subscriptions.push(o.commands.registerCommand("pr.openDescriptionToTheSide",async u=>{const c=e.getManagerForIssueModel(u.pullRequestModel);if(!c)return;const p=u.pullRequestModel,b=Pi(c,p);u.reveal(u,{select:!0,focus:!0}),Ke.createOrShow(t.extensionUri,c,b,!0),r.sendTelemetryEvent("pr.openDescriptionToTheSide")})),t.subscriptions.push(o.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),t.subscriptions.push(o.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const u of e.folderManagers)await u.deleteLocalBranchesNRemotes()})),t.subscriptions.push(o.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&o.commands.executeCommand("pr.refreshList")})),t.subscriptions.push(o.commands.registerCommand("pr.configureRemotes",async()=>o.commands.executeCommand("workbench.action.openSettings",`@ext:${xt} remotes`))),t.subscriptions.push(o.commands.registerCommand("pr.startReview",async u=>{r.sendTelemetryEvent("pr.startReview");const c=St(u.thread);c&&c.startReview(u.thread,u.text)})),t.subscriptions.push(o.commands.registerCommand("pr.openReview",async u=>{r.sendTelemetryEvent("pr.openReview");const c=St(u.thread);c&&await c.openReview(u.thread)})),t.subscriptions.push(o.commands.registerCommand("pr.resolveReviewThread",async u=>{r.sendTelemetryEvent("pr.resolveReviewThread");const c=St(u.thread);c&&await c.resolveReviewThread(u.thread,u.text)})),t.subscriptions.push(o.commands.registerCommand("pr.unresolveReviewThread",async u=>{r.sendTelemetryEvent("pr.unresolveReviewThread");const c=St(u.thread);c&&await c.unresolveReviewThread(u.thread,u.text)})),t.subscriptions.push(o.commands.registerCommand("pr.createComment",async u=>{r.sendTelemetryEvent("pr.createComment");const c=St(u.thread);c&&c.createOrReplyComment(u.thread,u.text,!1)})),t.subscriptions.push(o.commands.registerCommand("pr.createSingleComment",async u=>{r.sendTelemetryEvent("pr.createSingleComment");const c=St(u.thread);c&&c.createOrReplyComment(u.thread,u.text,!0)})),t.subscriptions.push(o.commands.registerCommand("pr.editComment",async u=>{r.sendTelemetryEvent("pr.editComment"),u.startEdit()})),t.subscriptions.push(o.commands.registerCommand("pr.cancelEditComment",async u=>{r.sendTelemetryEvent("pr.cancelEditComment"),u.cancelEdit()})),t.subscriptions.push(o.commands.registerCommand("pr.saveComment",async u=>{r.sendTelemetryEvent("pr.saveComment");const c=St(u.parent);c&&await c.editComment(u.parent,u)})),t.subscriptions.push(o.commands.registerCommand("pr.deleteComment",async u=>{if(r.sendTelemetryEvent("pr.deleteComment"),await o.window.showWarningMessage("Delete comment?",{modal:!0},"Delete")==="Delete"){const p=St(u.parent);p&&await p.deleteComment(u.parent,u)}})),t.subscriptions.push(o.commands.registerCommand("review.openFile",u=>{var c;const p=u instanceof oi?u.openFileCommand():Ba(u);o.commands.executeCommand(p.command,...(c=p.arguments)!=null?c:[])})),t.subscriptions.push(o.commands.registerCommand("pr.refreshChanges",u=>{i.forEach(c=>{c.updateComments(),Ke.refresh(),c.changesInPrDataProvider.refresh()})})),t.subscriptions.push(o.commands.registerCommand("pr.setFileListLayoutAsTree",u=>{o.workspace.getConfiguration("githubPullRequests").update("fileListLayout","tree",!0)})),t.subscriptions.push(o.commands.registerCommand("pr.setFileListLayoutAsFlat",u=>{o.workspace.getConfiguration("githubPullRequests").update("fileListLayout","flat",!0)})),t.subscriptions.push(o.commands.registerCommand("pr.refreshPullRequest",u=>{var c;const p=e.getManagerForIssueModel(u.pullRequestModel);p&&u.pullRequestModel.equals(p==null?void 0:p.activePullRequest)&&((c=Vt.getReviewManagerForFolderManager(i,p))==null||c.updateComments()),Ke.refresh(),s.refresh(u)})),t.subscriptions.push(o.commands.registerCommand("pr.markFileAsViewed",async u=>{try{await u.pullRequest.markFileAsViewed(u.fileName)}catch(c){o.window.showErrorMessage(`Marked file as viewed failed: ${c}`)}})),t.subscriptions.push(o.commands.registerCommand("pr.unmarkFileAsViewed",async u=>{try{await u.pullRequest.unmarkFileAsViewed(u.fileName)}catch(c){o.window.showErrorMessage(`Marked file as not viewed failed: ${c}`)}}))}let Ii;const Ld={};function $d(t){Ii=t.globalState}const Xa=(t,e)=>{if(!Ii)throw new Error("Persistent store not initialized.");return Ii.get(t+":"+e,Ld)},eo=(t,e,i)=>{if(!Ii)throw new Error("Persistent store not initialized.");return Ii.update(t+":"+e,i)};var di=se(9035),Gd=Object.defineProperty,to=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Gd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Vd{constructor(e){this.baseReporter=e,to(this,"sharedProperties",{})}sendTelemetryEvent(e,i,r){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...i},r)}sendTelemetryErrorEvent(e,i,r){this.baseReporter.sendTelemetryErrorEvent(e,{...this.sharedProperties,...i})}setSharedProperty(e,i){this.sharedProperties[e]=i}postEvent(e,i){const r={};for(const[n,s]of i)r[n]=s;this.sendTelemetryEvent(e,r)}dispose(){return this.baseReporter.dispose()}}function Hd(){switch(o.env.uriScheme){case"vscode":return di.aU.Public;case"vscode-insiders":return di.aU.Insiders;case"vscode-exploration":return di.aU.Internal;case"code-oss":return di.aU.Team;default:return di.aU.Public}}class Bd{constructor(){to(this,"initializePromise",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,i){}getTreatmentVariableAsync(e,i){return Promise.resolve(void 0)}}async function jd(t,e){const i=t.extension.id,r=t.extension.packageJSON.name,n=t.extension.packageJSON.version,s=Hd();return r==="vscode-pull-request-github"?(0,di.X7)(i,n,s,e,t.globalState):new Bd}function vr(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var Qd=se(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function io(t){return Object.prototype.toString.call(t)==="[object Object]"}function ro(t){var e,i;return io(t)===!1?!1:(e=t.constructor,e===void 0?!0:(i=e.prototype,!(io(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}function Wd(t){return t?Object.keys(t).reduce((e,i)=>(e[i.toLowerCase()]=t[i],e),{}):{}}function no(t,e){const i=Object.assign({},t);return Object.keys(e).forEach(r=>{ro(e[r])?r in t?i[r]=no(t[r],e[r]):Object.assign(i,{[r]:e[r]}):Object.assign(i,{[r]:e[r]})}),i}function so(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Fn(t,e,i){if(typeof e=="string"){let[n,s]=e.split(" ");i=Object.assign(s?{method:n,url:s}:{url:n},i)}else i=Object.assign({},e);i.headers=Wd(i.headers),so(i),so(i.headers);const r=no(t||{},i);return t&&t.mediaType.previews.length&&(r.mediaType.previews=t.mediaType.previews.filter(n=>!r.mediaType.previews.includes(n)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(n=>n.replace(/-preview/,"")),r}function zd(t,e){const i=/\?/.test(t)?"&":"?",r=Object.keys(e);return r.length===0?t:t+i+r.map(n=>n==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(e[n])}`).join("&")}const Kd=/\{[^}]+\}/g;function Yd(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Jd(t){const e=t.match(Kd);return e?e.map(Yd).reduce((i,r)=>i.concat(r),[]):[]}function ao(t,e){return Object.keys(t).filter(i=>!e.includes(i)).reduce((i,r)=>(i[r]=t[r],i),{})}function oo(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function mi(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ai(t,e,i){return e=t==="+"||t==="#"?oo(e):mi(e),i?mi(i)+"="+e:e}function hi(t){return t!=null}function Dn(t){return t===";"||t==="&"||t==="?"}function Zd(t,e,i,r){var n=t[i],s=[];if(hi(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),r&&r!=="*"&&(n=n.substring(0,parseInt(r,10))),s.push(Ai(e,n,Dn(e)?i:""));else if(r==="*")Array.isArray(n)?n.filter(hi).forEach(function(a){s.push(Ai(e,a,Dn(e)?i:""))}):Object.keys(n).forEach(function(a){hi(n[a])&&s.push(Ai(e,n[a],a))});else{const a=[];Array.isArray(n)?n.filter(hi).forEach(function(l){a.push(Ai(e,l))}):Object.keys(n).forEach(function(l){hi(n[l])&&(a.push(mi(l)),a.push(Ai(e,n[l].toString())))}),Dn(e)?s.push(mi(i)+"="+a.join(",")):a.length!==0&&s.push(a.join(","))}else e===";"?hi(n)&&s.push(mi(i)):n===""&&(e==="&"||e==="?")?s.push(mi(i)+"="):n===""&&s.push("");return s}function Xd(t){return{expand:em.bind(null,t)}}function em(t,e){var i=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,n,s){if(n){let l="";const u=[];if(i.indexOf(n.charAt(0))!==-1&&(l=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(c){var p=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);u.push(Zd(e,l,p[1],p[2]||p[3]))}),l&&l!=="+"){var a=",";return l==="?"?a="&":l!=="#"&&(a=l),(u.length!==0?l:"")+u.join(a)}else return u.join(",")}else return oo(s)})}function lo(t){let e=t.method.toUpperCase(),i=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},t.headers),n,s=ao(t,["method","baseUrl","url","headers","request","mediaType"]);const a=Jd(i);i=Xd(i).expand(s),/^http/.test(i)||(i=t.baseUrl+i);const l=Object.keys(t).filter(p=>a.includes(p)).concat("baseUrl"),u=ao(s,l);if(!/application\/octet-stream/i.test(r.accept)&&(t.mediaType.format&&(r.accept=r.accept.split(/,/).map(p=>p.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const p=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=p.concat(t.mediaType.previews).map(b=>{const _=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${b}-preview${_}`}).join(",")}return["GET","HEAD"].includes(e)?i=zd(i,u):"data"in u?n=u.data:Object.keys(u).length?n=u:r["content-length"]=0,!r["content-type"]&&typeof n!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof n=="undefined"&&(n=""),Object.assign({method:e,url:i,headers:r},typeof n!="undefined"?{body:n}:null,t.request?{request:t.request}:null)}function tm(t,e,i){return lo(Fn(t,e,i))}function uo(t,e){const i=Fn(t,e),r=tm.bind(null,i);return Object.assign(r,{DEFAULTS:i,defaults:uo.bind(null,i),merge:Fn.bind(null,i),parse:lo})}const im=`octokit-endpoint.js/6.0.11 ${vr()}`,rm=uo(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":im},mediaType:{format:"",previews:[]}});class nm extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var sm=se(778),am=se.n(sm);const om=am()(t=>console.warn(t));class Mi extends Error{constructor(e,i,r){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=i,Object.defineProperty(this,"code",{get(){return om(new nm("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),i}}),this.headers=r.headers||{};const n=Object.assign({},r.request);r.request.headers.authorization&&(n.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n}}const lm="5.4.14";function um(t){return t.arrayBuffer()}function co(t){(ro(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let e={},i,r;return(t.request&&t.request.fetch||ln())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(s=>{r=s.url,i=s.status;for(const l of s.headers)e[l[0]]=l[1];if(i===204||i===205)return;if(t.method==="HEAD"){if(i<400)return;throw new Mi(s.statusText,i,{headers:e,request:t})}if(i===304)throw new Mi("Not modified",i,{headers:e,request:t});if(i>=400)return s.text().then(l=>{const u=new Mi(l,i,{headers:e,request:t});try{let c=JSON.parse(u.message);Object.assign(u,c);let p=c.errors;u.message=u.message+": "+p.map(JSON.stringify).join(", ")}catch(c){}throw u});const a=s.headers.get("content-type");return/application\/json/.test(a)?s.json():!a||/^text\/|charset=utf-8$/.test(a)?s.text():um(s)}).then(s=>({status:i,url:r,headers:e,data:s})).catch(s=>{throw s instanceof Mi?s:new Mi(s.message,500,{headers:e,request:t})})}function In(t,e){const i=t.defaults(e);return Object.assign(function(n,s){const a=i.merge(n,s);if(!a.request||!a.request.hook)return co(i.parse(a));const l=(u,c)=>co(i.parse(i.merge(u,c)));return Object.assign(l,{endpoint:i,defaults:In.bind(null,i)}),a.request.hook(l,a)},{endpoint:i,defaults:In.bind(null,i)})}const wr=In(rm,{headers:{"user-agent":`octokit-request.js/${lm} ${vr()}`}}),cm="4.6.1";class dm extends Error{constructor(e,i){const r=i.data.errors[0].message;super(r);Object.assign(this,i.data),Object.assign(this,{headers:i.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const mm=["method","baseUrl","url","headers","request","query","mediaType"],hm=["query","method","url"],mo=/\/api\/v3\/?$/;function pm(t,e,i){if(i){if(typeof e=="string"&&"query"in i)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const a in i)if(!!hm.includes(a))return Promise.reject(new Error(`[@octokit/graphql] "${a}" cannot be used as variable name`))}const r=typeof e=="string"?Object.assign({query:e},i):e,n=Object.keys(r).reduce((a,l)=>mm.includes(l)?(a[l]=r[l],a):(a.variables||(a.variables={}),a.variables[l]=r[l],a),{}),s=r.baseUrl||t.endpoint.DEFAULTS.baseUrl;return mo.test(s)&&(n.url=s.replace(mo,"/api/graphql")),t(n).then(a=>{if(a.data.errors){const l={};for(const u of Object.keys(a.headers))l[u]=a.headers[u];throw new dm(n,{headers:l,data:a.data})}return a.data.data})}function An(t,e){const i=t.defaults(e);return Object.assign((n,s)=>pm(i,n,s),{defaults:An.bind(null,i),endpoint:wr.endpoint})}const Sf=An(wr,{headers:{"user-agent":`octokit-graphql.js/${cm} ${vr()}`},method:"POST",url:"/graphql"});function fm(t){return An(t,{method:"POST",url:"/graphql"})}async function gm(t){const e=t.split(/\./).length===3?"app":/^v\d+\./.test(t)?"installation":"oauth";return{type:"token",token:t,tokenType:e}}function vm(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function wm(t,e,i,r){const n=e.endpoint.merge(i,r);return n.headers.authorization=vm(t),e(n)}const bm=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(gm.bind(null,e),{hook:wm.bind(null,e)})},ho="3.3.1";class Mn{constructor(e={}){const i=new Qd.Collection,r={baseUrl:wr.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:i.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[e.userAgent,`octokit-core.js/${ho} ${vr()}`].filter(Boolean).join(" "),e.baseUrl&&(r.baseUrl=e.baseUrl),e.previews&&(r.mediaType.previews=e.previews),e.timeZone&&(r.headers["time-zone"]=e.timeZone),this.request=wr.defaults(r),this.graphql=fm(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=i,e.authStrategy){const{authStrategy:s,...a}=e,l=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:a},e.auth));i.wrap("request",l.hook),this.auth=l}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const s=bm(e.auth);i.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,e))})}static defaults(e){return class extends this{constructor(...r){const n=r[0]||{};if(typeof e=="function"){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var i;const r=this.plugins;return i=class extends this{},i.plugins=r.concat(e.filter(s=>!r.includes(s))),i}}Mn.VERSION=ho,Mn.plugins=[];const ym="1.0.3";function po(t){t.hook.wrap("request",(e,i)=>{t.log.debug("request",i);const r=Date.now(),n=t.request.endpoint.parse(i),s=n.url.replace(i.baseUrl,"");return e(i).then(a=>(t.log.info(`${n.method} ${s} - ${a.status} in ${Date.now()-r}ms`),a)).catch(a=>{throw t.log.info(`${n.method} ${s} - ${a.status} in ${Date.now()-r}ms`),a})})}po.VERSION=ym;const km="2.13.2";function _m(t){if(!("total_count"in t.data&&!("url"in t.data)))return t;const i=t.data.incomplete_results,r=t.data.repository_selection,n=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const s=Object.keys(t.data)[0],a=t.data[s];return t.data=a,typeof i!="undefined"&&(t.data.incomplete_results=i),typeof r!="undefined"&&(t.data.repository_selection=r),t.data.total_count=n,t}function xn(t,e,i){const r=typeof e=="function"?e.endpoint(i):t.request.endpoint(e,i),n=typeof e=="function"?e:t.request,s=r.method,a=r.headers;let l=r.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!l)return{done:!0};const u=await n({method:s,url:l,headers:a}),c=_m(u);return l=((c.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:c}}})}}function fo(t,e,i,r){return typeof i=="function"&&(r=i,i=void 0),go(t,[],xn(t,e,i)[Symbol.asyncIterator](),r)}function go(t,e,i,r){return i.next().then(n=>{if(n.done)return e;let s=!1;function a(){s=!0}return e=e.concat(r?r(n.value,a):n.value.data),s?e:go(t,e,i,r)})}const Ef=Object.assign(fo,{iterator:xn}),Rm=null;function Cf(t){return typeof t=="string"?Rm.includes(t):!1}function vo(t){return{paginate:Object.assign(fo.bind(null,t),{iterator:xn.bind(null,t)})}}vo.VERSION=km;const Sm={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Em="4.12.0";function Cm(t,e){const i={};for(const[r,n]of Object.entries(e))for(const[s,a]of Object.entries(n)){const[l,u,c]=a,[p,b]=l.split(/ /),_=Object.assign({method:p,url:b},u);i[r]||(i[r]={});const q=i[r];if(c){q[s]=Tm(t,r,s,_,c);continue}q[s]=t.request.defaults(_)}return i}function Tm(t,e,i,r,n){const s=t.request.defaults(r);function a(...l){let u=s.endpoint.merge(...l);if(n.mapToData)return u=Object.assign({},u,{data:u[n.mapToData],[n.mapToData]:void 0}),s(u);if(n.renamed){const[c,p]=n.renamed;t.log.warn(`octokit.${e}.${i}() has been renamed to octokit.${c}.${p}()`)}if(n.deprecated&&t.log.warn(n.deprecated),n.renamedParameters){const c=s.endpoint.merge(...l);for(const[p,b]of Object.entries(n.renamedParameters))p in c&&(t.log.warn(`"${p}" parameter is deprecated for "octokit.${e}.${i}()". Use "${b}" instead`),b in c||(c[b]=c[p]),delete c[p]);return s(c)}return s(...l)}return Object.assign(a,s)}function wo(t){return Cm(t,Sm)}wo.VERSION=Em;const Nm="18.2.0",Pm=Mn.plugin(po,wo,vo).defaults({userAgent:`octokit-rest.js/${Nm}`});function Fm(t){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:br(t)},i={kind:"Document",definitions:[e]};return i}function Dm(t,e){var i={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:br(t)},r={kind:"Document",definitions:[i]};return r}function br(t){if(typeof t=="number"||typeof t=="boolean"||typeof t=="string"||typeof t=="undefined"||t===null)return null;if(Array.isArray(t))return br(t[0]);var e=[];Object.keys(t).forEach(function(r){var n=br(t[r]),s={kind:"Field",name:{kind:"Name",value:r},selectionSet:n||void 0};e.push(s)});var i={kind:"SelectionSet",selections:e};return i}var Im={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Am=function(){function t(){}return t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,i){return i===void 0&&(i=!1),this.read({query:e.query,variables:e.variables,optimistic:i})},t.prototype.readFragment=function(e,i){return i===void 0&&(i=!1),this.read({query:Ns(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:i})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Ns(e.fragment,e.fragmentName)})},t.prototype.writeData=function(e){var i=e.id,r=e.data;if(typeof i!="undefined"){var n=null;try{n=this.read({rootId:i,optimistic:!1,query:Im})}catch(l){}var s=n&&n.__typename||"__ClientData",a=Object.assign({__typename:s},r);this.writeFragment({id:i,fragment:Dm(a,s),data:a})}else this.writeQuery({query:Fm(r),data:r})},t}(),bo;(function(t){})(bo||(bo={}));var Me=null,yo={},Mm=1,xm=function(){return function(){function t(){this.id=["slot",Mm++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Me;e;e=e.parent)if(this.id in e.slots){var i=e.slots[this.id];if(i===yo)break;return e!==Me&&(Me.slots[this.id]=i),!0}return Me&&(Me.slots[this.id]=yo),!1},t.prototype.getValue=function(){if(this.hasValue())return Me.slots[this.id]},t.prototype.withValue=function(e,i,r,n){var s,a=(s={__proto__:null},s[this.id]=e,s),l=Me;Me={parent:l,slots:a};try{return i.apply(n,r)}finally{Me=l}},t.bind=function(e){var i=Me;return function(){var r=Me;try{return Me=i,e.apply(this,arguments)}finally{Me=r}}},t.noContext=function(e,i,r){if(Me){var n=Me;try{return Me=null,e.apply(r,i)}finally{Me=n}}else return e.apply(r,i)},t}()},On="@wry/context:Slot",qn=Array,Un=qn[On]||function(){var t=xm();try{Object.defineProperty(qn,On,{value:qn[On]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),Ln=Un.bind,Om=Un.noContext;function Tf(t,e){return setTimeout(Ln(t),e)}function Nf(t){return function(){var e=t.apply(this,arguments),i=Ln(e.next),r=Ln(e.throw);return new Promise(function(n,s){function a(c,p){try{var b=c.call(e,p)}catch(q){return s(q)}var _=b.done?n:l;qm(b.value)?b.value.then(_,b.done?s:u):_(b.value)}var l=function(c){return a(i,c)},u=function(c){return a(r,c)};l()})}}function qm(t){return t&&typeof t.then=="function"}var ko=null;function Pf(t){if(ko.indexOf(t)<0){var e=function(i,r){var n=i[r];i[r]=function(){return Om(n,arguments,this)}};e(t,"yield"),e(t.prototype,"run"),e(t.prototype,"throwInto"),ko.push(t)}return t}function Um(){}var Lm=function(){function t(e,i){e===void 0&&(e=Infinity),i===void 0&&(i=Um),this.max=e,this.dispose=i,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var i=this.getEntry(e);return i&&i.value},t.prototype.getEntry=function(e){var i=this.map.get(e);if(i&&i!==this.newest){var r=i.older,n=i.newer;n&&(n.older=r),r&&(r.newer=n),i.older=this.newest,i.older.newer=i,i.newer=null,this.newest=i,i===this.oldest&&(this.oldest=n)}return i},t.prototype.set=function(e,i){var r=this.getEntry(e);return r?r.value=i:(r={key:e,value:i,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var i=this.map.get(e);return i?(i===this.newest&&(this.newest=i.older),i===this.oldest&&(this.oldest=i.newer),i.newer&&(i.newer.older=i.older),i.older&&(i.older.newer=i.newer),this.map.delete(e),this.dispose(i.value,e),!0):!1},t}(),yr=new Un,$m=[],$n=[],Gm=100;function pi(t,e){if(!t)throw new Error(e||"assertion failure")}function Vm(t,e){var i=t.length;return i>0&&i===e.length&&t[i-1]===e[i-1]}function _o(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function Hm(t){return t.slice(0)}var Bm=function(){function t(e,i){this.fn=e,this.args=i,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(pi(!this.recomputing,"already recomputing"),!(!jm(this)&&Gn(this)))return fi(this)?Qm(this):_o(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ro(this),Vn(this))},t.prototype.dispose=function(){var e=this;No(this).forEach(Gn),Vn(this),this.parents.forEach(function(i){i.setDirty(),Po(i,e)})},t.count=0,t}();function jm(t){var e=yr.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),fi(t)?Eo(e,t):Co(e,t),e}function Qm(t){var e=No(t);return yr.withValue(t,Wm,[t]),Km(t)&&zm(t),e.forEach(Gn),_o(t.value)}function Wm(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function fi(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function zm(t){t.dirty=!1,!fi(t)&&So(t)}function Ro(t){t.parents.forEach(function(e){return Eo(e,t)})}function So(t){t.parents.forEach(function(e){return Co(e,t)})}function Eo(t,e){if(pi(t.childValues.has(e)),pi(fi(e)),!t.dirtyChildren)t.dirtyChildren=$n.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),Ro(t)}function Co(t,e){pi(t.childValues.has(e)),pi(!fi(e));var i=t.childValues.get(e);i.length===0?t.childValues.set(e,Hm(e.value)):Vm(i,e.value)||t.setDirty(),To(t,e),!fi(t)&&So(t)}function To(t,e){var i=t.dirtyChildren;i&&(i.delete(e),i.size===0&&($n.length<Gm&&$n.push(i),t.dirtyChildren=null))}function Gn(t){return t.parents.size===0&&typeof t.reportOrphan=="function"&&t.reportOrphan()===!0}function No(t){var e=$m;return t.childValues.size>0&&(e=[],t.childValues.forEach(function(i,r){Po(t,r),e.push(r)})),pi(t.dirtyChildren===null),e}function Po(t,e){e.parents.delete(t),t.childValues.delete(e),To(t,e)}function Km(t){if(typeof t.subscribe=="function")try{Vn(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}function Vn(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var Hn=function(){function t(e){this.weakness=e}return t.prototype.lookup=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var i=this;return e.forEach(function(r){return i=i.getChildTrie(r)}),i.data||(i.data=Object.create(null))},t.prototype.getChildTrie=function(e){var i=this.weakness&&Ym(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=i.get(e);return r||i.set(e,r=new t(this.weakness)),r},t}();function Ym(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Jm=new Hn(typeof WeakMap=="function");function Zm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Jm.lookupArray(t)}var Bn=new Set;function xi(t,e){e===void 0&&(e=Object.create(null));var i=new Lm(e.max||Math.pow(2,16),function(a){return a.dispose()}),r=!!e.disposable,n=e.makeCacheKey||Zm;function s(){if(!(r&&!yr.hasValue())){var a=n.apply(null,arguments);if(a===void 0)return t.apply(null,arguments);var l=Array.prototype.slice.call(arguments),u=i.get(a);u?u.args=l:(u=new Bm(t,l),i.set(a,u),u.subscribe=e.subscribe,r&&(u.reportOrphan=function(){return i.delete(a)}));var c=u.recompute();return i.set(a,u),Bn.add(i),yr.hasValue()||(Bn.forEach(function(p){return p.clean()}),Bn.clear()),r?void 0:c}}return s.dirty=function(){var a=n.apply(null,arguments),l=a!==void 0&&i.get(a);l&&l.setDirty()},s}var Fo=!1;function Do(){var t=!Fo;return Yr()||(Fo=!0),t}var Xm=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(e,i,r){var n=r.store.get(e.id),s=e.id==="ROOT_QUERY";if(!n)return s;var a=n.__typename,l=a===void 0?s&&"Query":a;return l&&l===i?!0:(Do(),"heuristic")},t}(),Ff=function(){function t(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return t.prototype.match=function(e,i,r){ce(this.isReady,1);var n=r.store.get(e.id),s=e.id==="ROOT_QUERY";if(!n)return s;var a=n.__typename,l=a===void 0?s&&"Query":a;if(ce(l,2),l===i)return!0;var u=this.possibleTypesMap[i];return!!(l&&u&&u.indexOf(l)>-1)},t.prototype.parseIntrospectionResult=function(e){var i={};return e.__schema.types.forEach(function(r){(r.kind==="UNION"||r.kind==="INTERFACE")&&(i[r.name]=r.possibleTypes.map(function(n){return n.name}))}),i},t}(),Io=Object.prototype.hasOwnProperty,gi=function(){function t(e){var i=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=xi(function(r){return i.data[r]},{disposable:!0,makeCacheKey:function(r){return r}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.depend(e),this.data[e]},t.prototype.set=function(e,i){var r=this.data[e];i!==r&&(this.data[e]=i,this.depend.dirty(e))},t.prototype.delete=function(e){Io.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(e){var i=this;e?(Object.keys(e).forEach(function(r){i.set(r,e[r])}),Object.keys(this.data).forEach(function(r){Io.call(e,r)||i.delete(r)})):Object.keys(this.data).forEach(function(r){i.delete(r)})},t}();function Ao(t){return new gi(t)}var eh=function(){function t(e){var i=this,r=e===void 0?{}:e,n=r.cacheKeyRoot,s=n===void 0?new Hn(Wr):n,a=r.freezeResults,l=a===void 0?!1:a,u=this,c=u.executeStoreQuery,p=u.executeSelectionSet,b=u.executeSubSelectedArray;this.freezeResults=l,this.executeStoreQuery=xi(function(_){return c.call(i,_)},{makeCacheKey:function(_){var q=_.query,V=_.rootValue,U=_.contextValue,z=_.variableValues,K=_.fragmentMatcher;if(U.store instanceof gi)return s.lookup(U.store,q,K,JSON.stringify(z),V.id)}}),this.executeSelectionSet=xi(function(_){return p.call(i,_)},{makeCacheKey:function(_){var q=_.selectionSet,V=_.rootValue,U=_.execContext;if(U.contextValue.store instanceof gi)return s.lookup(U.contextValue.store,q,U.fragmentMatcher,JSON.stringify(U.variableValues),V.id)}}),this.executeSubSelectedArray=xi(function(_){return b.call(i,_)},{makeCacheKey:function(_){var q=_.field,V=_.array,U=_.execContext;if(U.contextValue.store instanceof gi)return s.lookup(U.contextValue.store,q,V,JSON.stringify(U.variableValues))}})}return t.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Y(Y({},e),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(e){var i=e.store,r=e.query,n=e.variables,s=e.previousResult,a=e.returnPartialData,l=a===void 0?!0:a,u=e.rootId,c=u===void 0?"ROOT_QUERY":u,p=e.fragmentMatcherFunction,b=e.config,_=lu(r);n=Vr({},jr(_),n);var q={store:i,dataIdFromObject:b&&b.dataIdFromObject,cacheRedirects:b&&b.cacheRedirects||{}},V=this.executeStoreQuery({query:r,rootValue:{type:"id",id:c,generated:!0,typename:"Query"},contextValue:q,variableValues:n,fragmentMatcher:p}),U=V.missing&&V.missing.length>0;return U&&!l&&V.missing.forEach(function(z){if(!z.tolerable)throw new De(8)}),s&&Je(s,V.result)&&(V.result=s),{result:V.result,complete:!U}},t.prototype.executeStoreQuery=function(e){var i=e.query,r=e.rootValue,n=e.contextValue,s=e.variableValues,a=e.fragmentMatcher,l=a===void 0?th:a,u=Br(i),c=Ji(i),p=Zi(c),b={query:i,fragmentMap:p,contextValue:n,variableValues:s,fragmentMatcher:l};return this.executeSelectionSet({selectionSet:u.selectionSet,rootValue:r,execContext:b})},t.prototype.executeSelectionSet=function(e){var i=this,r=e.selectionSet,n=e.rootValue,s=e.execContext,a=s.fragmentMap,l=s.contextValue,u=s.variableValues,c={result:null},p=[],b=l.store.get(n.id),_=b&&b.__typename||n.id==="ROOT_QUERY"&&"Query"||void 0;function q(V){var U;return V.missing&&(c.missing=c.missing||[],(U=c.missing).push.apply(U,V.missing)),V.result}return r.selections.forEach(function(V){var U;if(!!Gr(V,u))if(Pt(V)){var z=q(i.executeField(b,_,V,s));typeof z!="undefined"&&p.push((U={},U[bi(V)]=z,U))}else{var K=void 0;if(Wi(V))K=V;else if(K=a[V.name.value],!K)throw new De(9);var Z=K.typeCondition&&K.typeCondition.name.value,ie=!Z||s.fragmentMatcher(n,Z,l);if(ie){var ee=i.executeSelectionSet({selectionSet:K.selectionSet,rootValue:n,execContext:s});ie==="heuristic"&&ee.missing&&(ee=Y(Y({},ee),{missing:ee.missing.map(function(le){return Y(Y({},le),{tolerable:!0})})})),p.push(q(ee))}}}),c.result=Zr(p),this.freezeResults,c},t.prototype.executeField=function(e,i,r,n){var s=n.variableValues,a=n.contextValue,l=r.name.value,u=$r(r,s),c={resultKey:bi(r),directives:ru(r,s)},p=ih(e,i,l,u,a,c);return Array.isArray(p.result)?this.combineExecResults(p,this.executeSubSelectedArray({field:r,array:p.result,execContext:n})):r.selectionSet?p.result==null?p:this.combineExecResults(p,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:p.result,execContext:n})):(Mo(r,p.result),this.freezeResults,p)},t.prototype.combineExecResults=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r;return e.forEach(function(n){n.missing&&(r=r||[],r.push.apply(r,n.missing))}),{result:e.pop().result,missing:r}},t.prototype.executeSubSelectedArray=function(e){var i=this,r=e.field,n=e.array,s=e.execContext,a;function l(u){return u.missing&&(a=a||[],a.push.apply(a,u.missing)),u.result}return n=n.map(function(u){return u===null?null:Array.isArray(u)?l(i.executeSubSelectedArray({field:r,array:u,execContext:s})):r.selectionSet?l(i.executeSelectionSet({selectionSet:r.selectionSet,rootValue:u,execContext:s})):(Mo(r,u),u)}),this.freezeResults,{result:n,missing:a}},t}();function Mo(t,e){if(!t.selectionSet&&zi(e))throw new De(10)}function th(){return!0}function Df(t){invariant(isIdValue(t),11)}function ih(t,e,i,r,n,s){var a=s.resultKey,l=s.directives,u=i;(r||l)&&(u=Cs(u,r,l));var c=void 0;if(t&&(c=t[u],typeof c=="undefined"&&n.cacheRedirects&&typeof e=="string")){var p=n.cacheRedirects[e];if(p){var b=p[i];b&&(c=b(t,r,{getCacheKey:function(_){var q=n.dataIdFromObject(_);return q&&Ki({id:q,typename:_.__typename})}}))}}return typeof c=="undefined"?{result:c,missing:[{object:t,fieldName:u,tolerable:!1}]}:(tu(c)&&(c=c.json),{result:c})}var kr=function(){function t(e){e===void 0&&(e=Object.create(null)),this.data=e}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,i){this.data[e]=i},t.prototype.delete=function(e){this.data[e]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(e){this.data=e||Object.create(null)},t}();function If(t){return new kr(t)}var rh=function(t){ft(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.type="WriteError",i}return e}(Error);function nh(t,e){var i=new rh(`Error writing result to store for query:
 `+JSON.stringify(e));return i.message+=`
`+t.message,i.stack=t.stack,i}var sh=function(){function t(){}return t.prototype.writeQueryToStore=function(e){var i=e.query,r=e.result,n=e.store,s=n===void 0?Ao():n,a=e.variables,l=e.dataIdFromObject,u=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:i,store:s,variables:a,dataIdFromObject:l,fragmentMatcherFunction:u})},t.prototype.writeResultToStore=function(e){var i=e.dataId,r=e.result,n=e.document,s=e.store,a=s===void 0?Ao():s,l=e.variables,u=e.dataIdFromObject,c=e.fragmentMatcherFunction,p=Yt(n);try{return this.writeSelectionSetToStore({result:r,dataId:i,selectionSet:p.selectionSet,context:{store:a,processedData:{},variables:Vr({},jr(p),l),dataIdFromObject:u,fragmentMap:Zi(Ji(n)),fragmentMatcherFunction:c}})}catch(b){throw nh(b,n)}},t.prototype.writeSelectionSetToStore=function(e){var i=this,r=e.result,n=e.dataId,s=e.selectionSet,a=e.context,l=a.variables,u=a.store,c=a.fragmentMap;return s.selections.forEach(function(p){var b;if(!!Gr(p,l))if(Pt(p)){var _=bi(p),q=r[_];if(typeof q!="undefined")i.writeFieldToStore({dataId:n,value:q,field:p,context:a});else{var V=!1,U=!1;p.directives&&p.directives.length&&(V=p.directives.some(function(ge){return ge.name&&ge.name.value==="defer"}),U=p.directives.some(function(ge){return ge.name&&ge.name.value==="client"})),!V&&!U&&a.fragmentMatcherFunction}}else{var z=void 0;Wi(p)?z=p:(z=(c||{})[p.name.value],ce(z,3));var K=!0;if(a.fragmentMatcherFunction&&z.typeCondition){var Z=n||"self",ie=Ki({id:Z,typename:void 0}),ee={store:new kr((b={},b[Z]=r,b)),cacheRedirects:{}},le=a.fragmentMatcherFunction(ie,z.typeCondition.name.value,ee);!xs()&&le==="heuristic",K=!!le}K&&i.writeSelectionSetToStore({result:r,selectionSet:z.selectionSet,dataId:n,context:a})}}),u},t.prototype.writeFieldToStore=function(e){var i,r=e.field,n=e.value,s=e.dataId,a=e.context,l=a.variables,u=a.dataIdFromObject,c=a.store,p,b,_=Xl(r,l);if(!r.selectionSet||n===null)p=n!=null&&typeof n=="object"?{type:"json",json:n}:n;else if(Array.isArray(n)){var q=s+"."+_;p=this.processArrayValue(n,q,r.selectionSet,a)}else{var V=s+"."+_,U=!0;if(jn(V)||(V="$"+V),u){var z=u(n);ce(!z||!jn(z),4),(z||typeof z=="number"&&z===0)&&(V=z,U=!1)}Oo(V,r,a.processedData)||this.writeSelectionSetToStore({dataId:V,result:n,selectionSet:r.selectionSet,context:a});var K=n.__typename;p=Ki({id:V,typename:K},U),b=c.get(s);var Z=b&&b[_];if(Z!==p&&zi(Z)){var ie=Z.typename!==void 0,ee=K!==void 0,le=ie&&ee&&Z.typename!==K;ce(!U||Z.generated||le,5),ce(!ie||ee,6),Z.generated&&(le?U||c.delete(Z.id):xo(Z.id,p.id,c))}}b=c.get(s),(!b||!Je(p,b[_]))&&c.set(s,Y(Y({},b),(i={},i[_]=p,i)))},t.prototype.processArrayValue=function(e,i,r,n){var s=this;return e.map(function(a,l){if(a===null)return null;var u=i+"."+l;if(Array.isArray(a))return s.processArrayValue(a,u,r,n);var c=!0;if(n.dataIdFromObject){var p=n.dataIdFromObject(a);p&&(u=p,c=!1)}return Oo(u,r,n.processedData)||s.writeSelectionSetToStore({dataId:u,result:a,selectionSet:r,context:n}),Ki({id:u,typename:a.__typename},c)})},t}();function jn(t){return t[0]==="$"}function xo(t,e,i){if(t===e)return!1;var r=i.get(t),n=i.get(e),s=!1;Object.keys(r).forEach(function(l){var u=r[l],c=n[l];zi(u)&&jn(u.id)&&zi(c)&&!Je(u,c)&&xo(u.id,c.id,i)&&(s=!0)}),i.delete(t);var a=Y(Y({},r),n);return Je(a,n)?s:(i.set(e,a),!0)}function Oo(t,e,i){if(!i)return!1;if(i[t]){if(i[t].indexOf(e)>=0)return!0;i[t].push(e)}else i[t]=[e];return!1}var ah={fragmentMatcher:new Xm,dataIdFromObject:oh,addTypename:!0,resultCaching:!0,freezeResults:!1};function oh(t){if(t.__typename){if(t.id!==void 0)return t.__typename+":"+t.id;if(t._id!==void 0)return t.__typename+":"+t._id}return null}var lh=Object.prototype.hasOwnProperty,qo=function(t){ft(e,t);function e(i,r,n){var s=t.call(this,Object.create(null))||this;return s.optimisticId=i,s.parent=r,s.transaction=n,s}return e.prototype.toObject=function(){return Y(Y({},this.parent.toObject()),this.data)},e.prototype.get=function(i){return lh.call(this.data,i)?this.data[i]:this.parent.get(i)},e}(kr),uh=function(t){ft(e,t);function e(i){i===void 0&&(i={});var r=t.call(this)||this;r.watches=new Set,r.typenameDocumentCache=new Map,r.cacheKeyRoot=new Hn(Wr),r.silenceBroadcast=!1,r.config=Y(Y({},ah),i),r.config.customResolvers&&(r.config.cacheRedirects=r.config.customResolvers),r.config.cacheResolvers&&(r.config.cacheRedirects=r.config.cacheResolvers),r.addTypename=!!r.config.addTypename,r.data=r.config.resultCaching?new gi:new kr,r.optimisticData=r.data,r.storeWriter=new sh,r.storeReader=new eh({cacheKeyRoot:r.cacheKeyRoot,freezeResults:i.freezeResults});var n=r,s=n.maybeBroadcastWatch;return r.maybeBroadcastWatch=xi(function(a){return s.call(r,a)},{makeCacheKey:function(a){if(!a.optimistic&&!a.previousResult&&n.data instanceof gi)return n.cacheKeyRoot.lookup(a.query,JSON.stringify(a.variables))}}),r}return e.prototype.restore=function(i){return i&&this.data.replace(i),this},e.prototype.extract=function(i){return i===void 0&&(i=!1),(i?this.optimisticData:this.data).toObject()},e.prototype.read=function(i){if(typeof i.rootId=="string"&&typeof this.data.get(i.rootId)=="undefined")return null;var r=this.config.fragmentMatcher,n=r&&r.match;return this.storeReader.readQueryFromStore({store:i.optimistic?this.optimisticData:this.data,query:this.transformDocument(i.query),variables:i.variables,rootId:i.rootId,fragmentMatcherFunction:n,previousResult:i.previousResult,config:this.config})||null},e.prototype.write=function(i){var r=this.config.fragmentMatcher,n=r&&r.match;this.storeWriter.writeResultToStore({dataId:i.dataId,result:i.result,variables:i.variables,document:this.transformDocument(i.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},e.prototype.diff=function(i){var r=this.config.fragmentMatcher,n=r&&r.match;return this.storeReader.diffQueryAgainstStore({store:i.optimistic?this.optimisticData:this.data,query:this.transformDocument(i.query),variables:i.variables,returnPartialData:i.returnPartialData,previousResult:i.previousResult,fragmentMatcherFunction:n,config:this.config})},e.prototype.watch=function(i){var r=this;return this.watches.add(i),function(){r.watches.delete(i)}},e.prototype.evict=function(i){throw new De(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(i){for(var r=[],n=0,s=this.optimisticData;s instanceof qo;)s.optimisticId===i?++n:r.push(s),s=s.parent;if(n>0){for(this.optimisticData=s;r.length>0;){var a=r.pop();this.performTransaction(a.transaction,a.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(i,r){var n=this,s=n.data,a=n.silenceBroadcast;this.silenceBroadcast=!0,typeof r=="string"&&(this.data=this.optimisticData=new qo(r,this.optimisticData,i));try{i(this)}finally{this.silenceBroadcast=a,this.data=s}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(i,r){return this.performTransaction(i,r)},e.prototype.transformDocument=function(i){if(this.addTypename){var r=this.typenameDocumentCache.get(i);return r||(r=du(i),this.typenameDocumentCache.set(i,r),this.typenameDocumentCache.set(r,r)),r}return i},e.prototype.broadcastWatches=function(){var i=this;this.silenceBroadcast||this.watches.forEach(function(r){return i.maybeBroadcastWatch(r)})},e.prototype.maybeBroadcastWatch=function(i){i.callback(this.diff({query:i.query,variables:i.variables,previousResult:i.previousResult&&i.previousResult(),optimistic:i.optimistic}))},e}(Am);function ch(t){return new Ze(function(e,i){var r=ws(e,[]);return new Le(function(n){var s;return Promise.resolve(r).then(function(a){return t(a,e.getContext())}).then(e.setContext).then(function(){s=i(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}).catch(n.error.bind(n)),function(){s&&s.unsubscribe()}})})}var dh=se(3033),mh={includeQuery:!0,includeExtensions:!1},hh={accept:"*/*","content-type":"application/json"},ph={method:"POST"},fh={http:mh,headers:hh,options:ph},Uo=function(t,e,i){var r=new Error(i);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r},gh=function(t){return function(e){return e.text().then(function(i){try{return JSON.parse(i)}catch(n){var r=n;return r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=i,Promise.reject(r)}}).then(function(i){return e.status>=300&&Uo(e,i,"Response not successful: Received status code "+e.status),!Array.isArray(i)&&!i.hasOwnProperty("data")&&!i.hasOwnProperty("errors")&&Uo(e,i,"Server response was missing for query '"+(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName)+"'."),i})}},vh=function(t){if(!t&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new De(1)}},wh=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},bh=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=Y({},e.options,{headers:e.headers,credentials:e.credentials}),s=e.http;i.forEach(function(b){n=Y({},n,b.options,{headers:Y({},n.headers,b.headers)}),b.credentials&&(n.credentials=b.credentials),s=Y({},s,b.http)});var a=t.operationName,l=t.extensions,u=t.variables,c=t.query,p={operationName:a,variables:u};return s.includeExtensions&&(p.extensions=l),s.includeQuery&&(p.query=(0,dh.S)(c)),{options:n,body:p}},Qn=function(t,e){var i;try{i=JSON.stringify(t)}catch(n){var r=new De(2);throw r.parseError=n,r}return i},yh=function(t,e){var i=t.getContext(),r=i.uri;return r||(typeof e=="function"?e(t):e||"/graphql")},Lo=function(t){t===void 0&&(t={});var e=t.uri,i=e===void 0?"/graphql":e,r=t.fetch,n=t.includeExtensions,s=t.useGETForQueries,a=ws(t,["uri","fetch","includeExtensions","useGETForQueries"]);vh(r),r||(r=fetch);var l={http:{includeExtensions:n},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new Ze(function(u){var c=yh(u,i),p=u.getContext(),b={};if(p.clientAwareness){var _=p.clientAwareness,q=_.name,V=_.version;q&&(b["apollographql-client-name"]=q),V&&(b["apollographql-client-version"]=V)}var U=Y({},b,p.headers),z={http:p.http,options:p.fetchOptions,credentials:p.credentials,headers:U},K=bh(u,fh,l,z),Z=K.options,ie=K.body,ee;if(!Z.signal){var le=wh(),ge=le.controller,he=le.signal;ee=ge,ee&&(Z.signal=he)}var _e=function(rt){return rt.kind==="OperationDefinition"&&rt.operation==="mutation"};if(s&&!u.query.definitions.some(_e)&&(Z.method="GET"),Z.method==="GET"){var de=kh(c,ie),Mt=de.newURI,Bi=de.parseError;if(Bi)return Gs(Bi);c=Mt}else try{Z.body=Qn(ie,"Payload")}catch(rt){return Gs(rt)}return new Le(function(rt){return r(c,Z).then(function(qe){return u.setContext({response:qe}),qe}).then(gh(u)).then(function(qe){return rt.next(qe),rt.complete(),qe}).catch(function(qe){qe.name!=="AbortError"&&(qe.result&&qe.result.errors&&qe.result.data&&rt.next(qe.result),rt.error(qe))}),function(){ee&&ee.abort()}})})};function kh(t,e){var i=[],r=function(b,_){i.push(b+"="+encodeURIComponent(_))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var n=void 0;try{n=Qn(e.variables,"Variables map")}catch(b){return{parseError:b}}r("variables",n)}if(e.extensions){var s=void 0;try{s=Qn(e.extensions,"Extensions map")}catch(b){return{parseError:b}}r("extensions",s)}var a="",l=t,u=t.indexOf("#");u!==-1&&(a=t.substr(u),l=t.substr(0,u));var c=l.indexOf("?")===-1?"?":"&",p=l+c+i.join("&")+a;return{newURI:p}}var Af=function(t){ft(e,t);function e(i){return t.call(this,Lo(i).request)||this}return e}(Ze),_h=Object.defineProperty,Oi=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?_h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const $o="Try again?",Rh="Cancel",Go="Sign in",Sh="Don't show again",Vo="prompt for sign in",Ho="login",Bo="github",jo=["read:user","user:email","repo"];class Eh{constructor(e){this._telemetry=e,Oi(this,"_githubAPI"),Oi(this,"_sessionId"),Oi(this,"_disposables"),Oi(this,"_onDidInitialize",new o.EventEmitter),Oi(this,"onDidInitialize",this._onDidInitialize.event),this._disposables=[],this._disposables.push(o.authentication.onDidChangeSessions(()=>{if(!this.isAuthenticated())return this.initialize()}))}async initialize(){const e=await o.authentication.getSession(Bo,jo,{createIfNone:!1});if(e){const i=e.accessToken;this._sessionId=e.id;const r=await this.createHub(i);this._githubAPI=r,await this.setCurrentUser(r),this._onDidInitialize.fire()}else $.debug("No token found.","Authentication")}async reset(){this._githubAPI=void 0,await this.initialize()}isAuthenticated(){return!!this._githubAPI}getHub(){return this._githubAPI}async getHubOrLogin(){var e;return(e=this._githubAPI)!=null?e:await this.login()}async showSignInNotification(){if(Xa(Vo,Ho)===!1)return;if(await o.window.showInformationMessage("In order to use the Pull Requests functionality, you must sign in to GitHub",Go,Sh)===Go)return await this.login();eo(Vo,Ho,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async logout(){this._sessionId&&o.authentication.logout("github",this._sessionId)}async login(){this._telemetry.sendTelemetryEvent("auth.start");let e=!0,i;for(;e;){try{const r=await this.getSessionOrLogin();i=await this.createHub(r)}catch(r){$.appendLine(`Error signing in to GitHub: ${r}`),r instanceof Error&&r.stack&&$.appendLine(r.stack)}i?e=!1:e=await o.window.showErrorMessage("Error signing in to GitHub",$o,Rh)===$o}return i?(this._githubAPI=i,await this.setCurrentUser(i),this._telemetry.sendTelemetryEvent("auth.success")):this._telemetry.sendTelemetryEvent("auth.fail"),i}isCurrentUser(e){var i,r;return((r=(i=this._githubAPI)==null?void 0:i.currentUser)==null?void 0:r.login)===e}getCurrentUser(){var e;return((e=this._githubAPI)==null?void 0:e.octokit)&&this._githubAPI.currentUser}async setCurrentUser(e){const i=await e.octokit.users.getAuthenticated({});e.currentUser=i.data}async getSessionOrLogin(){const e=await o.authentication.getSession(Bo,jo,{createIfNone:!0});return this._sessionId=e.id,e.accessToken}async createHub(e){const i=new Pm({request:{agent:ga},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview"],auth:`${e||""}`}),r=new zu({link:Ch("https://api.github.com",e||""),cache:new uh,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),n={octokit:i,graphql:r};return await this.setCurrentUser(n),n}dispose(){this._disposables.forEach(e=>e.dispose())}}const Ch=(t,e)=>ch((i,{headers:r})=>({headers:{...r,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.shadow-cat-preview+json, application/vnd.github.antiope-preview+json"}})).concat(Lo({uri:`${t}/graphql`,fetch:ln()}));var Th=Object.defineProperty,qi=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Th(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Mf extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class xf extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class Of extends Error{constructor(e,i,r){super();this.branchName=e,this.upstreamRef=i,this.problem=r}get message(){const{upstreamRef:{remote:e,name:i},branchName:r,problem:n}=this;return`The upstream ref ${e}/${i} for branch ${r} ${n}.`}}const qf="remotes",Uf="No Milestone";class Qo{constructor(e,i,r){this._folderManagers=e,this._credentialStore=i,this._telemetry=r,qi(this,"_subs"),qi(this,"_onDidChangeState",new o.EventEmitter),qi(this,"onDidChangeState",this._onDidChangeState.event),qi(this,"_state",Qe.Initializing),this._subs=[],o.commands.executeCommand("setContext",La,this._state),this._subs.push(...e.map(n=>n.onDidLoadRepositories(s=>this.state=s)))}get folderManagers(){return this._folderManagers}insertFolderManager(e){const i=o.workspace.workspaceFolders;if(i){const r=i.findIndex(n=>n.uri.toString()===e.repository.rootUri.toString());if(r>-1){const n=this._folderManagers.slice(r,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,r),this._folderManagers.push(e),this._folderManagers.push(...n);return}}this._folderManagers.push(e)}removeRepo(e){const i=this._folderManagers.findIndex(r=>r.repository.rootUri.toString()===e.rootUri.toString());if(i>-1){const r=this._folderManagers[i];this._folderManagers.splice(i),r.dispose()}}getManagerForIssueModel(e){if(e===void 0)return;const i=e.remote.url.substring(0,e.remote.url.length-v.extname(e.remote.url).length);for(const r of this._folderManagers)if(r.gitHubRepositories.map(n=>n.remote.url.substring(0,n.remote.url.length-v.extname(n.remote.url).length)).includes(i))return r}getManagerForFile(e){for(const i of this._folderManagers){const r=i.repository.rootUri.path,n=e.path.substring(r.length>1?r.length+1:r.length);if(o.Uri.joinPath(i.repository.rootUri,n).path===e.path)return i}}get state(){return this._state}set state(e){const i=e!==this._state;this._state=e,i&&(o.commands.executeCommand("setContext",La,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=Qe.Initializing}async authenticate(){return!!await this._credentialStore.login()}createGitHubRepository(e,i){return new ei(e,i,this._telemetry)}createGitHubRepositoryFromOwnerName(e,i){const r=`https://github.com/${e}/${i}`;return new ei(new rr(i,r,new Et(r)),this._credentialStore,this._telemetry)}dispose(){this._subs.forEach(e=>e.dispose())}}qi(Qo,"ID","RepositoriesManager");function Lf(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var Nh=Object.defineProperty,ct=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Wn{constructor(e){ct(this,"_onDidOpenRepository",new o.EventEmitter),ct(this,"onDidOpenRepository",this._onDidOpenRepository.event),ct(this,"_onDidCloseRepository",new o.EventEmitter),ct(this,"onDidCloseRepository",this._onDidCloseRepository.event),ct(this,"_onDidChangeState",new o.EventEmitter),ct(this,"onDidChangeState",this._onDidChangeState.event),ct(this,"_onDidPublish",new o.EventEmitter),ct(this,"onDidPublish",this._onDidPublish.event),ct(this,"_gitAPI"),ct(this,"_disposables");const i=e.exports;this._gitAPI=i.getAPI(1),this._disposables=[],this._disposables.push(this._gitAPI.onDidCloseRepository(r=>this._onDidCloseRepository.fire(r))),this._disposables.push(this._gitAPI.onDidOpenRepository(r=>this._onDidOpenRepository.fire(r))),this._disposables.push(this._gitAPI.onDidChangeState(r=>this._onDidChangeState.fire(r))),this._disposables.push(this._gitAPI.onDidPublish(r=>this._onDidPublish.fire(r)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static createProvider(){const e=o.extensions.getExtension("vscode.git");if(e)return new Wn(e)}dispose(){this._disposables.forEach(e=>e.dispose())}}var Ph=Object.defineProperty,Ne=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ph(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Fh{constructor(e){this._liveShareAPI=e,Ne(this,"_onDidOpenRepository",new o.EventEmitter),Ne(this,"onDidOpenRepository",this._onDidOpenRepository.event),Ne(this,"_onDidCloseRepository",new o.EventEmitter),Ne(this,"onDidCloseRepository",this._onDidCloseRepository.event),Ne(this,"_openRepositories",[]),Ne(this,"_sharedServiceProxy"),Ne(this,"_disposables"),this._disposables=[]}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(ls)||void 0,!!this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._disposables.push(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._disposables.push(o.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async i=>{i.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(i)}),e.removed.forEach(async i=>{i.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(i)})}async _refreshWorkspaces(e){o.workspace.workspaceFolders&&o.workspace.workspaceFolders.forEach(async i=>{i.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(i):await this.closeVSLSRepository(i))})}async openVSLSRepository(e){if(this.getRepository(e))return;const r=new Ah(e,this._sharedServiceProxy),n=new Dh,s=new Proxy(r,n);await s.initialize(),this.openRepository(s)}async closeVSLSRepository(e){const i=this.getRepository(e);!i||this.closeRepository(i)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(i=>i!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(i=>i.workspaceFolder===e)[0]}dispose(){this._sharedServiceProxy=void 0,this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}class Dh{constructor(){}get(e,i){return i in e?e[i]:function(...r){return e.proxy.request(Fr,[i,e.workspaceFolder.uri.toString(),...r])}}}class Ih{constructor(e){Ne(this,"HEAD"),Ne(this,"refs"),Ne(this,"remotes"),Ne(this,"submodules",[]),Ne(this,"rebaseCommit"),Ne(this,"mergeChanges",[]),Ne(this,"indexChanges",[]),Ne(this,"workingTreeChanges",[]),Ne(this,"_onDidChange",new o.EventEmitter),Ne(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs,this._onDidChange.fire()}}class Ah{constructor(e,i){this.workspaceFolder=e,this.proxy=i,Ne(this,"rootUri"),Ne(this,"state")}async initialize(){const e=await this.proxy.request(Fr,[us,this.workspaceFolder.uri.toString()]);this.state=new Ih(e),this.rootUri=o.Uri.parse(e.rootUri),this.proxy.onNotify(cs,this._notifyHandler.bind(this))}_notifyHandler(e){var i;(i=this.state)==null||i.update(e)}}var Mh=Object.defineProperty,Wo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Mh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class xh{constructor(e,i){this._liveShareAPI=e,this._api=i,Wo(this,"_sharedService"),Wo(this,"_disposables"),this._disposables=[]}async initialize(){this._sharedService=await this._liveShareAPI.shareService(ls)||void 0,this._sharedService&&this._sharedService.onRequest(Fr,this._gitHandler.bind(this))}async _gitHandler(e){const i=e[0],r=e[1],n=o.Uri.parse(r),s=this._liveShareAPI.convertSharedUriToLocal(n),a=this._api.getGitProvider(s);if(!a)return;const l=a.repositories.filter(u=>u.rootUri.toString()===s.toString())[0];if(l){const u=e.slice(2);if(i===us)return this._disposables.push(l.state.onDidChange(c=>{this._sharedService.notify(cs,{HEAD:l.state.HEAD,remotes:l.state.remotes,refs:l.state.refs})})),{HEAD:l.state.HEAD,remotes:l.state.remotes,refs:l.state.refs,rootUri:n.toString()};if(i==="show"){const c=u[1],p=n.with({path:c}),b=this._liveShareAPI.convertSharedUriToLocal(p);return u[1]=b.fsPath,l[i](...u)}if(l[i])return l[i](...u)}else return null}dispose(){this._disposables.forEach(e=>e.dispose()),this._sharedService=void 0,this._disposables=[]}}var Oh=Object.defineProperty,Ui=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Oh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);async function qh(){const t=o.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!t)return null;const e=t.isActive?t.exports:await t.activate();if(!e)return null;const i="0.3.967";return e.getApi?e.getApi(i):e.getApiAsync(i)}class Uh{constructor(e){this._api=e,Ui(this,"_liveShareAPI"),Ui(this,"_host"),Ui(this,"_guest"),Ui(this,"_localDisposables"),Ui(this,"_globalDisposables"),this._localDisposables=[],this._globalDisposables=[]}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await qh()),!!this._liveShareAPI)return this._globalDisposables.push(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(this._localDisposables.forEach(i=>i.dispose()),e.role===1){this._host=new xh(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new Fh(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}dispose(){this._liveShareAPI=void 0,this._localDisposables.forEach(e=>e.dispose()),this._globalDisposables.forEach(e=>e.dispose())}}function Lh(t){return new Uh(t)}function $h(t,e){const i=Wn.createProvider();if(i)return e.registerGitProvider(i),i}var Gh=Object.defineProperty,zo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Gh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Vh{constructor(e){this.pullRequestManager=e,zo(this,"onNotifiedEmitter",new o.EventEmitter),zo(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(i=>{i.onDidChangeAssignableUsers(r=>{this.notifySuggestedAccounts(r)})})}async requestAsync(e,i,r){let n=null;switch(e){case"initialize":n={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const s=new Map;for(const a of this.pullRequestManager.folderManagers){const l=a.getAllAssignableUsers();if(!!l)for(const u of l)s.has(u.login)||s.set(u.login,u)}s.size>0&&this.notifySuggestedAccounts(Array.from(s.values()));break;default:throw new Error(`type:${e} not supported`)}return n}async notifySuggestedAccounts(e){let i;try{i=await this.getCurrentUserLogin()}catch(r){}i&&e.findIndex(r=>r.login===i)!==-1&&this.notifySuggestedUsers(e.filter(r=>r.email).map(r=>({id:r.login,displayName:r.name?r.name:r.login,email:r.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const i=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(i){const r=i.hub.currentUser;if(r)return r.login}}notify(e,i){this.onNotifiedEmitter.fire({type:e,body:i})}notifySuggestedUsers(e,i){this.notify("suggestedUsers",{contacts:e,exclusive:i})}}var Hh=Object.defineProperty,Ko=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Hh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Bh{constructor(){Ko(this,"_extensionsDisposable"),Ko(this,"_subscriptions",[]),this._extensionsDisposable=o.extensions.onDidChange(this.onExtensionsChanged,this),this.onExtensionsChanged()}dispose(){this._extensionsDisposable.dispose(),o.Disposable.from(...this._subscriptions).dispose()}register(e){this._subscriptions.push(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(i){i.branch.isRemote||o.commands.executeCommand("pr.create",{repoPath:i.repoPath,compareBranch:i.branch.name})}}))}async onExtensionsChanged(){var e;const i=(e=o.extensions.getExtension("eamodio.gitlens"))!=null?e:o.extensions.getExtension("eamodio.gitlens-insiders");if(i)if(this._extensionsDisposable.dispose(),i.isActive)this.register(await i.exports);else{let r=0;const n=setInterval(async()=>{i.isActive?(clearInterval(n),this.register(await i.exports)):(r++,r>60&&clearInterval(n))},1e3)}}}var jh=Object.defineProperty,jt=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?jh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Yo{constructor(e,i,r,n,s){this.issueModel=e,this.manager=i,this.stateManager=r,this.shouldPromptForBranch=s,jt(this,"repoChangeDisposable"),jt(this,"_branchName"),jt(this,"user"),jt(this,"repo"),jt(this,"_repoDefaults"),jt(this,"_onDidChangeCurrentIssueState",new o.EventEmitter),jt(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(n!=null?n:this.issueModel.githubRepository.remote)}setRepo(e){var i;for(let r=0;r<this.stateManager.gitAPI.repositories.length;r++){const n=this.stateManager.gitAPI.repositories[r];for(let s=0;s<n.state.remotes.length;s++){const a=n.state.remotes[s];if(a.name===(e==null?void 0:e.remoteName)&&((i=a.fetchUrl)==null?void 0:i.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=n;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(){var e;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch()){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const i=this.manager.getCurrentUser(this.issueModel).login;return o.workspace.getConfiguration("githubIssues").get("assignWhenWorking")&&!((e=this.issueModel.assignees)==null?void 0:e.find(r=>r.login===i))&&(await this.manager.assignIssue(this.issueModel,i),await this.stateManager.refresh()),!0}}catch(i){o.window.showErrorMessage("There is no remote. Can't start working on an issue.")}return!1}dispose(){var e;(e=this.repoChangeDisposable)==null||e.dispose()}async stopWorking(){this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&await this.manager.repository.checkout(this._repoDefaults.base),this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async branchExists(e){try{return!!await this.manager.repository.getBranch(e)}catch(i){}return!1}async createOrCheckoutBranch(e){try{return await this.branchExists(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(i){return o.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${i.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async ensureBranchTitleConfigMigrated(){var e;const i=o.workspace.getConfiguration(Se),r=i.inspect(Ra);async function n(s,a){await i.update(dn,s,a),await i.update(Ra,void 0,a)}return(r==null?void 0:r.globalValue)&&await n(r.globalValue,o.ConfigurationTarget.Global),(r==null?void 0:r.workspaceValue)&&await n(r.workspaceValue,o.ConfigurationTarget.Workspace),(r==null?void 0:r.workspaceFolderValue)&&await n(r.workspaceFolderValue,o.ConfigurationTarget.WorkspaceFolder),(e=o.workspace.getConfiguration(Se).get(dn))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const i=/[^ \\@\~\^\?\*\[]+/,r=e.match(i);if(r&&r.length>0&&r[0]!==e)return"Branch name cannot contain a space or the following characters: \\@~^?*["}showBranchNameError(e){const i="Edit Setting";o.window.showErrorMessage(e,i).then(r=>{r===i&&o.commands.executeCommand("workbench.action.openSettings",`${Se}.${dn}`)})}async createIssueBranch(){const e=this.shouldPromptForBranch?"prompt":o.workspace.getConfiguration(Se).get(Sa);if(e==="off")return!0;const i=this.stateManager.getSavedIssueState(this.issueModel.number);if(this._branchName=this.shouldPromptForBranch?void 0:i.branch,!this._branchName){const r=await pr(await this.ensureBranchTitleConfigMigrated(),this.issue,void 0,await this.getUser());if(e==="on"){const n=this.validateBranchName(r);if(n)return this.showBranchNameError(n),!1;this._branchName=r}else this._branchName=await o.window.showInputBox({value:r,prompt:"Enter the label for the new branch."})}return this._branchName?(i.branch=this._branchName,this.stateManager.setSavedIssueState(this.issueModel,i),await this.createOrCheckoutBranch(this._branchName)||(this._branchName=void 0),!0):!1}async getCommitMessage(){const e=o.workspace.getConfiguration(Se).get(Bc);if(typeof e=="string")return pr(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}class Jo extends o.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,o.CompletionItemKind.Issue);this.issue=e}}class Qh{constructor(e,i,r){this.stateManager=e,this.repositoriesManager=i,this.context=r}async provideCompletionItems(e,i,r,n){var s,a,l,u;if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&i.character>0&&n.triggerKind===o.CompletionTriggerKind.Invoke&&!e.getText(e.getWordRangeAtPosition(i)).match(/#[0-9]*$/))return[];if(i.character<=6&&e.languageId==="markdown"&&e.getText(new o.Range(i.with(void 0,0),i))===new Array(i.character+1).join("#"))return[];if(n.triggerKind===o.CompletionTriggerKind.TriggerCharacter&&o.workspace.getConfiguration(Se).get("ignoreCompletionTrigger",[]).find(U=>U===e.languageId))return[];if(e.languageId!=="scminput"&&!await gn(e,i))return[];let c=new o.Range(i,i);i.character-1>=0&&e.getText(new o.Range(i.translate(0,-1),i))==="#"&&(c=new o.Range(i.translate(0,-1),i)),await this.stateManager.tryInitializeAndWait();const p=new Map,b=new Date;let _,q;if(e.languageId==="scminput"?q=Ma(e.uri):e.uri.scheme==="comment"?q=o.window.visibleTextEditors.length>0?(s=o.workspace.getWorkspaceFolder(o.Uri.file(o.window.visibleTextEditors[0].document.uri.fsPath)))==null?void 0:s.uri:void 0:q=(a=o.workspace.getWorkspaceFolder(e.uri))==null?void 0:a.uri,!q)return[];try{_=await((l=this.repositoriesManager.getManagerForFile(q))==null?void 0:l.getPullRequestDefaults())}catch(U){}const V=this.stateManager.getIssueCollection(q);for(const U of V){const z=(u=await U[1])!=null?u:[];if(z.length!==0)if(z[0]instanceof Ae){let K=0;for(const Z of z)p.set(ni(Z),await this.completionItemFromIssue(_,Z,b,c,e,K++))}else for(let K=0;K<z.length;K++){const Z=z[K];for(const ie of Z.issues)p.set(ni(ie),await this.completionItemFromIssue(_,ie,b,c,e,K,Z.milestone))}}return[...p.values()]}async completionItemFromIssue(e,i,r,n,s,a,l){var u;const c=new Jo(i);if(s.languageId==="markdown")c.insertText=`[${ni(i,e)}](${i.html_url})`;else{const b=o.workspace.getConfiguration(Se).get("issueCompletionFormatScm");s.uri.path.match(/scm\/git\/scm\d\/input/)&&typeof b=="string"?c.insertText=await pr(b,i,e):c.insertText=`${ni(i,e)}`}c.documentation=i.body,c.range=n,c.detail=l?l.title:(u=i.milestone)==null?void 0:u.title;let p=(r.getTime()-new Date(i.updatedAt).getTime()).toString();return p=new Array(20-p.length).join("0")+p,c.sortText=`${a} ${p}`,c.filterText=`${c.detail} # ${i.number} ${i.title} ${c.documentation}`,c}async resolveCompletionItem(e,i){return e instanceof Jo&&(e.documentation=await pn(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:"Issue Completion Chose,"}),e}}var Wh=Object.defineProperty,Li=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Wh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const kt="newIssue",zh="NewIssue.md",_r="Assignees:",$i="Labels:";function zn(t){const e=JSON.parse(t.query);if(e.origin)return o.Uri.parse(e.origin)}class Kh{constructor(){Li(this,"content"),Li(this,"createTime",0),Li(this,"modifiedTime",0),Li(this,"_onDidChangeFile",new o.EventEmitter),Li(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,i){const r=this.onDidChangeFile(n=>{n.length===0&&n[0].type===o.FileChangeType.Deleted&&r.dispose()});return r}stat(e){var i,r;return{type:o.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(r=(i=this.content)==null?void 0:i.length)!=null?r:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var i;return(i=this.content)!=null?i:new Uint8Array(0)}writeFile(e,i,r={create:!1,overwrite:!1}){const n=this.content;this.content=i,n===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:o.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:o.FileChangeType.Changed}]))}delete(e,i){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:o.FileChangeType.Deleted}])}rename(e,i,r){}}class Yh{constructor(e){this.manager=e}async provideCompletionItems(e,i,r,n){if(!e.lineAt(i.line).text.startsWith($i))return[];const s=zn(e.uri);if(!s)return[];const a=this.manager.getManagerForFile(s);if(!a)return[];const l=await a.getPullRequestDefaults();return(await a.getLabels(void 0,l)).map(c=>{const p=new o.CompletionItem(c.name,o.CompletionItemKind.Color);return p.documentation=`#${c.color}`,p.commitCharacters=[" ",","],p})}}class Jh{constructor(e,i,r,n){this.manager=e,this.stateManager=i,this.context=r,this.telemetry=n}async provideHover(e,i,r){if(!await Aa(e,i))return;let n=e.getWordRangeAtPosition(i,Ei);if(n&&n.start.character>0){n=new o.Range(new o.Position(n.start.line,n.start.character-1),n.end);const a=e.getText(n).match(Ei),l=mn(a),u=this.manager.getManagerForFile(e.uri);if(!u)return;if(l&&a&&l.issueNumber<=this.stateManager.maxIssueNumber(u.repository.rootUri))return this.createHover(u,a[0],l,n)}else return}async createHover(e,i,r,n){const s=await jc(this.stateManager,e,i,r);if(!!s)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new o.Hover(await pn(s,this.context,this.manager,r.commentNumber),n)}}var Zh=Object.defineProperty,Zo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Zh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Qt extends o.TreeItem{constructor(e,i,r){super(i,r);this.uri=e}get labelAsString(){var e;return typeof this.label=="string"?this.label:(e=this.label)==null?void 0:e.label}}class Xh{constructor(e,i,r){this.stateManager=e,this.manager=i,this.context=r,Zo(this,"_onDidChangeTreeData",new o.EventEmitter),Zo(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),r.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),r.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),r.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getTreeItem(e){var i;let r;return e instanceof Qt?r=e:e instanceof si?r=new Qt(e.repository.rootUri,v.basename(e.repository.rootUri.fsPath),o.TreeItemCollapsibleState.Expanded):e instanceof Ae?(r=new Qt(void 0,`${e.number}: ${e.title}`,o.TreeItemCollapsibleState.None),r.iconPath=e.isOpen?new o.ThemeIcon("issues",new o.ThemeColor("issues.open")):new o.ThemeIcon("issue-closed",new o.ThemeColor("issues.closed")),((i=this.stateManager.currentIssue(e.uri))==null?void 0:i.issue.number)===e.number?(r.label=`\u2713 ${r.label}`,r.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue",Lc(e)&&(r.contextValue="link"+r.contextValue)):r=new Qt(e.uri,e.milestone.title,e.issues.length>0?o.TreeItemCollapsibleState.Expanded:o.TreeItemCollapsibleState.None),r}getChildren(e){return e===void 0&&this.manager.state!==Qe.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,i){return i instanceof Ae&&(e.tooltip=await pn(i,this.context,this.manager)),e}getStateChildren(){return this.manager.state===Qe.NeedsAuthentication?[]:[new Qt(void 0,"Loading...")]}getQueryItems(e){const i=this.stateManager.getIssueCollection(e.repository.rootUri);if(i.size===1)return Array.from(i.values())[0];const r=Array.from(i.keys()),n=r[0];return r.map(s=>{const a=new Qt(e.repository.rootUri,s);return a.contextValue="query",a.collapsibleState=s===n?o.TreeItemCollapsibleState.Expanded:o.TreeItemCollapsibleState.Collapsed,a})}getIssuesChildren(e){var i;return e===void 0?this.manager.folderManagers.length===1?this.getQueryItems(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]:e instanceof si?this.getQueryItems(e):e instanceof Qt?e.uri?(i=this.stateManager.getIssueCollection(e.uri).get(e.labelAsString))!=null?i:[]:[]:e instanceof Ae?[]:e.issues.map(r=>{const n=Object.assign(r);return n.uri=e.uri,n})}}var ep=Object.defineProperty,tp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?ep(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class ip{constructor(e){tp(this,"expression"),e.subscriptions.push(o.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=o.workspace.getConfiguration(Se).get("createIssueTriggers",[]);this.expression=e.length>0?new RegExp(e.join("|")):void 0}async provideCodeActions(e,i,r,n){if(this.expression===void 0||r.only&&r.only!==o.CodeActionKind.QuickFix)return[];const s=[];let a=i.start.line;do{const l=e.lineAt(a).text,u=l.substring(0,Vc);if(!u.match(Ei)){const p=u.search(this.expression);if(p>=0){const b=new o.CodeAction("Create GitHub Issue",o.CodeActionKind.QuickFix),_=u.substring(p).search(/\s/),q=p+(_>0?_:u.match(this.expression)[0].length);b.command={title:"Create GitHub Issue",command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:a,line:l,insertIndex:q,range:i}]},s.push(b);break}}a++}while(i.end.line>=a);return s}}var rp=Object.defineProperty,ze=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?rp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const np=["Recovery"],sp="currentIssue",Kn="issues",Xo="ignoreMilestones",Yn=[{label:"My Issues",query:"default"}];class $f extends null{constructor(){super(...arguments);ze(this,"uri")}}class ap{constructor(e,i,r){this.gitAPI=e,this.manager=i,this.context=r,ze(this,"resolvedIssues",new Map),ze(this,"_singleRepoStates",new Map),ze(this,"_onRefreshCacheNeeded",new o.EventEmitter),ze(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),ze(this,"_onDidChangeIssueData",new o.EventEmitter),ze(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),ze(this,"_queries",[]),ze(this,"_onDidChangeCurrentIssue",new o.EventEmitter),ze(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),ze(this,"initializePromise"),ze(this,"statusBarItem"),ze(this,"isSettingIssue",!1),i.folderManagers.forEach(n=>{this.context.subscriptions.push(n.onDidChangeRepositories(()=>this.refresh()))})}getIssueCollection(e){var i;let r=(i=this._singleRepoStates.get(e.path))==null?void 0:i.issueCollection;return r||(r=new Map,r)}getOrCreateSingleRepoState(e,i){let r=this._singleRepoStates.get(e.path);return r||(i||(i=this.manager.getManagerForFile(e)),r={issueCollection:new Map,maxIssueNumber:0,folderManager:i},this._singleRepoStates.set(e.path,r),r)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.state===Qe.RepositoriesLoaded)this.doInitialize(),e();else{const i=this.manager.onDidChangeState(()=>{this.manager.state===Qe.RepositoriesLoaded&&(this.doInitialize(),i.dispose(),e())});this.context.subscriptions.push(i)}})),this.initializePromise}registerRepositoryChangeEvent(){this.gitAPI.repositories.forEach(e=>{this.context.subscriptions.push(e.state.onDidChange(async()=>{var i;const r=this.getOrCreateSingleRepoState(e.rootUri),n=r.lastHead,s=r.lastBranch,a=e.state.HEAD?e.state.HEAD.commit:void 0;(e.state.HEAD?e.state.HEAD.commit:void 0)!==n&&await this.setIssueData(r.folderManager);const l=(i=e.state.HEAD)==null?void 0:i.name;(n!==a||s!==l)&&(!r.currentIssue||l!==r.currentIssue.branchName)&&(l?r.folderManager&&await this.setCurrentIssueFromBranch(r,l):await this.setCurrentIssue(r,void 0)),r.lastHead=e.state.HEAD?e.state.HEAD.commit:void 0,r.lastBranch=e.state.HEAD?e.state.HEAD.name:void 0}))})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(){return this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=o.workspace.getConfiguration(Se).get(ri,Yn),this._queries.length===0&&(this._queries=Yn),this.context.subscriptions.push(o.workspace.onDidChangeConfiguration(i=>{i.affectsConfiguration(`${Se}.${ri}`)?(this._queries=o.workspace.getConfiguration(Se).get(ri,Yn),this._onRefreshCacheNeeded.fire()):i.affectsConfiguration(`${Se}.${Xo}`)&&this._onRefreshCacheNeeded.fire()})),await this.setAllIssueData(),this.registerRepositoryChangeEvent(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const i of this.manager.folderManagers){const r=this.getOrCreateSingleRepoState(i.repository.rootUri,i);r.lastHead=i.repository.state.HEAD?i.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(i.repository.rootUri.path,r);const n=(e=i.repository.state.HEAD)==null?void 0:e.name;!r.currentIssue&&n&&await this.setCurrentIssueFromBranch(r,n)}}cleanIssueState(){const e=this.context.workspaceState.get(Kn),i=e?JSON.parse(e):{issues:[],branches:[]},r=new Date().valueOf()-30*864e5;for(const n in i.issues)i.issues[n].stateModifiedTime<r&&(i.branches&&i.branches[n]&&delete i.branches[n],delete i.issues[n])}async getUsers(e){var i;await this.initializePromise;const r=await((i=this.manager.getManagerForFile(e))==null?void 0:i.getAssignableUsers()),n=new Map;for(const s in r)r[s].forEach(a=>{n.set(a.login,a)});return n}getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const i=this.getOrCreateSingleRepoState(e);return i.userMap||(i.userMap=this.getUsers(e)),i.userMap}async getCurrentUser(){var e;return(e=this.manager.credentialStore.getCurrentUser())==null?void 0:e.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var i,r;const n=this.getOrCreateSingleRepoState(e.repository.rootUri,e);n.issueCollection.clear();let s,a;for(const l of this._queries){let u;if(l.query===Hc)u=this.setMilestones(e);else{if(!s)try{s=await e.getPullRequestDefaults()}catch(c){}a||(a=await this.getCurrentUser()),u=this.setIssues(e,await pr(l.query,void 0,s,a))}n.issueCollection.set(l.label,u)}n.maxIssueNumber=await e.getMaxIssue(),n.lastHead=(i=e.repository.state.HEAD)==null?void 0:i.commit,n.lastBranch=(r=e.repository.state.HEAD)==null?void 0:r.name}setIssues(e,i){return new Promise(async r=>{const n=await e.getIssues({fetchNextPage:!1},i);this._onDidChangeIssueData.fire(),r(n.items.map(s=>{const a=s;return a.uri=e.repository.rootUri,a}))})}async setCurrentIssueFromBranch(e,i){if(o.workspace.getConfiguration(Se).get(Sa)==="off")return;let n;try{n=await e.folderManager.getPullRequestDefaults()}catch(a){return}if(i===n.base){await this.setCurrentIssue(e,void 0);return}if(e.currentIssue&&e.currentIssue.branchName===i)return;const s=this.getSavedState();for(const a in s.branches)if(a===i){const l=await e.folderManager.resolveIssue(s.branches[a].owner,s.branches[a].repositoryName,s.branches[a].number);l&&await this.setCurrentIssue(e,new Yo(l,e.folderManager,this));return}}setMilestones(e){return new Promise(async i=>{const r=new Date,n=o.workspace.getConfiguration(Se).get(Xo,[]),s=await e.getMilestones({fetchNextPage:!1},n.indexOf($a)<0);let a;const l=new Map,u=[];for(let c=0;c<s.items.length;c++){const p=s.items[c];p.uri=e.repository.rootUri;const b=s.items[c].milestone;if(p.issues&&p.issues.length<=0||n.indexOf(b.title)>=0)continue;u.push(p);let _=b.dueOn?new Date(b.dueOn):void 0;_||(_=new Date(this.removeDateExcludeStrings(b.title)),isNaN(_.getTime())&&(_=new Date(b.createdAt))),_<r&&(a===void 0||_>a)&&(a=_),l.set(b.id?b.id:b.title,_)}u.sort((c,p)=>{const b=l.get(c.milestone.id?c.milestone.id:c.milestone.title),_=l.get(p.milestone.id?p.milestone.id:p.milestone.title);return a&&b>=a&&_>=a?b<=_?-1:1:b>=_?-1:1}),this._onDidChangeIssueData.fire(),i(u)})}removeDateExcludeStrings(e){return np.forEach(i=>e=e.replace(i,"")),e}currentIssue(e){var i;return(i=this._singleRepoStates.get(e.path))==null?void 0:i.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var i,r;return(r=(i=this._singleRepoStates.get(e.path))==null?void 0:i.maxIssueNumber)!=null?r:0}async setCurrentIssue(e,i){if(!(this.isSettingIssue&&i===void 0)){if(this.isSettingIssue=!0,e instanceof si){const r=this._singleRepoStates.get(e.repository.rootUri.path);if(!r)return;e=r}try{if(e.currentIssue&&(i==null?void 0:i.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(),i&&this.context.subscriptions.push(i.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(sp,i==null?void 0:i.issue.number),(!i||await i.startWorking())&&(e.currentIssue=i,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch(r){}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),i=e.length>0;if(!i){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}i&&!this.statusBarItem&&(this.statusBarItem=o.window.createStatusBarItem(o.StatusBarAlignment.Left,0));const r=this.statusBarItem;r.text=`$(issues) Issue ${e.map(n=>ni(n.issue,n.repoDefaults)).join(", ")}`,r.tooltip=e.map(n=>n.issue.title).join(", "),r.command="issue.statusBar",r.show()}getSavedState(){const e=this.context.workspaceState.get(Kn);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var i;return(i=this.getSavedState().issues[`${e}`])!=null?i:{}}setSavedIssueState(e,i){const r=this.getSavedState();r.issues[`${e.number}`]={...i,stateModifiedTime:new Date().valueOf()},i.branch&&(r.branches||(r.branches=Object.create(null)),r.branches[i.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Kn,JSON.stringify(r))}}class op{constructor(e,i,r){this.stateManager=e,this.manager=i}async provideCompletionItems(e,i,r,n){var s;if(e.languageId!=="scminput"&&e.uri.scheme!==kt&&i.character>0&&n.triggerKind===o.CompletionTriggerKind.Invoke&&e.getText(new o.Range(i.with(void 0,i.character-1),i))!=="@")return[];if(n.triggerKind===o.CompletionTriggerKind.TriggerCharacter&&o.workspace.getConfiguration(Se).get("ignoreUserCompletionTrigger",[]).find(c=>c===e.languageId))return[];if(e.languageId!=="scminput"&&!await gn(e,i))return[];let a=new o.Range(i,i);i.character-1>=0&&e.getText(new o.Range(i.translate(0,-1),i))==="@"&&(a=new o.Range(i.translate(0,-1),i));const l=e.uri.scheme===kt?(s=zn(e.uri))!=null?s:e.uri:e.languageId==="scminput"?Ma(e.uri):e.uri;if(!l)return[];const u=[];return(await this.stateManager.getUserMap(l)).forEach(c=>{const p=new Wc(c.login,o.CompletionItemKind.User);p.insertText=`@${c.login}`,p.login=c.login,p.uri=l,p.range=a,p.detail=c.name,p.filterText=`@ ${c.login} ${c.name}`,e.uri.scheme===kt&&(p.commitCharacters=[" ",","]),u.push(p)}),u}async resolveCompletionItem(e,i){const r=this.manager.getManagerForFile(e.uri);if(!r)return e;const n=await r.getPullRequestDefaults(),s=await r.resolveUser(n.owner,n.repo,e.login);return s&&(e.documentation=hn(n,s),e.command={command:"issues.userCompletion",title:"User Completion Chosen"}),e}}class lp{constructor(e,i){this.manager=e,this.telemetry=i}async provideHover(e,i,r){if(!await Aa(e,i))return;let n=e.getWordRangeAtPosition(i,cn);if(n&&n.start.character>0){n=new o.Range(new o.Position(n.start.line,n.start.character),n.end);const a=e.getText(n).match(cn);if(a)return this.createHover(e.uri,a[1],n)}else return}async createHover(e,i,r){try{const n=this.manager.getManagerForFile(e);if(!n)return;const s=await n.getPullRequestDefaults(),a=await n.resolveUser(s.owner,s.repo,i);return a&&a.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new o.Hover(hn(s,a),r)):void 0}catch(n){return}}}var up=Object.defineProperty,Jn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const cp="issueCompletions.enabled",dp="userCompletions.enabled";class mp{constructor(e,i,r,n,s){this.gitAPI=e,this.manager=i,this.reviewManagers=r,this.context=n,this.telemetry=s,Jn(this,"_stateManager"),Jn(this,"createIssueInfo"),Jn(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},"*"]),this._stateManager=new ap(e,this.manager,this.context)}async initialize(){return this.context.subscriptions.push(o.workspace.registerFileSystemProvider(kt,new Kh)),this.registerCompletionProviders(),this.context.subscriptions.push(o.languages.registerCompletionItemProvider({scheme:kt},new Yh(this.manager)," ",",")),this.context.subscriptions.push(o.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new Xh(this._stateManager,this.manager,this.context)})),this.context.subscriptions.push(o.commands.registerCommand("issue.createIssueFromSelection",(e,i)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(e,i)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.copyGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.copyMarkdownGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.openIssue",e=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(e)))),this.context.subscriptions.push(o.commands.registerCommand("issue.startWorking",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.continueWorking",e=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.startWorkingBranchPrompt",e=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.stopWorking",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.copyIssueNumber",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(e)))),this.context.subscriptions.push(o.commands.registerCommand("issue.copyIssueUrl",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(e)))),this.context.subscriptions.push(o.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.editQuery",e=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(e)),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.createIssueFromFile",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),this.createIssueFromFile()),this)),this.context.subscriptions.push(o.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this.context.subscriptions.push(o.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this.context.subscriptions.push(o.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this.context.subscriptions.push(o.commands.registerCommand("issue.goToLinkedCode",async e=>$c(e,this.manager))),this._stateManager.tryInitializeAndWait().then(()=>{this.context.subscriptions.push(o.languages.registerHoverProvider("*",new Jh(this.manager,this._stateManager,this.context,this.telemetry))),this.context.subscriptions.push(o.languages.registerHoverProvider("*",new lp(this.manager,this.telemetry))),this.context.subscriptions.push(o.languages.registerCodeActionsProvider("*",new ip(this.context)))})}dispose(){}registerCompletionProviders(){const e=[{provider:Qh,trigger:"#",disposable:void 0,configuration:cp},{provider:op,trigger:"@",disposable:void 0,configuration:dp}];for(const i of e)o.workspace.getConfiguration(Se).get(i.configuration,!0)&&this.context.subscriptions.push(i.disposable=o.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));this.context.subscriptions.push(o.workspace.onDidChangeConfiguration(i=>{for(const r of e)if(i.affectsConfiguration(`${Se}.${r.configuration}`)){const n=o.workspace.getConfiguration(Se).get(r.configuration,!0);!n&&r.disposable?(r.disposable.dispose(),r.disposable=void 0):n&&!r.disposable&&this.context.subscriptions.push(r.disposable=o.languages.registerCompletionItemProvider(this.documentFilters,new r.provider(this._stateManager,this.manager,this.context),r.trigger));break}}))}async createIssue(){var e,i;let r=(e=o.window.activeTextEditor)==null?void 0:e.document.uri;if(r||(r=(i=await this.chooseRepo("Select the repo to create the issue in."))==null?void 0:i.repository.rootUri),r)return this.makeNewIssueFile(r)}async createIssueFromFile(){var e,i,r,n;let s;if(!o.window.activeTextEditor||o.window.activeTextEditor.document.uri.scheme!==kt)return;s=o.window.activeTextEditor.document.getText();const a=s.indexOf(`\r
\r
`),l=s.indexOf(`

`);let u;if(a<0&&l<0)return;a<0?u=l:l<0?u=a:u=Math.min(a,l);const c=s.substring(0,u);let p;if(s=s.substring(u+2).trim(),s.startsWith(_r)){const V=s.split(/\r\n|\n/,1);V.length===1&&(p=V[0].substring(_r.length).split(",").map(U=>(U=U.trim(),U.startsWith("@")&&(U=U.substring(1)),U)),s=s.substring(V[0].length).trim())}let b;if(s.startsWith($i)){const V=s.split(/\r\n|\n/,1);V.length===1&&(b=V[0].substring($i.length).split(",").map(U=>U.trim()).filter(U=>U),s=s.substring(V[0].length).trim())}const _=s;if(!c||!_)return;const q=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(i=this.createIssueInfo)==null?void 0:i.newIssue,c,_,p,b,(r=this.createIssueInfo)==null?void 0:r.lineNumber,(n=this.createIssueInfo)==null?void 0:n.insertIndex,zn(o.window.activeTextEditor.document.uri));this.createIssueInfo=void 0,q&&await o.commands.executeCommand("workbench.action.closeActiveEditor")}async editQuery(e){const i=o.workspace.getConfiguration(Se),r=i.inspect(ri);let n;if(r==null?void 0:r.workspaceValue)n="workbench.action.openWorkspaceSettingsFile";else{const a=i.get(ri);(r==null?void 0:r.defaultValue)&&JSON.stringify(r==null?void 0:r.defaultValue)===JSON.stringify(a)&&i.update(ri,r.defaultValue,o.ConfigurationTarget.Global),n="workbench.action.openSettingsJson"}await o.commands.executeCommand(n);const s=o.window.activeTextEditor;if(s){const l=s.document.getText().search(e.labelAsString);if(l>=0){const u=s.document.positionAt(l);s.revealRange(new o.Range(u,u)),s.selection=new o.Selection(u,u)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await o.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),o.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Ae)return o.env.openExternal(o.Uri.parse(e.html_url))}async doStartWorking(e,i,r){if(!e){o.window.showErrorMessage(`There are no repositories open that match ${i.remote.url}`);return}const n=await e.findUpstreamForItem(i);n.needsFork&&await e.tryOfferToFork(i.githubRepository)===void 0||await this._stateManager.setCurrentIssue(e,new Yo(i,e,this._stateManager,n.remote,r))}async startWorking(e){e instanceof Ae&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e)}async startWorkingBranchPrompt(e){e instanceof Ae&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var i;const r=this.manager.getManagerForIssueModel(e);!r||e instanceof Ae&&((i=this._stateManager.currentIssue(r.repository.rootUri))==null?void 0:i.issue.number)===e.number&&await this._stateManager.setCurrentIssue(r,void 0)}async statusBarActions(e){const i=`$(globe) Open #${e.issue.number} ${e.issue.title}`,r=`$(git-pull-request) Create pull request for #${e.issue.number} (pushes branch)`;let n;try{n=await e.manager.getPullRequestDefaults()}catch(u){}const s=`$(primitive-square) Stop working on #${e.issue.number}`,a=e.branchName&&n?[i,r,s]:[i,r,s];switch(await o.window.showQuickPick(a,{placeHolder:"Current issue options"})){case i:return this.openIssue(e.issue);case r:{const u=Vt.getReviewManagerForFolderManager(this.reviewManagers,e.manager);if(u)return sd(e.manager,u,this._stateManager);break}case s:return this._stateManager.setCurrentIssue(e.manager,void 0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const i=e.map(n=>({label:`#${n.issue.number} from ${n.issue.githubRepository.remote.owner}/${n.issue.githubRepository.remote.repositoryName}`,currentIssue:n})),r=await o.window.showQuickPick(i);if(r)return this.statusBarActions(r.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Ae)return o.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Ae)return o.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await o.env.clipboard.readText())}async createTodoIssue(e,i){let r,n,s,a,l,u;if(!e&&o.window.activeTextEditor)r=o.window.activeTextEditor.document,u=r.getText(o.window.activeTextEditor.selection);else if(e)r=e.document,s=e.insertIndex,a=e.lineNumber,n=e.line.substring(s,e.line.length).trim(),u=r.getText(e.range.isEmpty?r.lineAt(e.range.start.line).range:e.range);else return;const c=u.match(cn);c&&c.length===2&&(await this._stateManager.getUserMap(r.uri)).has(c[1])&&(l=[c[1]]);let p;const b=i||(e==null?void 0:e.document.isUntitled)?i:(await fn(this.gitAPI,e)).permalink,_=o.window.createInputBox();_.value=n!=null?n:"",_.prompt="Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description.",_.title="Create Issue",_.buttons=[{iconPath:new o.ThemeIcon("edit"),tooltip:"Edit Description"}],_.onDidAccept(async()=>{p=_.value,p&&(_.busy=!0,await this.doCreateIssue(r,e,p,b,l,void 0,a,s),_.busy=!1),_.hide()}),_.onDidTriggerButton(async()=>{p=_.value,_.busy=!0,this.createIssueInfo={document:r,newIssue:e,lineNumber:a,insertIndex:s},this.makeNewIssueFile(r.uri,p,b,l),_.busy=!1,_.hide()}),_.show()}async makeNewIssueFile(e,i,r,n){const s=`?{"origin":"${e.toString()}"}`,a=o.Uri.parse(`${kt}:/${zh}${s}`);if(o.window.visibleTextEditors.filter(U=>U.document.uri.scheme===kt).length>0)return;await o.workspace.fs.delete(a);const l=`${_r} ${n&&n.length>0?n.map(U=>"@"+U).join(", ")+" ":""}`,u=`${$i} `,c=`${i!=null?i:"Issue Title"}

${l}
${u}

${r!=null?r:""}

<!-- Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue. -->`;await o.workspace.fs.writeFile(a,this.stringToUint8Array(c));const p=o.window.createTextEditorDecorationType({after:{contentText:" Comma-separated usernames, either @username or just username.",fontStyle:"italic",color:new o.ThemeColor("issues.newIssueDecoration")}}),b=o.window.createTextEditorDecorationType({after:{contentText:" Comma-separated labels.",fontStyle:"italic",color:new o.ThemeColor("issues.newIssueDecoration")}}),_=o.window.onDidChangeActiveTextEditor(U=>{if((U==null?void 0:U.document.uri.scheme)===kt){const z=U.document.lineAt(2);z.text.startsWith(_r)&&U.setDecorations(p,[new o.Range(new o.Position(2,0),new o.Position(2,z.text.length))]);const K=U.document.lineAt(3);K.text.startsWith($i)&&U.setDecorations(b,[new o.Range(new o.Position(3,0),new o.Position(3,K.text.length))])}}),q=await o.window.showTextDocument(a),V=o.workspace.onDidCloseTextDocument(U=>{U===q.document&&(_.dispose(),V.dispose())})}async verifyLabels(e,i){var r;if(!i.labels)return!0;const n=(await e.getLabels(void 0,i)).map(l=>l.name),s=[],a=[];if((r=i.labels)==null||r.forEach(l=>{typeof l!="string"&&(l=l.name),n.includes(l)?a.push(l):s.push(l)}),s.length>0){const l="Yes",u="No";switch(await o.window.showInformationMessage(`The following labels don't exist in this repository: ${s.join(", ")}. 
Do you want to create these labels?`,{modal:!0},l,u)){case l:return!0;case u:return i.labels=a,!0;default:return!1}}return!0}async chooseRepo(e){const i=[];for(const n of this.manager.folderManagers)try{const s=await n.getPullRequestDefaults();i.push({label:`${s.owner}/${s.repo}`,repo:n})}catch(s){}if(i.length===0)return;if(i.length===1)return i[0].repo;const r=await o.window.showQuickPick(i,{placeHolder:e});return r==null?void 0:r.repo}async doCreateIssue(e,i,r,n,s,a,l,u,c){let p,b;if(e?b=this.manager.getManagerForFile(e.uri):c?b=this.manager.getManagerForFile(c):b=await this.chooseRepo("Choose where to create the issue."),!b)return!1;try{p=await b.getPullRequestDefaults()}catch(U){return o.window.showErrorMessage("There is no remote. Can't create an issue."),!1}const _=n||(i==null?void 0:i.document.isUntitled)?n:(await fn(this.gitAPI,i)).permalink,q={owner:p.owner,repo:p.repo,title:r,body:_,assignees:s,labels:a};if(!await this.verifyLabels(b,q))return!1;const V=await b.createIssue(q);if(V){if(e!==void 0&&u!==void 0&&l!==void 0){const U=new o.WorkspaceEdit,z=o.workspace.getConfiguration(Se).get("createInsertFormat","number")==="number"?`#${V.number}`:V.html_url;U.insert(e.uri,new o.Position(l,u),` ${z}`),await o.workspace.applyEdit(U)}else{const U="Copy URL",z="Open Issue";o.window.showInformationMessage("Issue created",U,z).then(async K=>{switch(K){case U:await o.env.clipboard.writeText(V.html_url);break;case z:await o.env.openExternal(o.Uri.parse(V.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1}async getPermalinkWithError(){const e=await fn(this.gitAPI);return e.error&&o.window.showWarningMessage(`Unable to create a GitHub permalink for the selection. ${e.error}`),e.permalink}async copyPermalink(){const e=await this.getPermalinkWithError();if(e)return o.env.clipboard.writeText(e)}getMarkdownLinkText(){if(!o.window.activeTextEditor)return;let e=o.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new o.Range(e.start,new o.Position(e.start.line+1,0)));const i=o.window.activeTextEditor.document.getText(e);if(i)return i;if(e=o.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return o.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(){const e=await this.getPermalinkWithError(),i=this.getMarkdownLinkText();if(e&&i)return o.env.clipboard.writeText(`[${i.trim()}](${e})`)}async openPermalink(){const e=await this.getPermalinkWithError();if(e)return o.env.openExternal(o.Uri.parse(e))}}var hp=Object.defineProperty,pp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?hp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class fp{constructor(){pp(this,"_disposables"),this._disposables=[],this._disposables.push(o.window.registerFileDecorationProvider(this))}provideFileDecoration(e,i){if(e.scheme!=="filechange"&&e.scheme!=="github")return;const r=Pr(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status)};const n=Ge(e);if(n&&n.status!==void 0)return{propagate:!1,badge:this.letter(n.status)}}letter(e){switch(e){case ne.MODIFY:return"M";case ne.ADD:return"A";case ne.DELETE:return"D";case ne.RENAME:return"R";case ne.UNKNOWN:return"U";case ne.UNMERGED:return"C"}return""}dispose(){this._disposables.forEach(e=>e.dispose())}}var gp=Object.defineProperty,Rr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?gp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class vp extends $e{constructor(e,i,r,n,s){super();this.parent=e,this.pullRequestManager=i,this.pullRequest=r,this.commit=n,this.comments=s,Rr(this,"sha"),Rr(this,"collapsibleState"),Rr(this,"iconPath"),Rr(this,"contextValue"),this.label=n.commit.message,this.sha=n.sha,this.collapsibleState=o.TreeItemCollapsibleState.Collapsed;let a;try{n.author&&n.author.avatar_url&&(a=o.Uri.parse(`${n.author.avatar_url}&s=${64}`))}catch(l){}this.iconPath=a,this.contextValue="commit"}getTreeItem(){return this}async getChildren(){const i=(await this.pullRequest.getCommitChangedFiles(this.commit)).map(r=>{const n=this.comments.filter(u=>u.path===r.filename&&u.originalCommitId===this.commit.sha),s=r.filename,a=o.Uri.parse(v.join(`commit~${this.commit.sha.substr(0,8)}`,s)),l=new oi(this,this.pullRequestManager,this.pullRequest,Ir(r.status),s,void 0,st(a,s,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),st(a,s,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),[],n,this.commit.sha);return l.useViewChangesCommand(),l});return Promise.resolve(i)}}var wp=Object.defineProperty,Gi=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?wp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class bp extends $e{constructor(e,i,r,n){super();Gi(this,"label","Commits"),Gi(this,"collapsibleState"),Gi(this,"_folderRepoManager"),Gi(this,"_pr"),Gi(this,"_comments"),this.parent=e,this._pr=r,this._folderRepoManager=i,this._comments=n,this.collapsibleState=o.TreeItemCollapsibleState.Collapsed}getTreeItem(){return this}async getChildren(){try{const i=(await this._pr.getCommits()).map(r=>new vp(this,this._folderRepoManager,this._pr,r,this._comments));return Promise.resolve(i)}catch(e){return Promise.resolve([])}}}var yp=Object.defineProperty,Zn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?yp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class kp extends $e{constructor(e,i){super();this.parent=e,this._fileChanges=i,Zn(this,"label","Files"),Zn(this,"collapsibleState"),Zn(this,"directories",[]),this.collapsibleState=o.TreeItemCollapsibleState.Expanded;const r=new Bt(this,"");this._fileChanges.forEach(n=>r.addFile(n)),r.finalize(),r.label===""?this.directories=r.children:this.directories=[r]}getTreeItem(){return this}async getChildren(){let e;return o.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"?e=this.directories:e=this._fileChanges,Promise.resolve(e)}}var _p=Object.defineProperty,Sr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?_p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Rp extends Ht{constructor(e,i,r,n,s){super(e,i.title,i.userAvatarUri,i);this.parent=e,this._pullRequest=i,this._pullRequestManager=r,this._comments=n,this._localFileChanges=s,Sr(this,"_filesCategoryNode"),Sr(this,"_commitsCategoryNode"),Sr(this,"collapsibleState",o.TreeItemCollapsibleState.Expanded),Sr(this,"_disposables",[]),this.label=this._pullRequest.title,this._disposables.push(o.window.onDidChangeActiveTextEditor(a=>{const l=a==null?void 0:a.document.uri.toString();this.revealActiveEditorInTree(l)})),this._disposables.push(this.parent.view.onDidChangeVisibility(a=>{var l;const u=(l=o.window.activeTextEditor)==null?void 0:l.document.uri.toString();this.revealActiveEditorInTree(u)}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const i=this._localFileChanges.find(r=>r.filePath.toString()===e);i&&this.reveal(i,{select:!0})}}async getChildren(){return(!this._filesCategoryNode||!this._commitsCategoryNode)&&(this._filesCategoryNode=new kp(this.parent,this._localFileChanges),this._commitsCategoryNode=new bp(this.parent,this._pullRequestManager,this._pullRequest,this._comments)),[this._filesCategoryNode,this._commitsCategoryNode]}getTreeItem(){return this}dispose(){this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}var Sp=Object.defineProperty,Vi=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Sp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class el extends o.Disposable{constructor(e){super(()=>this.dispose());this._context=e,Vi(this,"_onDidChangeTreeData",new o.EventEmitter),Vi(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Vi(this,"_disposables",[]),Vi(this,"_pullRequestManagerMap",new Map),Vi(this,"_view"),this._view=o.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0}),this._context.subscriptions.push(this._view),this._disposables.push(o.workspace.onDidChangeConfiguration(async i=>{if(i.affectsConfiguration(`${yt}.fileListLayout`)){this._onDidChangeTreeData.fire();const r=o.workspace.getConfiguration(`${yt}`).get("fileListLayout");await o.commands.executeCommand("setContext","fileListLayout:flat",r==="flat")}else i.affectsConfiguration("git.openDiffOnClick")&&this._onDidChangeTreeData.fire()}))}get view(){return this._view}refresh(){this._onDidChangeTreeData.fire()}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const i=this._pullRequestManagerMap.values().next();i.done||(e=i.value.pullRequestModel.number)}this._view.title=e?`Changes in Pull Request #${e}`:"Changes in Pull Request"}async addPrToView(e,i,r,n,s){const a=new Rp(this,i,e,n,r);this._pullRequestManagerMap.set(e,a),this.updateViewTitle(),await o.commands.executeCommand("setContext","github:inReviewMode",!0),this._onDidChangeTreeData.fire(),s&&this._view.reveal(a)}async removePrFromView(e){this._pullRequestManagerMap.delete(e),this.updateViewTitle(),this._pullRequestManagerMap.size===0&&this.hide(),this._onDidChangeTreeData.fire()}async hide(){await o.commands.executeCommand("setContext","github:inReviewMode",!1)}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,i){this._view.reveal(e,i)}async getChildren(e){if(e)return await e.getChildren();{const i=[];if(this._pullRequestManagerMap.size>=1)for(const r of this._pullRequestManagerMap.values())i.push(r);return i}}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,i){return i instanceof oi&&await i.resolve(),i}dispose(){this._disposables.forEach(e=>e.dispose())}}var Ep=Object.defineProperty,It=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ep(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),_t;(function(t){t[t.Empty=0]="Empty",t[t.More=1]="More",t[t.TryOtherRemotes=2]="TryOtherRemotes",t[t.Login=3]="Login",t[t.NoRemotes=4]="NoRemotes",t[t.NoGitRepositories=5]="NoGitRepositories",t[t.NoOpenFolder=6]="NoOpenFolder",t[t.NoMatchingRemotes=7]="NoMatchingRemotes",t[t.ConfigureRemotes=8]="ConfigureRemotes",t[t.Initializing=9]="Initializing"})(_t||(_t={}));class dt extends $e{constructor(e,i,r){super();switch(It(this,"collapsibleState"),It(this,"iconPath"),It(this,"type"),It(this,"command"),this.parent=e,this.type=i,this.collapsibleState=o.TreeItemCollapsibleState.None,i){case 0:this.label="0 pull requests in this category";break;case 1:this.label="Load more",this.command={title:"Load more",command:"pr.loadMore",arguments:[r]};break;case 2:this.label="Continue fetching from other remotes",this.command={title:"Load more",command:"pr.loadMore",arguments:[r]};break;case 3:this.label="Sign in",this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label="No GitHub repositories found.";break;case 5:this.label="No git repositories found.";break;case 6:this.label="You have not yet opened a folder.";break;case 7:this.label="No remotes match the current setting.";break;case 8:this.label="Configure remotes...",this.command={title:"Configure remotes",command:"pr.configureRemotes",arguments:[]};break;case 9:this.label="Loading...";break;default:break}}getTreeItem(){return this}}class Xn extends $e{constructor(e,i,r,n,s,a){super();switch(this.parent=e,this._folderRepoManager=i,this._telemetry=r,this._type=n,this._categoryQuery=a,It(this,"collapsibleState"),It(this,"prs"),It(this,"fetchNextPage",!1),It(this,"repositoryPageInformation",new Map),this.prs=[],this.collapsibleState=this._type===Pe.All?o.TreeItemCollapsibleState.Expanded:o.TreeItemCollapsibleState.Collapsed,n){case Pe.All:this.label="All Open";break;case Pe.Query:this.label=s;break;case Pe.LocalPullRequest:this.label="Local Pull Request Branches";break;default:break}}async getChildren(){this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(n=>n.dispose()),this.childrenDisposables=[]);let e=!1,i=!1,r=!1;if(this._type===Pe.LocalPullRequest)try{this.prs=await this._folderRepoManager.getLocalPullRequests(),this._telemetry.sendTelemetryEvent("pr.expand.local")}catch(n){o.window.showErrorMessage(`Fetching local pull requests failed: ${A(n)}`),r=n instanceof ir}else if(this.fetchNextPage){try{const n=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!0},this._categoryQuery);this.prs=this.prs.concat(n.items),e=n.hasMorePages,i=n.hasUnsearchedRepositories}catch(n){o.window.showErrorMessage(`Fetching pull requests failed: ${A(n)}`),r=n instanceof ir}this.fetchNextPage=!1}else try{const n=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!1},this._categoryQuery);switch(this.prs=n.items,e=n.hasMorePages,i=n.hasUnsearchedRepositories,this._type){case Pe.All:this._telemetry.sendTelemetryEvent("pr.expand.all");break;case Pe.Query:this._telemetry.sendTelemetryEvent("pr.expand.query");break}}catch(n){o.window.showErrorMessage(`Fetching pull requests failed: ${A(n)}`),r=n instanceof ir}if(this.prs&&this.prs.length){const n=this.prs.map(s=>new ci(this,this._folderRepoManager,s,this._type===Pe.LocalPullRequest));return e?n.push(new dt(this,1,this)):i&&n.push(new dt(this,2,this)),this.childrenDisposables=n,n}else{const n=r?3:0,s=[new dt(this,n)];return this.childrenDisposables=s,s}}getTreeItem(){return this}}var Cp=Object.defineProperty,tl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const il="queries";class Hi extends $e{constructor(e,i,r,n){super();this.folderManager=r,this.telemetry=n,tl(this,"collapsibleState"),tl(this,"iconPath"),this.parent=e,this.collapsibleState=o.TreeItemCollapsibleState.Expanded,this.label=v.basename(i.fsPath)}static getQueries(e){return o.workspace.getConfiguration(yt,e.repository.rootUri).get(il)||[]}getTreeItem(){return this}async getChildren(){return Hi.getCategoryTreeNodes(this.folderManager,this.telemetry,this)}static getCategoryTreeNodes(e,i,r){const n=Hi.getQueries(e).map(s=>new Xn(r,e,i,Pe.Query,s.label,s.query));return[new Xn(r,e,i,Pe.LocalPullRequest),...n,new Xn(r,e,i,Pe.All)]}}var Tp=Object.defineProperty,At=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Tp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class rl{constructor(e){this._telemetry=e,At(this,"_onDidChangeTreeData",new o.EventEmitter),At(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),At(this,"_onDidChange",new o.EventEmitter),At(this,"_disposables"),At(this,"_childrenDisposables"),At(this,"_view"),At(this,"_reposManager"),At(this,"_initialized",!1),this._disposables=[],this._disposables.push(o.workspace.registerTextDocumentContentProvider("pr",Ja())),this._disposables.push(o.window.registerFileDecorationProvider(Ha)),this._disposables.push(o.window.registerFileDecorationProvider(yn)),this._disposables.push(o.commands.registerCommand("pr.refreshList",i=>{this._onDidChangeTreeData.fire()})),this._disposables.push(o.commands.registerCommand("pr.loadMore",i=>{i.fetchNextPage=!0,this._onDidChangeTreeData.fire(i)})),this._view=o.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0}),this._disposables.push(this._view),this._childrenDisposables=[],this._disposables.push(o.commands.registerCommand("pr.configurePRViewlet",async()=>{var i;const r=((i=this._reposManager)==null?void 0:i.state)===Qe.RepositoriesLoaded;switch(await o.window.showQuickPick(["Configure Remotes...","Configure Queries...",...r?["Sign out of GitHub..."]:[]])){case"Configure Queries...":return o.commands.executeCommand("workbench.action.openSettings",`@ext:${xt} queries`);case"Configure Remotes...":return o.commands.executeCommand("workbench.action.openSettings",`@ext:${xt} remotes`);case"Sign out of GitHub...":return o.commands.executeCommand("auth.signout");default:return}})),this._disposables.push(o.workspace.onDidChangeConfiguration(i=>{i.affectsConfiguration(`${yt}.fileListLayout`)&&this._onDidChangeTreeData.fire()}))}get onDidChange(){return this._onDidChange.event}get view(){return this._view}async reveal(e,i){return this._view.reveal(e,i)}initialize(e){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._reposManager=e,this._disposables.push(this._reposManager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),this._disposables.push(...this._reposManager.folderManagers.map(i=>i.onDidChangeRepositories(()=>{this._onDidChangeTreeData.fire()}))),this.initializeCategories(),this.refresh()}async initializeCategories(){this._disposables.push(o.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${yt}.${il}`)&&this.refresh()}))}refresh(e){return e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,i){return i instanceof fr&&await i.resolve(),i}needsRemotes(){var e;return((e=this._reposManager)==null?void 0:e.state)===Qe.NeedsAuthentication?Promise.resolve([]):o.workspace.getConfiguration(yt).get(wn)?Promise.resolve([new dt(this,_t.NoMatchingRemotes),new dt(this,_t.ConfigureRemotes)]):Promise.resolve([new dt(this,_t.NoRemotes)])}async getChildren(e){if(!this._reposManager)return o.workspace.workspaceFolders?Promise.resolve([new dt(this,_t.NoGitRepositories)]):Promise.resolve([new dt(this,_t.NoOpenFolder)]);if(this._reposManager.state===Qe.Initializing)return Promise.resolve([new dt(this,_t.Initializing)]);if(this._reposManager.folderManagers.filter(i=>i.getGitHubRemotes().length>0).length===0)return this.needsRemotes();if(!e){this._childrenDisposables&&this._childrenDisposables.length&&this._childrenDisposables.forEach(r=>r.dispose());let i;return this._reposManager.folderManagers.length===1?i=Hi.getCategoryTreeNodes(this._reposManager.folderManagers[0],this._telemetry,this):i=this._reposManager.folderManagers.map(r=>new Hi(this,r.repository.rootUri,r,this._telemetry)),this._childrenDisposables=i,Promise.resolve(i)}return this._reposManager.folderManagers.filter(i=>i.repository.state.remotes.length>0).length===0?Promise.resolve([new dt(this,_t.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}dispose(){this._disposables.forEach(e=>e.dispose())}}var Np=Object.defineProperty,nl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Np(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Pp{constructor(e){this.gitAPI=e,nl(this,"_onDidChange",new o.EventEmitter),nl(this,"_fallback")}get onDidChange(){return this._onDidChange.event}async provideTextDocumentContent(e,i){if(!this._fallback)return"";const{path:r,commit:n,rootPath:s}=Wt(e);if(!r||!n)return"";const a=ha(this.gitAPI,o.Uri.file(s));if(!a)return o.window.showErrorMessage(`We couldn't find an open repository for ${n} locally.`),"";const l=v.join(a.rootUri.fsPath,r).replace(/\\/g,"/");let u;try{if(u=await a.show(n,l),!u)throw new Error}catch(c){if(u=await this._fallback(e),!u)try{await a.getCommit(n)}catch(p){o.window.showErrorMessage(`We couldn't find commit ${n} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return u||""}registerTextDocumentContentFallback(e){this._fallback=e}}var Fp=Object.defineProperty,sl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class al{constructor(e,i,r,n,s,a,l){this._context=e,this._reposManager=i,this._reviewManagers=r,this._prsTreeDataProvider=n,this._prFileChangesProvider=s,this._telemetry=a,sl(this,"_disposables"),this._disposables=[];const u=new Pp(l);u.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._disposables.push(o.workspace.registerTextDocumentContentProvider("review",u)),this.registerListeners(),this._disposables.push(this._prsTreeDataProvider)}registerListeners(){this._disposables.push(o.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new el(this._context);for(const i of this._reviewManagers)i.updateState()}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=new rl(this._telemetry),this._prsTreeDataProvider.initialize(this._reposManager),this._disposables.push(this._prsTreeDataProvider)}}))}async provideTextDocumentContent(e){for(const i of this._reviewManagers)if(e.fsPath.startsWith(i.repository.rootUri.fsPath))return i.provideTextDocumentContent(e);return""}dispose(){this._disposables.forEach(e=>{e.dispose()})}}sl(al,"ID","Reviews");const Dp="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217";let Oe;const ol="prompts",ll="createPROnPublish";async function ul(t,e,i,r,n,s){t.subscriptions.push($),$.appendLine("Git repository found, initializing review manager and pr tree view."),o.authentication.onDidChangeSessions(async U=>{U.provider.id==="github"&&(await u.clearCredentialCache(),p&&p.forEach(z=>z.updateState()))}),t.subscriptions.push(e.onDidPublish(async U=>{if(!U.branch||Xa(ol,ll)===!1)return;const z=p.find(ee=>ee.repository.rootUri.toString()===U.repository.rootUri.toString());if(z==null?void 0:z.isCreatingPullRequest)return;const K="Create Pull Request...",Z="Don't Show Again",ie=await o.window.showInformationMessage(`Would you like to create a Pull Request for branch '${U.branch}'?`,K,Z);ie===K?o.commands.executeCommand("pr.create"):ie===Z&&eo(ol,ll,!1)})),t.subscriptions.push(o.window.registerUriHandler(yl)),t.subscriptions.push(new fp);const a=o.workspace.workspaceFolders;a&&(r=r.sort((U,z)=>{let K=a.length,Z=a.length;for(let ie=0;ie<a.length&&(a[ie].uri.toString()===U.rootUri.toString()?K=ie:a[ie].uri.toString()===z.rootUri.toString()&&(Z=ie),!(K!==a.length&&Z!==a.length));ie++);return K-Z}));const l=r.map(U=>new si(t,U,Oe,e,i));t.subscriptions.push(...l);const u=new Qo(l,i,Oe);t.subscriptions.push(u),s.then(U=>{U&&U.registerContactServiceProvider("github-pr",new Vh(u))});const c=new el(t);t.subscriptions.push(c);const p=l.map(U=>new Vt(t,U.repository,U,Oe,c)),b=new al(t,u,p,n,c,Oe,e);t.subscriptions.push(b),e.onDidChangeState(()=>{$.appendLine(`Git initialization state changed: state=${e.state}}`),p.forEach(U=>U.updateState())}),e.onDidOpenRepository(U=>{const z=U.state.onDidChange(()=>{const K=new si(t,U,Oe,e,i);u.insertFolderManager(K);const Z=new Vt(t,K.repository,K,Oe,c);p.push(Z),n.refresh(),z.dispose()})}),e.onDidCloseRepository(U=>{u.removeRepo(U);const z=p.findIndex(K=>K.repository.rootUri.toString()===U.rootUri.toString());if(z){const K=p[z];p.splice(z),K.dispose()}n.refresh()}),n.initialize(u),Ud(t,u,p,Oe,i,n);const _=o.workspace.getConfiguration("githubPullRequests").get("fileListLayout");await o.commands.executeCommand("setContext","fileListLayout:flat",_==="flat");const q=new mp(e,u,p,t,Oe);t.subscriptions.push(q),await q.initialize(),t.subscriptions.push(new Bh),await o.commands.executeCommand("setContext","github:initialized",!0);const V=await jd(t,Oe);await V.initializePromise,await V.isCachedFlightEnabled("githubaa"),Oe.sendTelemetryEvent("startup")}async function Ip(t){if(xt==="GitHub.vscode-pull-request-github-insiders"&&o.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");o.commands.registerCommand("github.api.preloadPullRequest",async()=>{await o.commands.executeCommand("setContext",Ot,!0),await o.commands.executeCommand("github:activePullRequest:welcome.focus")}),at.initialize(t);const e=new is,i=o.extensions.getExtension(xt).packageJSON.version;return Oe=new Vd(new D.Z(xt,i,Dp)),t.subscriptions.push(Oe),Ap(t,e),e}async function Ap(t,e){$d(t);const i=new Eh(Oe);t.subscriptions.push(i),await i.initialize();const r=$h(i,e);r&&t.subscriptions.push(r);const n=Lh(e);t.subscriptions.push(n);const s=n.initialize();t.subscriptions.push(e);const a=new rl(Oe);t.subscriptions.push(a),$.appendLine("Looking for git repository");const l=e.repositories;l.length>0?await ul(t,e,i,l,a,s):S(e.onDidOpenRepository)(async u=>{await ul(t,e,i,[u],a,s)})}async function Mp(){Oe&&Oe.dispose()}})(),module.exports=Er})();
